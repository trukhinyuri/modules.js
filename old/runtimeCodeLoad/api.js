CARROTQUEST_JS_BUILD_DATE = '2018-03-28 14:36:15.988562';
var CARROTQUEST_ALL_CSS='.carrotquest-css-reset,.carrotquest-css-reset div,.carrotquest-css-reset span,.carrotquest-css-reset applet,.carrotquest-css-reset object,.carrotquest-css-reset iframe,.carrotquest-css-reset h1,.carrotquest-css-reset h2,.carrotquest-css-reset h3,.carrotquest-css-reset h4,.carrotquest-css-reset h5,.carrotquest-css-reset h6,.carrotquest-css-reset p,.carrotquest-css-reset blockquote,.carrotquest-css-reset pre,.carrotquest-css-reset a,.carrotquest-css-reset abbr,.carrotquest-css-reset acronym,.carrotquest-css-reset address,.carrotquest-css-reset big,.carrotquest-css-reset cite,.carrotquest-css-reset code,.carrotquest-css-reset del,.carrotquest-css-reset dfn,.carrotquest-css-reset em,.carrotquest-css-reset img,.carrotquest-css-reset ins,.carrotquest-css-reset kbd,.carrotquest-css-reset q,.carrotquest-css-reset s,.carrotquest-css-reset samp,.carrotquest-css-reset small,.carrotquest-css-reset strike,.carrotquest-css-reset strong,.carrotquest-css-reset sub,.carrotquest-css-reset sup,.carrotquest-css-reset tt,.carrotquest-css-reset var,.carrotquest-css-reset b,.carrotquest-css-reset u,.carrotquest-css-reset i,.carrotquest-css-reset center,.carrotquest-css-reset dl,.carrotquest-css-reset dt,.carrotquest-css-reset dd,.carrotquest-css-reset ol,.carrotquest-css-reset ul,.carrotquest-css-reset li,.carrotquest-css-reset fieldset,.carrotquest-css-reset form,.carrotquest-css-reset div.form,.carrotquest-css-reset label,.carrotquest-css-reset legend,.carrotquest-css-reset table,.carrotquest-css-reset caption,.carrotquest-css-reset tbody,.carrotquest-css-reset tfoot,.carrotquest-css-reset thead,.carrotquest-css-reset tr,.carrotquest-css-reset th,.carrotquest-css-reset td,.carrotquest-css-reset article,.carrotquest-css-reset aside,.carrotquest-css-reset canvas,.carrotquest-css-reset details,.carrotquest-css-reset figcaption,.carrotquest-css-reset figure,.carrotquest-css-reset footer,.carrotquest-css-reset header,.carrotquest-css-reset hgroup,.carrotquest-css-reset menu,.carrotquest-css-reset nav,.carrotquest-css-reset section,.carrotquest-css-reset summary,.carrotquest-css-reset time,.carrotquest-css-reset mark,.carrotquest-css-reset audio,.carrotquest-css-reset video,.carrotquest-css-reset button,.carrotquest-css-reset textarea,.carrotquest-css-reset input,.carrotquest-css-reset input:hover,.carrotquest-css-reset a:hover{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:transparent;background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:#fff;border-bottom:0;border-bottom-color:#fff;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:#fff;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:#fff;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:#fff;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;bottom:auto;box-shadow:none;box-sizing:content-box;caption-side:top;clear:none;clip:auto;color:#000;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;content:normal;counter-increment:none;counter-reset:none;cursor:auto;direction:ltr;display:inline;empty-cells:show;float:none;font:normal;font-family:inherit;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;left:auto;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;max-height:none;max-width:none;min-height:0;min-width:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;position:static;quotes:"\201C" "\201D" "\2018" "\2019";right:auto;tab-size:8;table-layout:auto;text-align:left;text-align-last:auto;text-decoration:none;text-decoration-color:#000;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;top:auto;transform:none;transform-style:flat;transition:none;transition-delay:0;transition-duration:0;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;width:auto;word-spacing:normal;z-index:auto}.carrotquest-clearfix{display:block!important;clear:both!important}@keyframes carrotquest-fadein{from{opacity:0}to{opacity:1}}@-moz-keyframes carrotquest-fadein{from{opacity:0}to{opacity:1}}@-webkit-keyframes carrotquest-fadein{from{opacity:0}to{opacity:1}}@-ms-keyframes carrotquest-fadein{from{opacity:0}to{opacity:1}}@-o-keyframes carrotquest-fadein{from{opacity:0}to{opacity:1}}{}.carrotquest-message-noscroll{overflow:hidden!important}.carrotquest-message-mobil-noscroll{overflow:hidden;height:100%;width:100%;position:fixed}#carrotquest-messenger{top:0;bottom:0;background:rgba(255,255,255,0.97);z-index:2147483000!important;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;-webkit-font-smoothing:auto!important;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;-ms-backface-visibility:hidden;font-size:14px!important;display:block!important}#carrotquest-messenger *{color:#555;line-height:1.35}#carrotquest-messenger.carrotquest-messenger-line-left{left:0}#carrotquest-messenger.carrotquest-messenger-line-right,#carrotquest-messenger.carrotquest-messenger-line-right #carrotquest-messenger-body ul,#carrotquest-messenger.carrotquest-messenger-line-right #carrotquest-messenger-body{right:0!important}#carrotquest-messenger-title{margin:0 40px;font-size:17px;text-align:center;line-height:48px;overflow:hidden;display:block;white-space:nowrap;text-overflow:ellipsis;pointer-events:none}#carrotquest-messenger-title img{width:30px;height:30px;vertical-align:middle;border-radius:20px}#carrotquest-messenger-title span{vertical-align:middle!important;margin-left:5px!important;line-height:48px}#carrotquest-messenger-head{background:#fff;font-size:16px;line-height:50px;color:#000;padding:0 5px;display:block;height:50px;border-style:solid;border-width:0 0 1px 0;border-color:#ddd;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}#carrotquest-messenger-headcontainer{float:right;width:40px;margin-top:5px}#carrotquest-messenger-innerreply-leftcont{width:auto;overflow:hidden;display:block;margin-right:35px}#carrotquest-messenger-innerreply-submit{float:right;cursor:pointer;display:block;background-repeat:no-repeat;background-position:6px 6px;border-width:1px 1px 1px 0;border-radius:0 4px 4px 0;border-style:solid;border-color:#ccc;background-color:#fcfcfc;height:32px;box-sizing:border-box;width:37px}#carrotquest-messenger-innerreply-submit:hover{background-color:#f3f3f3}#carrotquest-messenger-innerreply-button-submit{text-align:center;padding:12px 30px;color:#fff!important;border-radius:5px;display:inline-block!important;cursor:pointer;text-decoration:none!important}#carrotquest-messenger-innerreply-button-submit:hover{opacity:.8}#carrotquest-messenger-head-close{height:16px;width:18px;float:right;cursor:pointer;display:block;margin:17px 13px 0 0}#carrotquest-messenger-headmenu{height:16px;width:18px;float:left;cursor:pointer;margin:17px 0 0 13px;display:block}#carrotquest-messenger-collapsed{position:fixed;padding:10px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif!important;-webkit-font-smoothing:antialiased!important;-webkit-backface-visibility:hidden;-moz-backface-visibility:hidden;-ms-backface-visibility:hidden;font-size:14px!important;z-index:2147483000!important;display:table}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top{padding:15px 15px 0 0}#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom{padding:0 15px 15px 0}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top{padding:15px 0 0 15px}#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom{padding:0 0 15px 15px}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-messenger-collapsed-img-cont,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-messenger-collapsed-img-cont{padding-left:10px}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-messenger-collapsed-img-cont,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-messenger-collapsed-img-cont{padding-right:10px}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-messenger-collapsed-img-cont,#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-messenger-collapsed-img-cont{vertical-align:top}#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-messenger-collapsed-img-cont,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-messenger-collapsed-img-cont{vertical-align:bottom}@-webkit-keyframes carrotquest-collapsedcounter-zoomin-anim{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes carrotquest-collapsedcounter-zoomin-anim{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}50%{opacity:1}}@-webkit-keyframes carrotquest-collapsedtext-anim-keyframes{0%{opacity:0;-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1);opacity:1}}@keyframes carrotquest-collapsedtext-anim-keyframes{0%{opacity:0;-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%{-webkit-transform:scale3d(1.1,1.1,1.1);transform:scale3d(1.1,1.1,1.1);opacity:1}}.carrotquest-collapsedcounter-zoomin{-webkit-animation-name:carrotquest-collapsedcounter-zoomin-anim!important;-webkit-animation-duration:.3s!important;animation-name:carrotquest-collapsedcounter-zoomin-anim!important;animation-duration:.3s!important}.carrotquest-collapsedtext-anim{-webkit-animation-duration:.2s!important;animation-duration:.2s!important;-webkit-animation-name:carrotquest-collapsedtext-anim-keyframes!important;animation-name:carrotquest-collapsedtext-anim-keyframes!important}.carrotquest-conversationparts-loaded-animation{-webkit-animation:carrotquest-fadein .3s!important;-moz-animation:carrotquest-fadein .3s!important;-ms-animation:carrotquest-fadein .3s!important;-o-animation:carrotquest-fadein .3s!important;animation:carrotquest-fadein .3s!important}.carrotquest-conversations-loaded-animation{-webkit-animation:carrotquest-fadein .3s!important;-moz-animation:carrotquest-fadein .3s!important;-ms-animation:carrotquest-fadein .3s!important;-o-animation:carrotquest-fadein .3s!important;animation:carrotquest-fadein .3s!important}.carrotquest-messenger-covnersationpart-animation{-webkit-animation:carrotquest-messenger-covnersationpart-animation-keyframes .3s!important;animation:carrotquest-messenger-covnersationpart-animation-keyframes .3s!important}.carrotquest-messenger-covnersationpart-animation[data-direction="u2a"]{-webkit-transform-origin:100% 50%;transform-origin:100% 50%}.carrotquest-messenger-covnersationpart-animation[data-direction="a2u"],.carrotquest-messenger-covnersationpart-animation[data-direction="a2u-service"]{-webkit-transform-origin:0 50%;transform-origin:0 50%}@-webkit-keyframes carrotquest-messenger-covnersationpart-animation-keyframes{0%{opacity:0;-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%{opacity:1}}@keyframes carrotquest-messenger-covnersationpart-animation-keyframes{0%{opacity:0;-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}50%{opacity:1}}.carrotquest-messenger-typing-cont{width:40px!important;display:table!important;height:18px!important}.carrotquest-messenger-typing{width:40px!important;display:table-cell!important;text-align:center!important;vertical-align:middle!important}.carrotquest-messenger-typing>div{width:8px!important;height:8px!important;background-color:#555!important;vertical-align:middle!important;border-radius:100%!important;display:inline-block!important;-webkit-animation:carrotquest-messenger-typing-bouncedelay 1.4s infinite ease-in-out!important;animation:carrotquest-messenger-typing-bouncedelay 1.4s infinite ease-in-out!important;-webkit-animation-fill-mode:both!important;animation-fill-mode:both!important}.carrotquest-messenger-typing .carrotquest-messenger-typing-bounce1{-webkit-animation-delay:-0.32s!important;animation-delay:-0.32s!important}.carrotquest-messenger-typing .carrotquest-messenger-typing-bounce2{-webkit-animation-delay:-0.16s!important;animation-delay:-0.16s!important}@-webkit-keyframes carrotquest-messenger-typing-bouncedelay{0%,80%,100%{-webkit-transform:scale(0.0)}40%{-webkit-transform:scale(1.0)}}@keyframes carrotquest-messenger-typing-bouncedelay{0%,80%,100%{transform:scale(0.0);-webkit-transform:scale(0.0)}40%{transform:scale(1.0);-webkit-transform:scale(1.0)}}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top .carrotquest-collapsedtext-anim,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom .carrotquest-collapsedtext-anim{-webkit-transform-origin:100% 50%;transform-origin:100% 50%}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top .carrotquest-collapsedtext-anim,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom .carrotquest-collapsedtext-anim{-webkit-transform-origin:0 50%;transform-origin:0 50%}#carrotquest-messenger-collapsed-close:hover{opacity:.9}#carrotquest-messenger-collapsed-close{width:18px;height:18px;display:none;position:absolute;z-index:2147483005!important;cursor:pointer}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-messenger-collapsed-close,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-messenger-collapsed-close{top:-6px;left:-6px}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-messenger-collapsed-close,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-messenger-collapsed-close{top:-6px;right:-6px}#carrotquest-messenger-collapsedcounter{background-color:#ff6900;font-weight:bold;font-size:13px!important;color:white;border-radius:20px;cursor:pointer;display:inline-block;width:17px;height:17px;position:absolute;text-align:center;border:2px solid #ff6900}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-messenger-collapsedcounter,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-messenger-collapsedcounter{left:42px}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-messenger-collapsedcounter,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-messenger-collapsedcounter{left:-7px}#carrotquest-messenger-collapsed-img-cont{position:relative;display:table-cell;z-index:2147483004!important}#carrotquest-messenger-collapsed>div>img{width:40px;height:40px;box-shadow:0 6px 10px rgba(0,0,0,0.25);cursor:pointer;border-radius:50px}#carrotquest-messenger-collapsed #carrotquest-collapsed-text:hover,#carrotquest-messenger-collapsed #carrotquest-collapsed-text *:hover{cursor:pointer}#carrotquest-messenger-collapsed #carrotquest-collapsed-text #carrotquest-collapsed-text-text-cont{font-size:14px;line-height:17px;cursor:pointer;max-width:200px;max-height:153px;overflow:hidden;color:#fff;display:block;margin:11px 14px}#carrotquest-messenger-collapsed[data-conversation-id] #carrotquest-collapsed-text #carrotquest-collapsed-text-text-cont{color:#767676}#carrotquest-messenger-collapsed #carrotquest-collapsed-text{border-radius:8px;color:#fff;z-index:2147483003!important;position:relative;display:table-cell;vertical-align:middle;box-shadow:0 6px 10px rgba(0,0,0,0.25)}#carrotquest-messenger-collapsed[data-conversation-id] #carrotquest-collapsed-text{background:rgba(255,255,255,0.98);color:#767676;border:1px solid #f2f2f2}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-collapsed-text:before,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-collapsed-text:before{left:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-collapsed-text:before{top:24px}#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-collapsed-text:before{bottom:17px}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-collapsed-text:after{border-color:rgba(255,255,255,0);border-width:6px;margin-top:-6px}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top[data-conversation-id] #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom[data-conversation-id] #carrotquest-collapsed-text:after{border-left-color:#fff}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-collapsed-text:before,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-collapsed-text:before{border-color:rgba(204,204,204,0);border-width:7px;margin-top:-7px}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top[data-conversation-id] #carrotquest-collapsed-text:before,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom[data-conversation-id] #carrotquest-collapsed-text:before{border-left-color:#f2f2f2}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-collapsed-text:before,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-collapsed-text:before{right:100%;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-collapsed-text:before{top:24px}#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-collapsed-text:before{bottom:17px}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-collapsed-text:after{border-color:rgba(255,255,255,0);border-width:6px;margin-top:-6px}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top[data-conversation-id] #carrotquest-collapsed-text:after,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom[data-conversation-id] #carrotquest-collapsed-text:after{border-right-color:#fff}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-collapsed-text:before,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-collapsed-text:before{border-color:rgba(204,204,204,0);border-width:7px;margin-top:-7px}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top[data-conversation-id] #carrotquest-collapsed-text:before,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom[data-conversation-id] #carrotquest-collapsed-text:before{border-right-color:#f2f2f2}#carrotquest-messenger-collapsed-menu{background:url("//cdn.carrotquest.io/img/messengericons-v2.png") 0 -32px;height:20px;width:20px;display:inline-block;vertical-align:middle;cursor:pointer}#carrotquest-messenger-collapsed-menu:hover{opacity:.8}.carrotquest-messenger-right_top{right:0!important;top:0!important}.carrotquest-messenger-right_bottom{right:0!important;bottom:0!important}.carrotquest-messenger-left_top{left:0!important;top:0!important}.carrotquest-messenger-left_bottom{left:0!important;bottom:0!important}.carrotquest-messenger-line-right.carrotquest-messenger-small{box-shadow:-1px 0 10px 0 rgba(0,0,0,0.2)!important}.carrotquest-messenger-line-anim{-webkit-animation-duration:.2s!important;-webkit-backface-visibility:hidden!important;-webkit-transform:translateZ(0)!important;animation-duration:.2s!important}.carrotquest-messenger-line-anim-left_top{-webkit-animation-name:carrotquest-move-anim-l!important;animation-name:carrotquest-move-anim-l!important}.carrotquest-messenger-line-anim-left_bottom{-webkit-animation-name:carrotquest-move-anim-l!important;animation-name:carrotquest-move-anim-l!important}.carrotquest-messenger-line-anim-right_top{-webkit-animation-name:carrotquest-move-anim-r!important;animation-name:carrotquest-move-anim-r!important}.carrotquest-messenger-line-anim-right_bottom{-webkit-animation-name:carrotquest-move-anim-r!important;animation-name:carrotquest-move-anim-r!important}@-webkit-keyframes carrotquest-move-anim-r{0%{opacity:0;right:-370px}}@keyframes carrotquest-move-anim-r{0%{opacity:0;right:-370px}}@-webkit-keyframes carrotquest-move-anim-l{0%{opacity:0;left:-370px}}@keyframes carrotquest-move-anim-l{0%{opacity:0;left:-370px}}.carrotquest-messenger-line-left.carrotquest-messenger-small{box-shadow:-1px 0 10px 0 rgba(0,0,0,0.2)!important}.carrotquest-messenger-small{width:370px!important;position:fixed!important}.carrotquest-messenger-big{width:100%!important;position:fixed!important}#carrotquest-messenger-collapsed img{vertical-align:middle}#carrotquest-messenger-collapsed img:hover{cursor:pointer}#carrotquest-messenger-body{display:block;font-size:14px;background:#fff;border-radius:0 0 3px 3px}#carrotquest-messenger-body span{font-size:14px}#carrotquest-messenger-body div{font-size:14px}#carrotquest-messenger-body h1{font-size:30px;display:block;margin-top:8px;line-height:34px}#carrotquest-messenger-body h2{font-size:20px;display:block;margin-top:6px;line-height:28px}#carrotquest-messenger-body p{font-size:14px;display:block;margin-top:3px}#carrotquest-messenger-body p:first-child{margin-top:0}#carrotquest-messenger-body b{display:inline;font-size:14px;font-weight:bold}#carrotquest-messenger-body strong{display:inline;font-size:14px;font-weight:bold}#carrotquest-messenger-body a{font-size:14px;display:inline;text-decoration:underline;color:#36b}#carrotquest-messenger-body a:hover{font-size:14px;display:inline;color:#36b;text-decoration:none}#carrotquest-messenger-body ul{list-style:disc outside;padding-bottom:3px;display:block}#carrotquest-messenger-body ul li{display:list-item;margin-left:20px}#carrotquest-messenger-body .carrotquest-messenger-attachment-img{max-width:100%;display:block;margin:0 auto;border-radius:3px}#carrotquest-messenger-body iframe{position:absolute;top:0;left:0;width:100%;height:100%}#carrotquest-messenger-body .f-video-editor,#carrotquest-messenger-body .fr-video{margin:10px 0;position:relative;padding-bottom:56.25%;padding-top:25px;height:0;display:block}#carrotquest-messenger-body .carrotquest-messenger-button{color:#fff;border-radius:4px;display:table;margin:15px auto;padding:10px;cursor:pointer;text-decoration:none;background:#252525}#carrotquest-messenger-body .carrotquest-messenger-button:hover{opacity:.9;display:table;text-decoration:none;background:#505050;color:#fff}.carrotquest-messenger-line-right .carrotquest-messenger-conversation-ul-loading{right:0!important}.carrotquest-messenger-line-left .carrotquest-messenger-conversation-ul-loading{left:0!important}.carrotquest-messenger-conversation-ul-loading{display:block!important;position:fixed!important;top:51px!important;bottom:0!important;overflow:auto!important}.carrotquest-messenger-small .carrotquest-messenger-conversation-ul{width:370px!important}.carrotquest-messenger-big .carrotquest-messenger-conversation-ul{width:100%!important}.carrotquest-messenger-line-left .carrotquest-messenger-conversation-ul{left:0!important}.carrotquest-messenger-line-right .carrotquest-messenger-conversation-ul{right:0!important}.carrotquest-messenger-conversation-ul{display:block!important;position:fixed!important;top:51px!important;bottom:72px!important;overflow:auto!important}.carrotquest-messenger-conversation-ul.carrotquest-messenger-conversation-ul-poweredby{bottom:88px!important}.carrotquest-messenger-conversation-ul>li{padding:5px 10px;height:60px;display:block;overflow:hidden;margin-left:0!important;border-bottom-color:#e1e1e1;border-bottom-style:solid;border-bottom-width:1px}.carrotquest-messenger-conversation-ul>li:hover{background:rgba(230,230,230,0.5)}.carrotquest-messenger-conversation-ul>li>img{float:left;margin-right:5px;cursor:pointer;border-radius:38px;border:2px solid #b4dce7;margin-top:7px!important;vertical-align:middle;width:38px;height:38px;background-color:#e0e0e0}.carrotquest-messenger-conversationslist-cont-right{float:right!important;display:block!important;width:30px!important}.carrotquest-messenger-conversationslist-cont-middle{margin:-17px 45px 0 55px!important;display:block!important}.carrotquest-messenger-conversationslist-cont-middle>div{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;font-weight:bold}.carrotquest-messenger-conversationslist-cont-middle>span{height:38px;overflow:hidden;display:inline-block;word-break:break-word}.carrotquest-messenger-conversation-ul>li:hover{cursor:pointer;border-left-color:#649fdf}.carrotquest-messenger-conversation-ul>li,.carrotquest-messenger-conversation-ul>li *{cursor:pointer!important}#carrotquest-messenger.carrotquest-messenger-big #carrotquest-messenger-head,#carrotquest-messenger.carrotquest-messenger-big #carrotquest-messenger-head *{display:none}#carrotquest-messenger-body-big-cont{display:block;max-width:600px;width:100%;margin:0 auto;padding-bottom:10px;position:relative}@-webkit-keyframes carrotquest-bigpopup-enter-anim{0%{opacity:0;-webkit-transform:scale3d(.3,.3,.3);transform:scale3d(.3,.3,.3)}}@keyframes carrotquest-bigpopup-enter-anim{0%{opacity:0;-webkit-transform:scale3d(.0,.0,.0);transform:scale3d(.0,.0,.0)}}#carrotquest-messenger-body-big-cont{-webkit-animation:carrotquest-bigpopup-enter-anim .3s;-moz-animation:carrotquest-bigpopup-enter-anim .3s;-ms-animation:carrotquest-bigpopup-enter-anim .3s;-o-animation:carrotquest-bigpopup-enter-anim .3s;animation:carrotquest-bigpopup-enter-anim .3s}#carrotquest-messenger.carrotquest-messenger-small[data-truncate-visibility] .carrotquest-messenger-conversationpart-ul{-webkit-animation:carrotquest-bigpopup-enter-anim .2s!important;-moz-animation:carrotquest-bigpopup-enter-anim .2s!important;-ms-animation:carrotquest-bigpopup-enter-anim .2s!important;-o-animation:carrotquest-bigpopup-enter-anim .2s!important;animation:carrotquest-bigpopup-enter-anim .2s!important}#carrotquest-messenger.carrotquest-messenger-big #carrotquest-messenger-poweredby,#carrotquest-messenger.carrotquest-messenger-big #carrotquest-messenger-poweredby *{color:#fff!important}#carrotquest-messenger.carrotquest-messenger-big #carrotquest-messenger-body-big-cont{padding-top:30px}#carrotquest-messenger-body-big-cont{padding-top:30px}#carrotquest-messenger-body-big-cont-close{display:block;position:absolute;cursor:pointer;right:7px;top:30px;height:18px;width:56px;padding:2px;padding-left:24px;background-repeat:no-repeat;background-position:10px center;background-size:9px;border-radius:20px;background-color:rgba(0,0,0,0.2);color:#fff;font-size:12px!important;line-height:18px}#carrotquest-messenger-body-big-cont-close:hover{opacity:.9}#carrotquest-messenger-body-small-cont-close{display:block;position:absolute;cursor:pointer;right:10px;top:12px;height:18px;width:56px;padding:2px;padding-left:24px;background-repeat:no-repeat;background-position:10px center;background-size:9px;border-radius:20px;background-color:rgba(0,0,0,0.2);background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnMiIKICAgdmlld0JveD0iMCAwIDEuNDIzMTMgMS40MjMxMyIKICAgc3R5bGU9InNoYXBlLXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IHRleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IGNsaXAtcnVsZTpldmVub2RkIgogICBoZWlnaHQ9IjE2cHgiCiAgIHdpZHRoPSIxOHB4IgogICB4bWw6c3BhY2U9InByZXNlcnZlIj48bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGExNCI+PHJkZjpSREY+PGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPjxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PjxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz48ZGM6dGl0bGU+PC9kYzp0aXRsZT48L2NjOldvcms+PC9yZGY6UkRGPjwvbWV0YWRhdGE+PGRlZnMKICAgICBpZD0iZGVmczQiPjxzdHlsZQogICAgICAgaWQ9InN0eWxlNiIKICAgICAgIHR5cGU9InRleHQvY3NzIj48IVtDREFUQVsKICAgIC5maWwwIHtmaWxsOiM2MzZCNzF9CiAgIF1dPjwvc3R5bGU+PC9kZWZzPjxnCiAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZiIKICAgICBpZD0i0KHQu9C+0LlfeDAwMjBfMSI+PG1ldGFkYXRhCiAgICAgICBpZD0iQ29yZWxDb3JwSURfMENvcmVsLUxheWVyIiAvPjxwb2x5Z29uCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmIgogICAgICAgaWQ9InBvbHlnb24xMCIKICAgICAgIHBvaW50cz0iMC4xNDQ1OTQsMC4wMDAxMDc1ODUgMC43MTE1NjUsMC41NjcwNzkgMS4yNzg2NCwwIDEuNDIzMTMsMC4xNDQ0ODYgMC44NTYwNTIsMC43MTE1NjUgMS40MjI5MiwxLjI3ODMyIDEuMjc4MzIsMS40MjI5MiAwLjcxMTU2NSwwLjg1NjA1MiAwLjE0NDQ4NiwxLjQyMzEzIC0wLDEuMjc4NjQgMC41NjcwNzksMC43MTE1NjUgMC4wMDAxMDc1ODUsMC4xNDQ1OTQgIgogICAgICAgY2xhc3M9ImZpbDAiIC8+PC9nPjwvc3ZnPg==);color:#fff;font-size:12px!important;line-height:18px}#carrotquest-messenger-body-small-cont-close:hover{opacity:.9}#carrotquest-messenger-initialmsg[data-truncated="1"]{max-height:200px}#carrotquest-messenger-initialmsg:after{display:block;width:100%;height:40px}#carrotquest-messenger-smalltruncator{height:60px;display:block;position:absolute;top:191px;width:100%;pointer-events:none}#carrotquest-messenger-smalltruncator-inner{pointer-events:none;display:block;margin:0 12px;height:60px;background:-webkit-linear-gradient(rgba(0,0,0,0.0),#fff 90%);background:-moz-linear-gradient(rgba(0,0,0,0.0),#fff 90%);background:-o-linear-gradient(rgba(0,0,0,0.0),#fff 90%);background:linear-gradient(rgba(0,0,0,0.0),#fff 90%)}#carrotquest-messenger-inner-noreply{margin-bottom:10px;display:block}#carrotquest-messenger-big-overlay{z-index:2147483000;background:rgba(0,0,0,0.5);position:fixed;top:0;right:0;left:0;bottom:0;display:block;-webkit-animation:carrotquest-fadein .25s!important;-moz-animation:carrotquest-fadein .25s!important;-ms-animation:carrotquest-fadein .25s!important;-o-animation:carrotquest-fadein .25s!important;animation:carrotquest-fadein .25s!important}.carrotquest-messenger-big #carrotquest-messenger-poweredby{margin-top:20px!important}.carrotquest-messenger-big .carrotquest-messenger-conversationpart-ul{width:100%!important;top:0!important;left:0;right:0}.carrotquest-messenger-small #carrotquest-messenger-initialmsg img,.carrotquest-messenger-big #carrotquest-messenger-initialmsg img{max-width:100%;display:block;margin:0 auto}.carrotquest-messenger-small .carrotquest-messenger-conversationpart-ul{width:370px!important;top:51px!important;padding:10px 0 0 0!important}.carrotquest-messenger-conversationpart-ul{overflow:auto!important;-webkit-overflow-scrolling:touch!important;position:fixed!important;display:block!important;padding-bottom:0!important}#carrotquest-messenger-innerreply #carrotquest-messenger-reply-cont{padding:0!important}.carrotquest-messenger-conversationpart-ul[data-bottom-space="reply_carrot"]{bottom:94px!important}.carrotquest-messenger-conversationpart-ul[data-bottom-space="reply"]{bottom:80px!important}.carrotquest-messenger-conversationpart-ul[data-bottom-space="no"]{bottom:0!important}.carrotquest-messenger-attachments{display:block!important;color:#aaa!important}.carrotquest-messenger-attachments .carrotquest-messenger-attachment{margin-bottom:10px!important;display:block!important}.carrotquest-messenger-attachments .carrotquest-messenger-attachment:last-child{margin-bottom:0!important}.carrotquest-messenger-attachment{display:inline!important;color:#aaa!important;margin-right:10px!important;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE1cHgiIGhlaWdodD0iMTVweCIgc3R5bGU9InNoYXBlLXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IHRleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IGNsaXAtcnVsZTpldmVub2RkIg0Kdmlld0JveD0iMCAwIDQ1Ljk4OTggNDQuNjkyNyINCiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogPGRlZnM+DQogIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICA8IVtDREFUQVsNCiAgICAuZmlsMCB7ZmlsbDojN0E3QTdBO2ZpbGwtcnVsZTpub256ZXJvfQ0KICAgXV0+DQogIDwvc3R5bGU+DQogPC9kZWZzPg0KIDxnIGlkPSLQodC70L7QuV94MDAyMF8xIj4NCiAgPG1ldGFkYXRhIGlkPSJDb3JlbENvcnBJRF8wQ29yZWwtTGF5ZXIiLz4NCiAgPHBhdGggY2xhc3M9ImZpbDAiIGQ9Ik0xOC43MTYxIDI2LjQ1OWMtMC41NDMxMTYsMC42Mjg4NzEgLTEuNDk3MTQsMC42OTY3NiAtMi4xMjYwMSwwLjE1MzY0NSAtMC42Mjg4NzEsLTAuNTQzMTE2IC0wLjY5Njc2LC0xLjQ5NzE0IC0wLjE1MzY0NSwtMi4xMjYwMSAxLjkxODc3LC0yLjIxMTc3IDQuNjQ1MDcsLTUuNzA5ODYgNi44OTYxNCwtOC42MDQxbDAuMDUzNTk3IC0wLjA2NDMxNjNjMS4yNTc3NCwtMS42MTg2MyAyLjM4MzI4LC0zLjA1MTQ1IDMuMTc2NTEsLTQuMDE5NzcgMS41NzIxOCwtMi4yOTAzOCAzLjg5MTE0LC0zLjA2MjE3IDUuOTM4NTQsLTIuNzUxMzFsMC4xNjA3OTEgMC4wMzIxNTgyYzAuNzg2MDg5LDAuMTQyOTI1IDEuNTM2NDUsMC40NTAyMTQgMi4xNzk2MSwwLjg5Njg1NiAwLjcwMzkwNywwLjQ4NTk0NiAxLjI5NzA1LDEuMTQ2OTcgMS42OTAwOSwxLjkxODc3bDAuMDMyMTU4MiAwLjA3MTQ2MjYgMC4wMTA3MTk0IDAuMDIxNDM4OCAwLjAxMDcxOTQgMC4wMjUwMTE5YzAuODUzOTc4LDEuNzg2NTcgMC43NTM5Myw0LjIwMiAtMS4xNzE5OSw2LjgxMzk2bC0wLjExMDc2NyAwLjEzMjIwNmMtMS45NTA5MywyLjQ3NjE4IC00LjE3Njk5LDUuMzk5IC02LjQ2MDIyLDguMzg5NzEgLTMuNjYyNDYsNC44MDU4NiAtNy41MTA3Miw5Ljg1NDY5IC0xMS4zNTE4LDE0LjQ5NjJsLTAuMTk2NTIyIDAuMTkyOTQ5Yy0yLjc0NDE2LDIuNTk0MDkgLTYuMTk1ODEsMy4xMjY0OSAtOS4yOTM3MSwyLjI5MDM4IC0xLjUzMjg3LC0wLjQxNDQ4MyAtMi45OTc4NiwtMS4xNzkxMyAtNC4yMzA1OSwtMi4xOTM5IC0xLjIzNjMsLTEuMDE4MzQgLTIuMjU4MjIsLTIuMzA4MjQgLTIuOTIyODIsLTMuNzU4OTMgLTEuMjY4NDYsLTIuNzgzNDcgLTEuMjQ3MDIsLTYuMTYwMDggMC45OTMzMywtOS40ODMwOWwwLjEyODYzMyAtMC4xNjQzNjRjMS45MzMwNiwtMi40MzMzIDYuNjQ2MDIsLTguNDA3NTggMTEuMDgwMywtMTQuMDUzMSAzLjI1NTEyLC00LjE0NDgzIDYuMjI3OTcsLTcuOTQzMDcgNy42NTM2NCwtOS43OTc1MmwwLjEzOTM1MiAtMC4xNTcyMThjNC4zOTQ5NSwtNC44NTU4OCA5Ljk5MDQ3LC01LjU3NDA4IDE0Ljc5NjMsLTMuOTE5NzIgMS44NjE2LDAuNjM5NTkgMy42MTk1OCwxLjY1NDM2IDUuMTIzODcsMi45MTkyNSAxLjUxMTQzLDEuMjY4NDYgMi43ODM0NywyLjgwNDkxIDMuNjgzOSw0LjQ3NzEzIDIuMTcyNDYsNC4wMzQwNiAyLjMwMTEsOC45MTQ5NiAtMS4yMTQ4NiwxMy4yMDI3IC00LjExOTgyLDUuNjgxMjggLTQuODg0NDcsNi43NjM5NCAtNS42NDU1NSw3LjgzOTQ1IC0wLjczOTYzOCwxLjA1MDUgLTEuNTA0MjksMi4xMjYwMSAtNS42NzA1Niw3Ljg3MTYxIC0wLjQ4NTk0NiwwLjY3MTc0OCAtMS40MzY0LDAuODIxODIgLTIuMTA4MTUsMC4zMzU4NzQgLTAuNjcxNzQ4LC0wLjQ4NTk0NiAtMC44MjE4MiwtMS40MzY0IC0wLjMzNTg3NCwtMi4xMDgxNSA0LjA0MTIxLC01LjU3NDA4IDQuODQ1MTYsLTYuNzA2NzcgNS42NDE5NywtNy44MzU4N2wwLjAwNzE0NjI2IC0wLjAwNzE0NjI2YzAuNzg5NjYyLC0xLjExMTI0IDEuNTg2NDcsLTIuMjQwMzUgNS42NjY5OCwtNy44NjgwM2wwLjAwMzU3MzEzIDAuMDAzNTczMTMgMC4wNjA3NDMyIC0wLjA4MjE4MmMyLjY2NTU2LC0zLjIwNTEgMi41NzI2NSwtNi44ODE4NSAwLjkzNjE2LC05LjkyMjU4IC0wLjcyMTc3MiwtMS4zMzk5MiAtMS43NDcyNiwtMi41NzYyMyAtMi45NjIxMiwtMy41OTgxNCAtMS4yMTg0NCwtMS4wMjE5MiAtMi42NDc2OSwtMS44NDczMSAtNC4xNjYyNywtMi4zNjg5OSAtMy43NTg5MywtMS4yOTM0NyAtOC4xNDMxNiwtMC43MjUzNDUgLTExLjU5MTIsMy4wOTA3NiAtMS43Njg3LDIuMzAxMSAtNC42NjY1MSw2LjAwMjg2IC03LjYzOTM1LDkuNzkwMzggLTQuMjgwNjEsNS40NTI2IC05LjAzMjg3LDExLjQ3MzMgLTExLjA5MSwxNC4wNjAzIC0xLjU2NTAzLDIuMzMzMjUgLTEuNjAwNzYsNC42NDg2NCAtMC43NDY3ODQsNi41MjQ1NCAwLjQ2ODA4LDEuMDIxOTIgMS4yMDA1NywxLjk0NzM2IDIuMDkzODUsMi42Nzk4NSAwLjg5Njg1NiwwLjczOTYzOCAxLjk2ODc5LDEuMjk3MDUgMy4wOTQzMywxLjYwMDc2IDIuMTQ3NDUsMC41ODI0MiA0LjUzMDczLDAuMjI4NjggNi40MTM3NywtMS41MjkzIDMuODkxMTQsLTQuNzAyMjQgNy42NjA3OSwtOS42NTEwMiAxMS4yNDgyLC0xNC4zNTY4IDIuMTgzMTgsLTIuODY1NjUgNC4zMDU2MiwtNS42NTI2OSA2LjUwNjY3LC04LjQzNjE2bDAuMDI4NTg1IC0wLjA0Mjg3NzZjMS4xMzk4MywtMS41NTA3NCAxLjI4OTksLTIuODMzNDkgMC44OTY4NTYsLTMuNzAxNzZsLTAuMDM1NzMxMyAtMC4wNzE0NjI2Yy0wLjE2NzkzNywtMC4zMjg3MjggLTAuNDE4MDU2LC0wLjYxMTAwNSAtMC43MTEwNTMsLTAuODExMTAxIC0wLjI3ODcwNCwtMC4xOTI5NDkgLTAuNjE0NTc4LC0wLjMzMjMwMSAtMC45NjQ3NDUsLTAuNDAzNzY0bC0wLjExMDc2NyAtMC4wMTA3MTk0Yy0xLjAxODM0LC0wLjE1MzY0NSAtMi4yMDQ2MiwwLjI3NTEzMSAtMy4wMzAwMSwxLjUwNzg2bC0wLjA4OTMyODMgMC4xMTc5MTNjLTAuNjk2NzYsMC44NDMyNTkgLTEuODQ3MzEsMi4zMTUzOSAtMy4xNDc5MywzLjk4NDA0bC0wLjA2NDMxNjMgMC4wODkzMjgzYy0yLjIxODkxLDIuODUxMzYgLTQuOTEzMDUsNi4zMDY1NyAtNy4wMDMzMyw4LjcxODQ0em0tMS40MjIxMSAxNS41Nzg4Yy0wLjU1MDI2MiwwLjQ1NzM2MSAtMS4zNjEzNiwwLjQ3ODc5OSAtMS45MzMwNiwwLjAwNzE0NjI2bTIuMDExNjcgLTAuMDc4NjA4OWwtMC4wNzg2MDg5IDAuMDcxNDYyNm0tMTUuMzgyMyAtMTMuMjM4NGwwLjA1NzE3MDEgLTAuMDcxNDYyNm0xOC44MDU0IC0yMy45MzI4bDAuMDY3ODg5NSAtMC4wNzUwMzU3Ii8+DQogPC9nPg0KPC9zdmc+DQo=)!important;background-position:left!important;background-repeat:no-repeat!important;padding-left:20px!important}.carrotquest-messenger-attachment-icon{display:inline-block!important;width:12px!important;height:12px!important;margin-right:5px!important;background-size:cover!important;background-repeat:no-repeat!important}.carrotquest-messenger-time{display:block!important;color:#aaa!important;font-size:10px!important;line-height:16px!important;height:16px!important}li[data-direction="a2u"] .carrotquest-messenger-time{margin-left:46px}li[data-direction="u2a"] .carrotquest-messenger-time{text-align:right;margin-right:6px}.carrotquest-messenger-conversationpart-ul>li{display:block!important;padding:5px 10px;margin-left:0!important}.carrotquest-messenger-conversationpart-ul>li>span{min-width:25px}.carrotquest-messenger-conversationpart-ul>li[data-direction="a2u"]>span{border:1px solid #ddd;float:left;max-width:65%;border-radius:3px;margin-left:8px;padding:9px 12px;position:relative;background:#fff;word-wrap:break-word;overflow-wrap:break-word}.carrotquest-messenger-conversationpart-ul>li[data-direction="a2u"]>span:after,.carrotquest-messenger-conversationpart-ul>li[data-direction="a2u"]>span:before{right:100%;top:17px;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.carrotquest-messenger-conversationpart-ul>li[data-direction="a2u"]>span:after{border-color:rgba(255,255,255,0);border-right-color:#ddd;border-width:4px;margin-top:-4px}.carrotquest-messenger-conversationpart-ul>li[data-direction="a2u"]>span:before{border-color:rgba(221,221,221,0);border-right-color:#ddd;border-width:5px;margin-top:-5px}.carrotquest-messenger-conversationpart-ul>li[data-direction="u2a"] a{color:white!important}.carrotquest-messenger-conversationpart-ul>li[data-direction="u2a"]>span{border:1px solid #1e6373;float:right;max-width:75%;border-radius:3px;margin-left:8px;padding:9px 12px;position:relative;background:#1e6373;color:white!important;word-wrap:break-word;overflow-wrap:break-word}.carrotquest-messenger-conversationpart-ul>li>span.carrotquest-messenger-part-img{padding:0!important;border-color:rgba(0,0,0,0)!important;border-width:0!important}.carrotquest-messenger-conversationpart-ul>li[data-direction="u2a"]>span>p{color:white}.carrotquest-messenger-conversationpart-ul>li[data-direction="u2a"]>span:after,.carrotquest-messenger-conversationpart-ul>li[data-direction="u2a"]>span:before{left:100%;top:13px;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.carrotquest-messenger-conversationpart-ul>li[data-direction="u2a"]>span:after{border-color:rgba(30,99,115,0);border-left-color:#1e6373;border-width:4px;margin-top:-4px}.carrotquest-messenger-conversationpart-ul>li[data-direction="u2a"]>span:before{border-color:rgba(30,99,115,0);border-left-color:#1e6373;border-width:5px;margin-top:-5px}.carrotquest-messenger-conversationpart-ul>li[data-direction="a2u-service"]>span{border:1px solid #636b71;float:left;max-width:65%;word-break:break-word;border-radius:3px;margin-left:8px;margin-bottom:25px;padding:9px 12px;position:relative;background:#636b71;color:white!important;text-align:left}.carrotquest-messenger-conversationpart-ul>li[data-direction="a2u-service"]>span>p{color:white;text-align:left}.carrotquest-messenger-conversationpart-ul>li[data-direction="a2u-service"]>span:after,.carrotquest-messenger-conversationpart-ul>li[data-direction="a2u-service"]>span:before{right:100%;top:17px;border:solid transparent;content:" ";height:0;width:0;position:absolute;pointer-events:none}.carrotquest-messenger-conversationpart-ul>li[data-direction="a2u-service"]>span:after{border-color:rgba(99,107,113,0);border-right-color:#636b71;border-width:4px;margin-top:-4px}.carrotquest-messenger-conversationpart-ul>li[data-direction="a2u-service"]>span:before{border-color:rgba(99,107,113,0);border-right-color:#636b71;border-width:5px;margin-top:-5px}.carrotquest-messenger-conversationpart-ul>li>span.carrotquest-messenger-part-img:before,.carrotquest-messenger-conversationpart-ul>li>span.carrotquest-messenger-part-img:after{border-width:0!important}.carrotquest-messenger-conversationpart-ul>li>img{width:30px;height:30px;background:#e0e0e0;border:2px solid #b4dce7;border-radius:20px;float:left;margin:0!important}.carrotquest-messenger-conversationpart-ul>li[data-unread="1"]{background:green!important}.carrotquest-messenger-big #carrotquest-messenger-reply{left:0!important;width:100%!important}.carrotquest-messenger-small #carrotquest-messenger-reply{width:370px!important}#carrotquest-messenger-reply-cont{margin:0 auto;max-width:600px;display:block;padding:10px;position:relative}.carrotquest-messenger-line-left #carrotquest-messenger-reply{right:0}.carrotquest-messenger-line-left #carrotquest-messenger-reply{left:0}#carrotquest-messenger-reply{border:1px solid transparent;border-width:1px 0 0 0;display:block;bottom:0;position:fixed;background:#fff}.carrotquest-messenger-big #carrotquest-messenger-reply{position:static!important}#carrotquest-messenger-reply-textarea{border:1px solid #ccc;border-radius:4px;width:100%;max-width:100%;min-width:100%;height:50px;max-height:180px;min-height:50px;font-size:14px;display:block;overflow:hidden;padding:5px 29px 5px 5px;word-wrap:break-word;resize:none;box-shadow:0 0 0 transparent;box-sizing:border-box;-webkit-overflow-scrolling:touch;-webkit-transition:box-shadow .1s ease-out,border .1s ease-out;-moz-transition:box-shadow .1s ease-out,border .1s ease-out;-o-transition:box-shadow .1s ease-out,border .1s ease-out;transition:box-shadow .1s ease-out,border .1s ease-out}#carrotquest-messenger-reply-textarea:focus{border:1px solid #29b1d6;box-shadow:0 0 4px 0 rgba(59,126,175,0.43)}#carrotquest-messenger-reple-leftcont{display:block;margin-right:30px;margin-bottom:10px}#carrotquest-messenger-reple-leftcont:focus{border:1px solid #29b1d6}#carrotquest-messenger-reply-input{border:1px solid #ccc;border-radius:4px 0 0 4px;width:100%;max-width:100%;min-width:100%;height:32px;max-height:32px;min-height:32px;font-size:14px;display:block;padding:4px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}#carrotquest-messenger-reply-textarea:focus{border:1px solid #aaa}#carrotquest-messenger-reple-leftcont{display:block;overflow:auto;position:relative}#carrotquest-messenger-reply-buttons{font-size:15px;float:right;color:white;text-align:center;background-repeat:no-repeat;height:24px;width:25px;display:inline-block;vertical-align:middle;cursor:pointer}#carrotquest-messenger-reply-fileinput{display:none}#carrotquest-messenger-reply-file{font-size:15px;padding:5px;color:white;text-align:center;background-repeat:no-repeat;height:24px;width:14px;display:inline-block;vertical-align:middle;cursor:pointer;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj4KICA8cGF0aCBmaWxsPSIjOTU5NTk1IiBkPSJNMi45ODM2NzM2NSwxMS45MjA1MTM5IEwxMC44Nzk2ODc5LDQuMDI2NTkyNDkgQzEyLjI0Nzk0MzMsMi42NTg2OTk4IDE0LjQ2OTM1NTEsMi42NTc5NDcwOCAxNS44MzQyNDc3LDQuMDIyNDc3OTggQzE3LjIwMjkxOTIsNS4zOTA3ODY2OSAxNy4yMDIyNDI1LDcuNjAzOTc3OSAxNS44MjkxMzA2LDguOTc2NzI1ODMgTDguMDU1MDUzMzksMTYuNzQ4NzQyNCBDNy40NjcwNDIyOSwxNy4zMzY1OTc3IDYuNTIyNTc4MDgsMTcuMzM3ODgwMSA1LjkzMzM1OTM2LDE2Ljc0ODgxNzUgQzUuMzQ3NDUzMiwxNi4xNjMwNjY3IDUuMzQ4NjgxNDIsMTUuMjEyMjgzOSA1LjkzNzUwMjY0LDE0LjYyMzYxODcgTDEzLjcwNzc4NzYsNi44NTUzOTMzMSBDMTMuOTAzMDc3Myw2LjY2MDE1NTQ0IDEzLjkwMzA3NzMsNi4zNDM2MTIzMSAxMy43MDc3ODc2LDYuMTQ4Mzc0NDUgQzEzLjUxMjQ5OCw1Ljk1MzEzNjU4IDEzLjE5NTg3MSw1Ljk1MzEzNjU4IDEzLjAwMDU4MTMsNi4xNDgzNzQ0NSBMNS4yMzAyOTYzMiwxMy45MTY1OTk5IEM0LjI1MTMwNDE3LDE0Ljg5NTMzMjUgNC4yNDkyNTgxNCwxNi40NzkyMDA0IDUuMjI2MTUzMDQsMTcuNDU1ODM2NCBDNi4yMDYzODE3LDE4LjQzNTgwNTIgNy43ODQwOTg3MiwxOC40MzM2NjMgOC43NjIyNTk3LDE3LjQ1NTc2MTMgTDE2LjUzNjMzNjksOS42ODM3NDQ2OSBDMTguMjk5OTMxMyw3LjkyMDYxNzc2IDE4LjMwMDgwMTYsNS4wNzQzNDAzNiAxNi41NDE0NTQsMy4zMTU0NTkxMSBDMTQuNzg1ODc0OCwxLjU2MDM0NTE1IDExLjkzMTIwOSwxLjU2MTMxMjQ0IDEwLjE3MjQ4MTYsMy4zMTk1NzM2MiBMMi4yNzY0NjczNCwxMS4yMTM0OTUgQzIuMDgxMTc3NzEsMTEuNDA4NzMyOSAyLjA4MTE3NzcxLDExLjcyNTI3NiAyLjI3NjQ2NzM0LDExLjkyMDUxMzkgQzIuNDcxNzU2OTcsMTIuMTE1NzUxOCAyLjc4ODM4NDAyLDEyLjExNTc1MTggMi45ODM2NzM2NSwxMS45MjA1MTM5IFoiLz4KPC9zdmc+Cg==);background-position:center top}#carrotquest-messenger-reply-file:hover{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgdmlld0JveD0iMCAwIDIwIDIwIj4KICA8cGF0aCBmaWxsPSIjN0E3QTdBIiBkPSJNMi45ODM2NzM2NSwxMS45MjA1MTM5IEwxMC44Nzk2ODc5LDQuMDI2NTkyNDkgQzEyLjI0Nzk0MzMsMi42NTg2OTk4IDE0LjQ2OTM1NTEsMi42NTc5NDcwOCAxNS44MzQyNDc3LDQuMDIyNDc3OTggQzE3LjIwMjkxOTIsNS4zOTA3ODY2OSAxNy4yMDIyNDI1LDcuNjAzOTc3OSAxNS44MjkxMzA2LDguOTc2NzI1ODMgTDguMDU1MDUzMzksMTYuNzQ4NzQyNCBDNy40NjcwNDIyOSwxNy4zMzY1OTc3IDYuNTIyNTc4MDgsMTcuMzM3ODgwMSA1LjkzMzM1OTM2LDE2Ljc0ODgxNzUgQzUuMzQ3NDUzMiwxNi4xNjMwNjY3IDUuMzQ4NjgxNDIsMTUuMjEyMjgzOSA1LjkzNzUwMjY0LDE0LjYyMzYxODcgTDEzLjcwNzc4NzYsNi44NTUzOTMzMSBDMTMuOTAzMDc3Myw2LjY2MDE1NTQ0IDEzLjkwMzA3NzMsNi4zNDM2MTIzMSAxMy43MDc3ODc2LDYuMTQ4Mzc0NDUgQzEzLjUxMjQ5OCw1Ljk1MzEzNjU4IDEzLjE5NTg3MSw1Ljk1MzEzNjU4IDEzLjAwMDU4MTMsNi4xNDgzNzQ0NSBMNS4yMzAyOTYzMiwxMy45MTY1OTk5IEM0LjI1MTMwNDE3LDE0Ljg5NTMzMjUgNC4yNDkyNTgxNCwxNi40NzkyMDA0IDUuMjI2MTUzMDQsMTcuNDU1ODM2NCBDNi4yMDYzODE3LDE4LjQzNTgwNTIgNy43ODQwOTg3MiwxOC40MzM2NjMgOC43NjIyNTk3LDE3LjQ1NTc2MTMgTDE2LjUzNjMzNjksOS42ODM3NDQ2OSBDMTguMjk5OTMxMyw3LjkyMDYxNzc2IDE4LjMwMDgwMTYsNS4wNzQzNDAzNiAxNi41NDE0NTQsMy4zMTU0NTkxMSBDMTQuNzg1ODc0OCwxLjU2MDM0NTE1IDExLjkzMTIwOSwxLjU2MTMxMjQ0IDEwLjE3MjQ4MTYsMy4zMTk1NzM2MiBMMi4yNzY0NjczNCwxMS4yMTM0OTUgQzIuMDgxMTc3NzEsMTEuNDA4NzMyOSAyLjA4MTE3NzcxLDExLjcyNTI3NiAyLjI3NjQ2NzM0LDExLjkyMDUxMzkgQzIuNDcxNzU2OTcsMTIuMTE1NzUxOCAyLjc4ODM4NDAyLDEyLjExNTc1MTggMi45ODM2NzM2NSwxMS45MjA1MTM5IFoiLz4KPC9zdmc+Cg==)}#carrotquest-messenger-reply-button{font-size:15px;padding:5px;color:white;text-align:center;background-repeat:no-repeat;height:16px;width:14px;display:inline-block;vertical-align:middle;cursor:pointer}#carrotquest-messenger-conversations-empty{display:block;color:#aaa;text-align:center;position:absolute;top:50%;left:50%;margin-top:-55px;margin-left:-88px}#carrotquest-messenger-innerreply{display:block;margin:0 10px;border-radius:0 0 6px 6px;border-width:0 1px 1px 1px;border-style:solid;border-color:#ddd;padding:8px;margin-bottom:20px;background:#fff;overflow:hidden;height:auto;box-shadow:none;-webkit-transition:box-shadow ease-out .2s;-moz-transition:box-shadow ease-out .2s;-o-transition:box-shadow ease-out .2s;transition:box-shadow ease-out .2s;transform:translate(0);z-index:1}#carrotquest-messenger-innerreply.carrotquest-messenger-innerreply-button{padding:20px 10px!important;text-align:center}.carrotquest-messenger-big #carrotquest-messenger-innerreply{padding:10px}#carrotquest-messenger-initialmsg{border:1px solid #ddd;border-radius:3px;margin:0 10px;padding:10px 10px 10px 10px;display:block;border-radius:6px 6px 0 0;background:#fff;overflow:hidden;box-shadow:none;-webkit-transition:box-shadow ease-out .2s;-moz-transition:box-shadow ease-out .2s;-o-transition:box-shadow ease-out .2s;transition:box-shadow ease-out .2s;margin-top:30px}#carrotquest-messenger[data-truncate-visibility] #carrotquest-messenger-initialmsg,#carrotquest-messenger[data-truncate-visibility] #carrotquest-messenger-innerreply{box-shadow:0 6px 10px rgba(0,0,0,0.25)}#carrotquest-messenger[data-truncate-visibility] #carrotquest-messenger-initialmsg{max-height:calc(100% - 195px);overflow-y:auto}#carrotquest-messenger[data-truncate-visibility] #carrotquest-messenger-initialmsg::-webkit-scrollbar{opacity:0;width:5px}#carrotquest-messenger[data-truncate-visibility] #carrotquest-messenger-initialmsg:hover::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,0.2);border-radius:10px;-webkit-transition:all .6s ease-in-out;-moz-transition:all .6s ease-in-out;-o-transition:all .6s ease-in-out;-ms-transition:all .6s ease-in-out;transition:all .6s ease-in-out}#carrotquest-messenger[data-truncate-visibility] #carrotquest-messenger-body-big-cont #carrotquest-messenger-initialmsg{max-height:calc(100% - 245px)}#carrotquest-messenger-initialmsg[data-nopadding="1"]{padding:0!important}#carrotquest-messenger-initialmsg[data-nopadding="1"] img,#carrotquest-messenger-initialmsg[data-nopadding="1"] p{padding:0!important}#carrotquest-messenger-initialmsg-admin-avatar{display:block;height:30px}#carrotquest-messenger-initialmsg-admin-avatar img{width:30px;height:30px;border-radius:30px;position:relative;top:12px;border:3px solid #fff}#carrotquest-messenger-writeus-cont-poweredby a{color:#bbb;font-size:11px!important}#carrotquest-messenger-writeus-cont-poweredby a:hover{font-size:11px!important;color:#bbb!important;text-decoration:none}#carrotquest-messenger-menucounter{background-color:#ff6900;float:left;font-weight:bold;font-size:9px!important;color:white;padding:1px 5px;border-radius:50px;margin-top:23px;line-height:13px;position:relative;top:-14px;left:-6px}#carrotquest-messenger-menucounter[data-inmenu="1"]{top:-4px!important;left:-13px!important}#carrotquest-messenger-conversationtime{font-size:10px!important;cursor:pointer;float:right;color:#aaa;line-height:18px;margin-top:2px}#carrotquest-messenger-conversationcounter{background-color:#ff6900;font-size:10px!important;color:white;padding:3px 5px;border-radius:5px;line-height:6px;cursor:pointer;margin-top:4px;float:right}#carrotquest-messenger-conversationcounter[data-unread="0"]{background-color:#ccc}#carrotquest-messenger-autoreply-request{border:1px solid #ccc;border-radius:4px 0 0 4px;width:80%;max-width:80%;min-width:80%;height:25px;max-height:32px;min-height:32px;font-size:14px;display:block;padding:0 8px;float:left;background:#fff;margin-top:10px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}#carrotquest-messenger-autoreply-request-thanks{width:80%;max-width:80%;min-width:80%;max-height:32px;min-height:32px;font-size:14px;float:left;margin-top:10px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:none;color:#fff;font-weight:bold}#carrotquest-messenger-autoreply-request-ok{display:inline-block;vertical-align:middle;font-size:13px;cursor:pointer;color:white;width:25px;height:25px;text-align:center;display:block;margin-top:10px;background-color:#fff;height:32px;width:38px;background-repeat:no-repeat;background-color:#fcfcfc;border-radius:0 4px 4px 0;border-width:1px 1px 1px 0;border-style:solid;border-color:#ccc;background-position:6px 6px;box-sizing:border-box}#carrotquest-messenger-autoreply-request-ok:hover{background-color:#f3f3f3}.carrotquest-messenger-emoji{width:20px!important;height:20px!important;line-height:20px!important;display:inline-block!important;vertical-align:middle!important;text-indent:100%!important;overflow:hidden!important}.carrotquest-messenger-emoji-big{width:32px!important;height:32px!important;line-height:32px!important}.carrotquest-messenger-emoji-apple{background-image:url(//cdn.carrotquest.io/img/emoji/apple_64px_256colors.png)!important;background-size:4100%!important}.carrotquest-messenger-emoji-apple-no-sheet{background-size:cover!important}#carrotquest-messenger-emoji-button{position:absolute!important;width:17px!important;height:17px!important;top:16px!important;right:47px!important;cursor:pointer!important;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4LjMgOC4zIiBzdHlsZT0iaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTtzaGFwZS1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uO3RleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbiI+DQogIDxzdHlsZT4uYXtmaWxsLW9wYWNpdHk6MTtmaWxsOiM5NTk1OTU7fTwvc3R5bGU+DQogIDxkZWZzPg0KICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICAgICAuc3RyMCB7c3Ryb2tlOiM3QTdBN0E7c3Ryb2tlLXdpZHRoOjAuNTE5OTcyfQ0KICAgICAgLnN0cjEge3N0cm9rZTojN0E3QTdBO3N0cm9rZS13aWR0aDowLjUxOTk3MjtzdHJva2UtbGluZWNhcDpyb3VuZH0NCiAgICAgIC5maWwwIHtmaWxsOm5vbmV9DQogICAgICAuZmlsMSB7ZmlsbDojN0E3QTdBfQ0KICAgIDwvc3R5bGU+DQogIDwvZGVmcz4NCiAgPGNpcmNsZSByPSI0IiB0cmFuc2Zvcm09Im1hdHJpeCgtMC4zNjg3NTYgLTAuODk2NTI0IDAuODk2NTI0IC0wLjM2ODc1NiA0LjE1NzMzIDQuMTU3MykiIGNsYXNzPSJmaWwwIHN0cjAiIHN0eWxlPSJzdHJva2Utb3BhY2l0eToxO3N0cm9rZTojOTU5NTk1Ii8+DQogIDxjaXJjbGUgcj0iMC41IiBjeT0iMy4zIiBjeD0iMyIgY2xhc3M9ImZpbDEiLz4NCiAgPGNpcmNsZSByPSIwLjUiIGN5PSIzLjQiIGN4PSI1LjIiIGNsYXNzPSJmaWwxIi8+DQogIDxwYXRoIGQ9Im02LjMgNS4xYy0wLjUgMC43LTEuMyAxLjEtMi4xIDEuMS0wLjggMC0xLjYtMC40LTIuMS0xLjEiIGNsYXNzPSJmaWwwIHN0cjEiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjAuNjtzdHJva2U6Izk1OTU5NSIvPg0KPC9zdmc+)}#carrotquest-messenger-emoji-button:hover{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4LjMgOC4zIiBzdHlsZT0iaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTtzaGFwZS1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uO3RleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbiI+DQogIDxkZWZzPg0KICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICAgICAuc3RyMCB7c3Ryb2tlOiM3QTdBN0E7c3Ryb2tlLXdpZHRoOjAuNTE5OTcyfQ0KICAgICAgLnN0cjEge3N0cm9rZTojN0E3QTdBO3N0cm9rZS13aWR0aDowLjUxOTk3MjtzdHJva2UtbGluZWNhcDpyb3VuZH0NCiAgICAgIC5maWwwIHtmaWxsOm5vbmV9DQogICAgICAuZmlsMSB7ZmlsbDojN0E3QTdBfQ0KICAgIDwvc3R5bGU+DQogIDwvZGVmcz4NCiAgPGNpcmNsZSByPSI0IiB0cmFuc2Zvcm09Im1hdHJpeCgtMC4zNjg3NTYgLTAuODk2NTI0IDAuODk2NTI0IC0wLjM2ODc1NiA0LjE1NzMzIDQuMTU3MykiIGNsYXNzPSJmaWwwIHN0cjAiIHN0eWxlPSJzdHJva2Utb3BhY2l0eToxO3N0cm9rZTojN2E3YTdhIi8+DQogIDxjaXJjbGUgcj0iMC41IiBjeT0iMy4zIiBjeD0iMyIgY2xhc3M9ImZpbDEiLz4NCiAgPGNpcmNsZSByPSIwLjUiIGN5PSIzLjQiIGN4PSI1LjIiIGNsYXNzPSJmaWwxIi8+DQogIDxwYXRoIGQ9Im02LjMgNS4xYy0wLjUgMC43LTEuMyAxLjEtMi4xIDEuMS0wLjggMC0xLjYtMC40LTIuMS0xLjEiIGNsYXNzPSJmaWwwIHN0cjEiIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjAuNjtzdHJva2U6IzdhN2E3YSIvPg0KPC9zdmc+DQo=)}#carrotquest-messenger-emoji-selector{display:block!important;background:#fff!important;height:300px!important;bottom:100%!important;left:40px!important;right:40px!important;max-width:100%!important;position:absolute!important;box-shadow:0 5px 10px rgba(0,0,0,.12)!important;border-radius:6px!important;border:1px solid rgba(0,0,0,.15)!important;cursor:auto!important;overflow:hidden!important;-webkit-overflow-scrolling:touch!important;line-height:20px!important;font-size:12px!important;transition:visibility 0s,opacity .2s!important}@media(max-width:370px){#carrotquest-messenger-emoji-selector{height:200px!important;bottom:100%!important;left:5%!important;right:5%!important}}@media(max-height:370px){#carrotquest-messenger-emoji-selector{height:150px!important;bottom:100%!important;left:5%!important;right:5%!important}}.carrotquest-messenger-emoji-selector-hidden{opacity:0!important;transition:visibility 0s,opacity 0s!important}.carrotquest-messenger-emoji-selector-hidden,.carrotquest-messenger-emoji-selector-hidden *{visibility:hidden!important}#carrotquest-messenger-emoji-selector .carrotquest-messenger-emoji-wrapper{padding:6px 8px!important;width:22px!important;height:22px!important;cursor:pointer!important;display:inline-block!important}#carrotquest-messenger-emoji-selector .carrotquest-messenger-emoji-wrapper:hover{background-color:#3aa3e3!important;border-radius:5px!important}#carrotquest-messenger-emoji-selector .emoji{background-image:url(//cdn.carrotquest.io/img/emoji/apple_64px_256colors.png)!important;background-size:4100%!important;width:22px!important;height:22px!important;display:inline-block!important;cursor:pointer!important}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu{display:table!important;position:absolute!important;top:0!important;left:0!important;right:0!important;height:34px!important;width:100%!important;background:#eee!important}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>div{display:table-cell!important;padding:5px!important}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>.carrotquest-messenger-emoji-menu-item>div{width:24px!important;height:24px!important;display:block!important;cursor:pointer!important;margin:auto;background-image:url(//cdn.carrotquest.io/img/emoji/menu.png)!important;background-size:cover}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>.carrotquest-messenger-emoji-menu-item{background-size:cover}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>.carrotquest-messenger-emoji-menu-item[data-active="1"]{background-color:#fff}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>.carrotquest-messenger-emoji-menu-item:nth-child(1)>div{background-position:0 0!important}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>.carrotquest-messenger-emoji-menu-item:nth-child(2)>div{background-position:14.286% 0!important}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>.carrotquest-messenger-emoji-menu-item:nth-child(3)>div{background-position:28.571% 0!important}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>.carrotquest-messenger-emoji-menu-item:nth-child(4)>div{background-position:42.857% 0!important}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>.carrotquest-messenger-emoji-menu-item:nth-child(5)>div{background-position:57.143% 0!important}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>.carrotquest-messenger-emoji-menu-item:nth-child(6)>div{background-position:71.429% 0!important}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>.carrotquest-messenger-emoji-menu-item:nth-child(7)>div{background-position:85.714% 0!important}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-menu>.carrotquest-messenger-emoji-menu-item:nth-child(8)>div{background-position:100% 0!important}#carrotquest-messenger-emoji-selector #carrotquest-messenger-emoji-list{position:absolute;top:0;bottom:0;margin-top:34px;width:100%;overflow:auto;text-align:justify;font-size:0}#carrotquest-messenger-writeus-line{width:100%;height:1px;display:block;background:#ccc}#carrotquest-messenger-writeus-cont-poweredby{text-align:center;display:block;margin-top:9px;margin-bottom:0;color:#bbb;font-size:11px!important}.carrotquest-messenger-line-right #carrotquest-messenger-writeus-cont{right:0}.carrotquest-messenger-line-left #carrotquest-messenger-writeus-cont{left:0}#carrotquest-messenger-writeus-cont{padding:10px;display:block;position:fixed;bottom:0;width:370px;box-sizing:border-box;background:#fff;border-style:solid;border-width:1px 0 0 0;border-color:#fff}#carrotquest-messenger-writeus{text-align:center;background:#1e6373;display:block;width:150px;margin:0 auto;cursor:pointer;color:#fff;padding:3px 18px;border-radius:30px;line-height:31px;margin-top:7px;margin-bottom:7px}#carrotquest-messenger-writeus-icon{height:20px;width:24px;display:inline-block;vertical-align:middle;cursor:pointer;margin-right:6px}#carrotquest-messenger-writeus:hover,#carrotquest-messenger-writeus:active{background:#1b5a69}#carrotquest-messenger-loading{width:20px;height:20px;position:absolute;left:50%;top:50%;margin-top:-10px;margin-left:-10px}#carrotquest-messenger-loading>div{color:#ddd;background:transparent;border-color:#ddd;display:inline-block;float:left;width:28px;height:28px;margin:0;background:transparent!important;border-style:solid;border-width:2px;border-bottom-color:transparent!important;border-radius:100%;animation:carrotquest-messeger-loading-anim .75s linear infinite;-webkit-animation:carrotquest-messeger-loading-anim .75s linear infinite;position:relative;box-sizing:content-box}@-webkit-keyframes carrotquest-messeger-loading-anim{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes carrotquest-messeger-loading-anim{0%{transform:rotate(0deg);-webkit-transform:rotate(0deg)}50%{transform:rotate(180deg);-webkit-transform:rotate(180deg)}100%{transform:rotate(360deg);-webkit-transform:rotate(360deg)}}#carrotquest-messenger-poweredby{text-align:center!important;color:#bbb!important;display:block!important;margin:0 0 0 0!important;font-size:11px!important}#carrotquest-messenger-poweredby a{text-decoration:underline;font-size:11px!important;color:#bbb}#carrotquest-messenger-poweredby a:hover{font-size:11px!important;text-decoration:none;color:#bbb!important}.carrotquest-collapsed-animate{-webkit-animation-duration:.4s!important;animation-duration:.4s!important;-webkit-animation-fill-mode:both!important;animation-fill-mode:both!important;-webkit-animation-name:carrotquest-tada!important;animation-name:carrotquest-tada!important}@-webkit-keyframes carrotquest-tada{20%{-webkit-transform:rotate3d(0,0,1,8deg);transform:rotate3d(0,0,1,8deg)}40%{-webkit-transform:rotate3d(0,0,1,-5deg);transform:rotate3d(0,0,1,-5deg)}60%{-webkit-transform:rotate3d(0,0,1,2deg);transform:rotate3d(0,0,1,2deg)}80%{-webkit-transform:rotate3d(0,0,1,-2deg);transform:rotate3d(0,0,1,-2deg)}100%{-webkit-transform:rotate3d(0,0,1,0deg);transform:rotate3d(0,0,1,0deg)}}@keyframes carrotquest-tada{20%{-webkit-transform:rotate3d(0,0,1,8deg);transform:rotate3d(0,0,1,8deg)}40%{-webkit-transform:rotate3d(0,0,1,-5deg);transform:rotate3d(0,0,1,-5deg)}60%{-webkit-transform:rotate3d(0,0,1,2deg);transform:rotate3d(0,0,1,2deg)}80%{-webkit-transform:rotate3d(0,0,1,-2deg);transform:rotate3d(0,0,1,-2deg)}100%{-webkit-transform:rotate3d(0,0,1,0deg);transform:rotate3d(0,0,1,0deg)}}@media screen and (max-width:480px){#carrotquest-messenger{left:0!important;width:100%!important}#carrotquest-messenger-collapsed #carrotquest-collapsed-text{display:none!important}#carrotquest-messenger-collapsed[data-conversation-id] #carrotquest-collapsed-text{display:table-cell!important}#carrotquest-messenger-collapsed[data-thanks] #carrotquest-collapsed-text{display:table-cell!important}#carrotquest-messenger-collapsed.carrotquest-messenger-right_top>div>img,#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom>div>img{margin-left:0}#carrotquest-messenger-collapsed.carrotquest-messenger-left_top>div>img,#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom>div>img{margin-right:0}.carrotquest-messenger-small .carrotquest-messenger-conversation-ul{width:100%!important}#carrotquest-messenger-writeus-cont{width:100%!important}.carrotquest-messenger-small #carrotquest-messenger-reply{width:100%!important}.carrotquest-messenger-small .carrotquest-messenger-conversationpart-ul{width:100%!important}}@media screen and (max-width:680px){#carrotquest-messenger-body-big-cont-close{right:10px;top:34px}}@media screen and (max-height:450px){#carrotquest-messenger-reply-textarea{max-height:64px}}#carrotquest-messenger-headmenu{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRvcjogQ29yZWxEUkFXIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICB3aWR0aD0iMThweCIKICAgaGVpZ2h0PSIxNnB4IgogICBzdHlsZT0ic2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgdGV4dC1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyBpbWFnZS1yZW5kZXJpbmc6b3B0aW1pemVRdWFsaXR5OyBmaWxsLXJ1bGU6ZXZlbm9kZDsgY2xpcC1ydWxlOmV2ZW5vZGQiCiAgIHZpZXdCb3g9IjAgMCAxLjYwNjA3IDEuMzk5MSIKICAgaWQ9InN2ZzIiCiAgIHZlcnNpb249IjEuMSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45MSByMTM3MjUiCiAgIHNvZGlwb2RpOmRvY25hbWU9ImdhbWJ1Z2VyLWFsdDMuc3ZnIj48bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGExNCI+PHJkZjpSREY+PGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPjxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PjxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz48ZGM6dGl0bGU+PC9kYzp0aXRsZT48L2NjOldvcms+PC9yZGY6UkRGPjwvbWV0YWRhdGE+PHNvZGlwb2RpOm5hbWVkdmlldwogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxNjgwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijk4NyIKICAgICBpZD0ibmFtZWR2aWV3MTIiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjI5LjUiCiAgICAgaW5rc2NhcGU6Y3g9IjUuMzIyMDY4MSIKICAgICBpbmtzY2FwZTpjeT0iMTIuNjgyMjMiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjE5MTIiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjE4IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0i0KHQu9C+0LlfeDAwMjBfMSIgLz48ZGVmcwogICAgIGlkPSJkZWZzNCI+PHN0eWxlCiAgICAgICB0eXBlPSJ0ZXh0L2NzcyIKICAgICAgIGlkPSJzdHlsZTYiPjwhW0NEQVRBWwogICAgLmZpbDAge2ZpbGw6IzYzNkI3MX0KICAgXV0+PC9zdHlsZT48L2RlZnM+PGcKICAgICBpZD0i0KHQu9C+0LlfeDAwMjBfMSI+PG1ldGFkYXRhCiAgICAgICBpZD0iQ29yZWxDb3JwSURfMENvcmVsLUxheWVyIiAvPjxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDQxNDQiCiAgICAgICB3aWR0aD0iMS43MTE5MzE2IgogICAgICAgaGVpZ2h0PSIwLjM1MDg1NTIiCiAgICAgICB4PSItMC4xMTc5NTk5NCIKICAgICAgIHk9Ii0wLjQzNzcwNDgzIgogICAgICAgcnk9IjAuMDAwNjk3NjMzMDgiIC8+PHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiM2MzZiNzE7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0NDE0NiIKICAgICAgIHdpZHRoPSIxLjYwNjA3IgogICAgICAgaGVpZ2h0PSIwLjE3ODQ1MjI0IgogICAgICAgeD0iLTEuMDgwOTk0M2UtMDA4IgogICAgICAgeT0iLTAuMDE0MjU4ODg5IgogICAgICAgcnk9IjMuMDEwMzEwMWUtMDA1IiAvPjxyZWN0CiAgICAgICBzdHlsZT0iY2xpcC1ydWxlOmV2ZW5vZGQ7ZmlsbDojNjM2YjcxO2ZpbGwtb3BhY2l0eToxO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7aW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTtzaGFwZS1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uO3RleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbiIKICAgICAgIGlkPSJyZWN0NDE0Ni00IgogICAgICAgd2lkdGg9IjEuNjA2MDciCiAgICAgICBoZWlnaHQ9IjAuMTc4NDUyMjQiCiAgICAgICB4PSIwIgogICAgICAgeT0iMC42MTAzMjM4NSIKICAgICAgIHJ5PSIzLjAxMDMxZS0wMDUiIC8+PHJlY3QKICAgICAgIHN0eWxlPSJjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM2MzZiNzE7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtpbWFnZS1yZW5kZXJpbmc6b3B0aW1pemVRdWFsaXR5O3NoYXBlLXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247dGV4dC1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uIgogICAgICAgaWQ9InJlY3Q0MTQ2LTUiCiAgICAgICB3aWR0aD0iMS42MDYwNyIKICAgICAgIGhlaWdodD0iMC4xNzg0NTIyNCIKICAgICAgIHg9IjAiCiAgICAgICB5PSIxLjIzNDkwNjYiCiAgICAgICByeT0iMy4wMTAzMWUtMDA1IiAvPjwvZz48L3N2Zz4=)}#carrotquest-messenger-headmenu:hover{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnMiIKICAgdmlld0JveD0iMCAwIDEuNjA2MDcgMS4zOTkxIgogICBzdHlsZT0ic2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgdGV4dC1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyBpbWFnZS1yZW5kZXJpbmc6b3B0aW1pemVRdWFsaXR5OyBmaWxsLXJ1bGU6ZXZlbm9kZDsgY2xpcC1ydWxlOmV2ZW5vZGQiCiAgIGhlaWdodD0iMTZweCIKICAgd2lkdGg9IjE4cHgiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiPjxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTE0Ij48cmRmOlJERj48Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+PGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+PGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPjxkYzp0aXRsZT48L2RjOnRpdGxlPjwvY2M6V29yaz48L3JkZjpSREY+PC9tZXRhZGF0YT48ZGVmcwogICAgIGlkPSJkZWZzNCI+PHN0eWxlCiAgICAgICBpZD0ic3R5bGU2IgogICAgICAgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWwogICAgLmZpbDAge2ZpbGw6IzYzNkI3MX0KICAgXV0+PC9zdHlsZT48L2RlZnM+PGcKICAgICBpZD0i0KHQu9C+0LlfeDAwMjBfMSI+PG1ldGFkYXRhCiAgICAgICBpZD0iQ29yZWxDb3JwSURfMENvcmVsLUxheWVyIiAvPjxyZWN0CiAgICAgICByeT0iMC4wMDA2OTc2MzMwOCIKICAgICAgIHk9Ii0wLjQzNzcwNDgzIgogICAgICAgeD0iLTAuMTE3OTU5OTQiCiAgICAgICBoZWlnaHQ9IjAuMzUwODU1MiIKICAgICAgIHdpZHRoPSIxLjcxMTkzMTYiCiAgICAgICBpZD0icmVjdDQxNDQiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+PHJlY3QKICAgICAgIHJ5PSIzLjAxMDMxMDFlLTAwNSIKICAgICAgIHk9Ii0wLjAxNDI1ODg4OSIKICAgICAgIHg9Ii0xLjA4MDk5NDNlLTAwOCIKICAgICAgIGhlaWdodD0iMC4xNzg0NTIyNCIKICAgICAgIHdpZHRoPSIxLjYwNjA3IgogICAgICAgaWQ9InJlY3Q0MTQ2IgogICAgICAgc3R5bGU9ImZpbGw6IzQ2NGM1MDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MTtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPjxyZWN0CiAgICAgICByeT0iMy4wMTAzMWUtMDA1IgogICAgICAgeT0iMC42MTAzMjM4NSIKICAgICAgIHg9IjAiCiAgICAgICBoZWlnaHQ9IjAuMTc4NDUyMjQiCiAgICAgICB3aWR0aD0iMS42MDYwNyIKICAgICAgIGlkPSJyZWN0NDE0Ni00IgogICAgICAgc3R5bGU9ImNsaXAtcnVsZTpldmVub2RkO2ZpbGw6IzQ2NGM1MDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MTtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxO2ltYWdlLXJlbmRlcmluZzpvcHRpbWl6ZVF1YWxpdHk7c2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjt0ZXh0LXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb24iIC8+PHJlY3QKICAgICAgIHJ5PSIzLjAxMDMxZS0wMDUiCiAgICAgICB5PSIxLjIzNDkwNjYiCiAgICAgICB4PSIwIgogICAgICAgaGVpZ2h0PSIwLjE3ODQ1MjI0IgogICAgICAgd2lkdGg9IjEuNjA2MDciCiAgICAgICBpZD0icmVjdDQxNDYtNSIKICAgICAgIHN0eWxlPSJjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsOiM0NjRjNTA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjE7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtpbWFnZS1yZW5kZXJpbmc6b3B0aW1pemVRdWFsaXR5O3NoYXBlLXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247dGV4dC1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uIiAvPjwvZz48L3N2Zz4=)}#carrotquest-messenger-head-close{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE4cHgiIGhlaWdodD0iMTZweCIgc3R5bGU9InNoYXBlLXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IHRleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IGNsaXAtcnVsZTpldmVub2RkIg0Kdmlld0JveD0iMCAwIDEuNDIzMTMgMS40MjMxMyINCiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogPGRlZnM+DQogIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICA8IVtDREFUQVsNCiAgICAuZmlsMCB7ZmlsbDojNjM2QjcxfQ0KICAgXV0+DQogIDwvc3R5bGU+DQogPC9kZWZzPg0KIDxnIGlkPSLQodC70L7QuV94MDAyMF8xIj4NCiAgPG1ldGFkYXRhIGlkPSJDb3JlbENvcnBJRF8wQ29yZWwtTGF5ZXIiLz4NCiAgPHBvbHlnb24gY2xhc3M9ImZpbDAiIHBvaW50cz0iMC4xNDQ1OTQsMC4wMDAxMDc1ODUgMC43MTE1NjUsMC41NjcwNzkgMS4yNzg2NCwwIDEuNDIzMTMsMC4xNDQ0ODYgMC44NTYwNTIsMC43MTE1NjUgMS40MjI5MiwxLjI3ODMyIDEuMjc4MzIsMS40MjI5MiAwLjcxMTU2NSwwLjg1NjA1MiAwLjE0NDQ4NiwxLjQyMzEzIC0wLDEuMjc4NjQgMC41NjcwNzksMC43MTE1NjUgMC4wMDAxMDc1ODUsMC4xNDQ1OTQgIi8+DQogPC9nPg0KPC9zdmc+DQo=)}#carrotquest-messenger-head-close:hover{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE4cHgiIGhlaWdodD0iMTZweCIgc3R5bGU9InNoYXBlLXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IHRleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IGNsaXAtcnVsZTpldmVub2RkIg0Kdmlld0JveD0iMCAwIDEuNDIzMTMgMS40MjMxMyINCiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogPGRlZnM+DQogIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICA8IVtDREFUQVsNCiAgICAuZmlsMCB7ZmlsbDojNDY0QzUwfQ0KICAgXV0+DQogIDwvc3R5bGU+DQogPC9kZWZzPg0KIDxnIGlkPSLQodC70L7QuV94MDAyMF8xIj4NCiAgPG1ldGFkYXRhIGlkPSJDb3JlbENvcnBJRF8wQ29yZWwtTGF5ZXIiLz4NCiAgPHBvbHlnb24gY2xhc3M9ImZpbDAiIHBvaW50cz0iMC4xNDQ1OTQsMC4wMDAxMDc1ODUgMC43MTE1NjUsMC41NjcwNzkgMS4yNzg2NCwwIDEuNDIzMTMsMC4xNDQ0ODYgMC44NTYwNTIsMC43MTE1NjUgMS40MjI5MiwxLjI3ODMyIDEuMjc4MzIsMS40MjI5MiAwLjcxMTU2NSwwLjg1NjA1MiAwLjE0NDQ4NiwxLjQyMzEzIC0wLDEuMjc4NjQgMC41NjcwNzksMC43MTE1NjUgMC4wMDAxMDc1ODUsMC4xNDQ1OTQgIi8+DQogPC9nPg0KPC9zdmc+DQo=)}#carrotquest-messenger-reply-button,#carrotquest-messenger-autoreply-request-ok,#carrotquest-messenger-innerreply-submit{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnMiIKICAgdmlld0JveD0iMCAwIDM1LjIwOCAyOS4xMzA5IgogICBzdHlsZT0ic2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgdGV4dC1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyBpbWFnZS1yZW5kZXJpbmc6b3B0aW1pemVRdWFsaXR5OyBmaWxsLXJ1bGU6ZXZlbm9kZDsgY2xpcC1ydWxlOmV2ZW5vZGQiCiAgIGhlaWdodD0iMjBweCIKICAgd2lkdGg9IjI0cHgiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiPjxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTE0Ij48cmRmOlJERj48Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+PGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+PGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPjxkYzp0aXRsZT48L2RjOnRpdGxlPjwvY2M6V29yaz48L3JkZjpSREY+PC9tZXRhZGF0YT48ZGVmcwogICAgIGlkPSJkZWZzNCI+PHN0eWxlCiAgICAgICBpZD0ic3R5bGU2IgogICAgICAgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWwogICAgLmZpbDAge2ZpbGw6Izk1OTU5NTtmaWxsLXJ1bGU6bm9uemVyb30KICAgXV0+PC9zdHlsZT48L2RlZnM+PGcKICAgICBpZD0i0KHQu9C+0LlfeDAwMjBfMSI+PG1ldGFkYXRhCiAgICAgICBpZD0iQ29yZWxDb3JwSURfMENvcmVsLUxheWVyIiAvPjxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojOTU5NTk1O2ZpbGwtcnVsZTpub256ZXJvIgogICAgICAgaWQ9InBhdGgxMCIKICAgICAgIGQ9Ik0gNC4xMjgsMCAzMS4wOCwwIGMgMS4xMjk3MSwwIDIuMTYsMC40NTYgMi45MDU3MSwxLjE4NjI5IGwgMC4wMDM0LDAuMDAzNDMgMC4wMTM3MSwwLjAxMzcxNCBjIDAuNzQyMjg2LDAuNzMzNzE0IDEuMjA1MTQsMS43NDY4NiAxLjIwNTE0LDIuODU2IGwgMCwxNS4zMTg5NSBjIDAsMS4xMTYgLTAuNDY4LDIuMTM0MjkgLTEuMjE4ODYsMi44Njk3MSBsIC0wLjAwMzQsMC4wMDM0IC0wLjAwMTcsMC4wMDE3IGMgLTAuNzQ1NzE0LDAuNzI4NTcxIC0xLjc3NiwxLjE4NDU3IC0yLjkwNCwxLjE4NDU3IGwgLTE5LjQ0MTcsMCAtNC43MTQyOSw1LjA5NjU3IGMgLTAuMjY5MTQzLDAuMjkxNDI5IC0wLjcxMjM2MjgsMC4zMDg1NzEgLTEuMDAzNzkxOCwwLjAzOTQzIC0wLjE1MjU3MSwtMC4xNDA1NzEgLTAuMjI5NzE0LC0wLjMzNDI4NiAtMC4yMjk3MTQsLTAuNTI5NzE0IGwgLTAuMDA2ODYsMCAwLC00LjYwNjI5IC0xLjU1NTYzODIsMCBjIC0xLjEyOTcxLDAgLTIuMTYsLTAuNDU2IC0yLjkwNTcxLC0xLjE4NjI5IEwgMS4yMTg4NjYsMjIuMjQ4MDcgMS4yMDUxNTIsMjIuMjM0MzUgQyAwLjQ2Mjg2LDIxLjUwMDY1MyA2ZS02LDIwLjQ4NzUwNyA2ZS02LDE5LjM3ODM2NyBsIDAsLTE1LjMxODk0OTUgYyAwLC0xLjExNiAwLjQ2OCwtMi4xMzQyOSAxLjIxODg2LC0yLjg2OTcxIGwgMC4wMDM0MywtMC4wMDM0MyAwLjAwMTcxLC0wLjAwMTcxIEMgMS45Njk3MjI5LDAuNDU1OTkzNiAzLjAwMDAwODksLTUuNGUtNiA0LjEyOCwwIFogbSAxNy44MDExLDEwLjM1NjE4NCAyLjkwNCwwIDAsMi43Mzg0ODcgLTIuOTA0LDAgeiBtIC01Ljg1NzcxLDAgMi45MDQsMCAwLDIuNzM4NDg3IC0yLjkwNCwwIHogbSAtNS44NTYsMCAyLjkwNCwwIDAsMi43Mzg0ODcgLTIuOTA0LDAgeiBtIDIwLjg2NDYsLTguOTAyNDQ0IC0yNi45NTIsMCBjIC0wLjcyODU3MSwwIC0xLjM5MiwwLjI4OCAtMS44NzIsMC43NDU3MTQgTCAyLjIzMzcwNCwyLjIyMTc0IDIuMjMwMjc0LDIuMjI1MTcgQyAxLjc1MzcwMywyLjY5MTQ1NiAxLjQ1MzcwMywzLjM0Mjg4IDEuNDUzNzAzLDQuMDU5NDYgbCAwLDE1LjMxODk1IGMgMCwwLjcxMTQyOSAwLjI5NDg1NywxLjM1OTQzIDAuNzY2Mjg2LDEuODI0IGwgMC4wMTAyODYsMC4wMTAyOSAwLjAwMzQzLDAuMDAzNCBjIDAuNDgxNzE0LDAuNDcxNDI5IDEuMTUzNzEsMC43NjggMS44OTQyOSwwLjc2OCBsIDIuMjY2MjksMCBjIDAuNDAxMTQzLDAgMC43MjY4NTcsMC4zMjU3MTQgMC43MjY4NTcsMC43MjY4NTcgbCAwLDMuNDg1MTQgMy42MTcxNCwtMy45MTAyOSBjIDAuMTMyLC0wLjE4MzQyOSAwLjM0NjI4NiwtMC4zMDE3MTQgMC41ODk3MTQsLTAuMzAxNzE0IGwgMTkuNzUyLDAgYyAwLjcyODU3MSwwIDEuMzkyLC0wLjI4OCAxLjg3MiwtMC43NDU3MTQgbCAwLjAyMjI5LC0wLjAyMjI5IDAuMDAzNCwtMC4wMDM0IGMgMC40NzY1NzEsLTAuNDY2Mjg2IDAuNzc2NTcxLC0xLjExNzcxIDAuNzc2NTcxLC0xLjgzNDI5IGwgMCwtMTUuMzE4OTUgYyAwLC0wLjcxMTQyOSAtMC4yOTQ4NTcsLTEuMzU5NDMgLTAuNzY2Mjg2LC0xLjgyNCBsIC0wLjAxMDI4LC0wLjAxMDI4NiAtMC4wMDM0LC0wLjAwMzQzIEMgMzIuNDkyNTY3LDEuNzUwMzA0IDMxLjgyMDU3MSwxLjQ1MzczMyAzMS4wNzk5OSwxLjQ1Mzc0IFoiCiAgICAgICBjbGFzcz0iZmlsMCIgLz48L2c+PC9zdmc+)}#carrotquest-messenger-reply-button:hover{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnMiIKICAgdmlld0JveD0iMCAwIDM1LjIwOCAyOS4xMzA5IgogICBzdHlsZT0ic2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgdGV4dC1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyBpbWFnZS1yZW5kZXJpbmc6b3B0aW1pemVRdWFsaXR5OyBmaWxsLXJ1bGU6ZXZlbm9kZDsgY2xpcC1ydWxlOmV2ZW5vZGQiCiAgIGhlaWdodD0iMjBweCIKICAgd2lkdGg9IjI0cHgiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiPjxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTE0Ij48cmRmOlJERj48Y2M6V29yawogICAgICAgICByZGY6YWJvdXQ9IiI+PGRjOmZvcm1hdD5pbWFnZS9zdmcreG1sPC9kYzpmb3JtYXQ+PGRjOnR5cGUKICAgICAgICAgICByZGY6cmVzb3VyY2U9Imh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlIiAvPjxkYzp0aXRsZT48L2RjOnRpdGxlPjwvY2M6V29yaz48L3JkZjpSREY+PC9tZXRhZGF0YT48ZGVmcwogICAgIGlkPSJkZWZzNCI+PHN0eWxlCiAgICAgICBpZD0ic3R5bGU2IgogICAgICAgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWwogICAgLmZpbDAge2ZpbGw6Izk1OTU5NTtmaWxsLXJ1bGU6bm9uemVyb30KICAgXV0+PC9zdHlsZT48L2RlZnM+PGcKICAgICBpZD0i0KHQu9C+0LlfeDAwMjBfMSI+PG1ldGFkYXRhCiAgICAgICBpZD0iQ29yZWxDb3JwSURfMENvcmVsLUxheWVyIiAvPjxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDojN2E3YTdhO2ZpbGwtcnVsZTpub256ZXJvO2ZpbGwtb3BhY2l0eToxIgogICAgICAgaWQ9InBhdGgxMCIKICAgICAgIGQ9Ik0gNC4xMjgsMCAzMS4wOCwwIGMgMS4xMjk3MSwwIDIuMTYsMC40NTYgMi45MDU3MSwxLjE4NjI5IGwgMC4wMDM0LDAuMDAzNDMgMC4wMTM3MSwwLjAxMzcxNCBjIDAuNzQyMjg2LDAuNzMzNzE0IDEuMjA1MTQsMS43NDY4NiAxLjIwNTE0LDIuODU2IGwgMCwxNS4zMTg5NSBjIDAsMS4xMTYgLTAuNDY4LDIuMTM0MjkgLTEuMjE4ODYsMi44Njk3MSBsIC0wLjAwMzQsMC4wMDM0IC0wLjAwMTcsMC4wMDE3IGMgLTAuNzQ1NzE0LDAuNzI4NTcxIC0xLjc3NiwxLjE4NDU3IC0yLjkwNCwxLjE4NDU3IGwgLTE5LjQ0MTcsMCAtNC43MTQyOSw1LjA5NjU3IGMgLTAuMjY5MTQzLDAuMjkxNDI5IC0wLjcxMjM2MjgsMC4zMDg1NzEgLTEuMDAzNzkxOCwwLjAzOTQzIC0wLjE1MjU3MSwtMC4xNDA1NzEgLTAuMjI5NzE0LC0wLjMzNDI4NiAtMC4yMjk3MTQsLTAuNTI5NzE0IGwgLTAuMDA2ODYsMCAwLC00LjYwNjI5IC0xLjU1NTYzODIsMCBjIC0xLjEyOTcxLDAgLTIuMTYsLTAuNDU2IC0yLjkwNTcxLC0xLjE4NjI5IEwgMS4yMTg4NjYsMjIuMjQ4MDcgMS4yMDUxNTIsMjIuMjM0MzUgQyAwLjQ2Mjg2LDIxLjUwMDY1MyA2ZS02LDIwLjQ4NzUwNyA2ZS02LDE5LjM3ODM2NyBsIDAsLTE1LjMxODk0OTUgYyAwLC0xLjExNiAwLjQ2OCwtMi4xMzQyOSAxLjIxODg2LC0yLjg2OTcxIGwgMC4wMDM0MywtMC4wMDM0MyAwLjAwMTcxLC0wLjAwMTcxIEMgMS45Njk3MjI5LDAuNDU1OTkzNiAzLjAwMDAwODksLTUuNGUtNiA0LjEyOCwwIFogbSAxNy44MDExLDEwLjM1NjE4NCAyLjkwNCwwIDAsMi43Mzg0ODcgLTIuOTA0LDAgeiBtIC01Ljg1NzcxLDAgMi45MDQsMCAwLDIuNzM4NDg3IC0yLjkwNCwwIHogbSAtNS44NTYsMCAyLjkwNCwwIDAsMi43Mzg0ODcgLTIuOTA0LDAgeiBtIDIwLjg2NDYsLTguOTAyNDQ0IC0yNi45NTIsMCBjIC0wLjcyODU3MSwwIC0xLjM5MiwwLjI4OCAtMS44NzIsMC43NDU3MTQgTCAyLjIzMzcwNCwyLjIyMTc0IDIuMjMwMjc0LDIuMjI1MTcgQyAxLjc1MzcwMywyLjY5MTQ1NiAxLjQ1MzcwMywzLjM0Mjg4IDEuNDUzNzAzLDQuMDU5NDYgbCAwLDE1LjMxODk1IGMgMCwwLjcxMTQyOSAwLjI5NDg1NywxLjM1OTQzIDAuNzY2Mjg2LDEuODI0IGwgMC4wMTAyODYsMC4wMTAyOSAwLjAwMzQzLDAuMDAzNCBjIDAuNDgxNzE0LDAuNDcxNDI5IDEuMTUzNzEsMC43NjggMS44OTQyOSwwLjc2OCBsIDIuMjY2MjksMCBjIDAuNDAxMTQzLDAgMC43MjY4NTcsMC4zMjU3MTQgMC43MjY4NTcsMC43MjY4NTcgbCAwLDMuNDg1MTQgMy42MTcxNCwtMy45MTAyOSBjIDAuMTMyLC0wLjE4MzQyOSAwLjM0NjI4NiwtMC4zMDE3MTQgMC41ODk3MTQsLTAuMzAxNzE0IGwgMTkuNzUyLDAgYyAwLjcyODU3MSwwIDEuMzkyLC0wLjI4OCAxLjg3MiwtMC43NDU3MTQgbCAwLjAyMjI5LC0wLjAyMjI5IDAuMDAzNCwtMC4wMDM0IGMgMC40NzY1NzEsLTAuNDY2Mjg2IDAuNzc2NTcxLC0xLjExNzcxIDAuNzc2NTcxLC0xLjgzNDI5IGwgMCwtMTUuMzE4OTUgYyAwLC0wLjcxMTQyOSAtMC4yOTQ4NTcsLTEuMzU5NDMgLTAuNzY2Mjg2LC0xLjgyNCBsIC0wLjAxMDI4LC0wLjAxMDI4NiAtMC4wMDM0LC0wLjAwMzQzIEMgMzIuNDkyNTY3LDEuNzUwMzA0IDMxLjgyMDU3MSwxLjQ1MzczMyAzMS4wNzk5OSwxLjQ1Mzc0IFoiCiAgICAgICBjbGFzcz0iZmlsMCIgLz48L2c+PC9zdmc+)}#carrotquest-messenger-conversations-zero{width:94px;height:72px;display:block;margin:0 auto;background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI5NXB4IiBoZWlnaHQ9IjczcHgiIHN0eWxlPSJzaGFwZS1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyB0ZXh0LXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IGltYWdlLXJlbmRlcmluZzpvcHRpbWl6ZVF1YWxpdHk7IGZpbGwtcnVsZTpldmVub2RkOyBjbGlwLXJ1bGU6ZXZlbm9kZCINIHZpZXdCb3g9IjAgMCAyNi4wMjA3IDIwLjA4OTgiDSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DSA8ZGVmcz4NIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DSA8IVtDREFUQVsNIC5maWwwIHtmaWxsOiNDOEM4Qzh9DSBdXT4NIDwvc3R5bGU+DSA8L2RlZnM+DSA8ZyBpZD0iTGF5ZXJfeDAwMjBfMSI+DSA8bWV0YWRhdGEgaWQ9IkNvcmVsQ29ycElEXzBDb3JlbC1MYXllciIvPg0gPHBhdGggY2xhc3M9ImZpbDAiIGQ9Ik0yLjIyMDY3IDE1LjMyNzdsMCAtMy40ODQyNSAtMS4xMTAzMyAwYy0wLjYxMjA2LDAgLTEuMTEwMTQsLTAuNDk4MDgxIC0xLjExMDE0LC0xLjExMDMzbC0wLjAwMDE5MjUzMiAtOS42MjI3NmMwLC0wLjYxMjA2IDAuNDk4MDgxLC0xLjExMDE0IDEuMTEwMzMsLTEuMTEwMTRsMTUuNTQ0MyAtMC4wMDAxOTI1MzJjMC42MTIwNiwwIDEuMTEwMzMsMC40OTgwODEgMS4xMTAzMywxLjExMDMzbDAgOS42MjI3NmMwLDAuNjEyMjUyIC0wLjQ5ODA4MSwxLjExMDUzIC0xLjExMDMzLDEuMTEwNTNsLTEwLjk0OTcgLTAuMDAwMTkyNTMyIC0zLjQ4NDI1IDMuNDg0MjV6bTE3LjEzODMgLTQuNjQzNjhjMCwtMC40MDg3NDYgMC4zMzEzNDgsLTAuNzQwMjg2IDAuNzQwMDk0LC0wLjc0MDI4NiAwLjQwODc0NiwwIDAuNzQwMDk0LDAuMzMxNTQgMC43NDAwOTQsMC43NDAyODYgMCwwLjQwODc0NiAtMC4zMzEzNDgsMC43NDAwOTQgLTAuNzQwMDk0LDAuNzQwMDk0IC0wLjQwODc0NiwwIC0wLjc0MDA5NCwtMC4zMzEzNDggLTAuNzQwMDk0LC0wLjc0MDA5NHptLTExLjEwMzEgMS44OTQ1MmwwIDIuOTE2ODZjMCwwLjYxMjA2IDAuNDk4MDgxLDEuMTEwMzMgMS4xMTAzMywxLjExMDMzbDEwLjk0OTcgLTAuMDAwMTkyNTMyIDMuNDg0MjUgMy40ODQyNSAwIC0zLjQ4NDI1IDEuMTEwMzMgMGMwLjYxMjA2LDAgMS4xMTAxNCwtMC40OTgwODEgMS4xMTAxNCwtMS4xMTAxNGwwLjAwMDE5MjUzMiAtOS42MjI5NWMwLC0wLjYxMjA2IC0wLjQ5ODA4MSwtMS4xMTAxNCAtMS4xMTAzMywtMS4xMTAxNCAtMi4xNDA3NywwIC00LjI4MTcyLDAgLTYuNDIyNDksMGwwIDAuNzQwMDk0IDYuNDIyNDkgMGMwLjIwNDI3NywwIDAuMzcwMDQ3LDAuMTY1NzcgMC4zNzAwNDcsMC4zNzAwNDdsMCA5LjYyMjk1YzAsMC4yMDQyNzcgLTAuMTY1NzcsMC4zNzAwNDcgLTAuMzcwMDQ3LDAuMzcwMDQ3bC0xLjg1MDYyIC0wLjAwMDE5MjUzMiAwIDIuNDM3NDYgLTIuNDM3NDYgLTIuNDM3NDYgLTExLjI1NjIgMGMtMC4yMDQyNzcsMCAtMC4zNzAwNDcsLTAuMTY1NzcgLTAuMzcwMDQ3LC0wLjM3MDA0N2wwIC0yLjkxMTI4IC0wLjc0MDI4NiAtMC4wMDUzOTA5em0xLjM2Njc5IC02LjY1NjYxYzAsLTAuNDA4NzQ2IC0wLjMzMTM0OCwtMC43NDAwOTQgLTAuNzQwMDk0LC0wLjc0MDA5NCAtMC40MDg3NDYsMCAtMC43NDAwOTQsMC4zMzEzNDggLTAuNzQwMDk0LDAuNzQwMDk0IDAsMC40MDg3NDYgMC4zMzEzNDgsMC43NDAwOTQgMC43NDAwOTQsMC43NDAwOTQgMC40MDg3NDYsMCAwLjc0MDA5NCwtMC4zMzEzNDggMC43NDAwOTQsLTAuNzQwMDk0em0yLjk2MDc2IDBjMCwtMC40MDg3NDYgLTAuMzMxMzQ4LC0wLjc0MDA5NCAtMC43NDAwOTQsLTAuNzQwMDk0IC0wLjQwODc0NiwwIC0wLjc0MDA5NCwwLjMzMTM0OCAtMC43NDAwOTQsMC43NDAwOTQgMCwwLjQwODc0NiAwLjMzMTM0OCwwLjc0MDA5NCAwLjc0MDA5NCwwLjc0MDA5NCAwLjQwODc0NiwwIDAuNzQwMDk0LC0wLjMzMTM0OCAwLjc0MDA5NCwtMC43NDAwOTR6bS01LjkyMTUyIDBjMCwtMC40MDg3NDYgLTAuMzMxMzQ4LC0wLjc0MDA5NCAtMC43NDAwOTQsLTAuNzQwMDk0IC0wLjQwODc0NiwwIC0wLjc0MDA5NCwwLjMzMTM0OCAtMC43NDAwOTQsMC43NDAwOTQgMCwwLjQwODc0NiAwLjMzMTM0OCwwLjc0MDA5NCAwLjc0MDA5NCwwLjc0MDA5NCAwLjQwODc0NiwwIDAuNzQwMDk0LC0wLjMzMTM0OCAwLjc0MDA5NCwtMC43NDAwOTR6bS01LjU1MTQ3IC01LjE4MTYyYy0wLjIwNDI3NywwIC0wLjM3MDA0NywwLjE2NTc3IC0wLjM3MDA0NywwLjM3MDA0N2wwIDkuNjIyNzZjMCwwLjIwNDQ2OSAwLjE2NTc3LDAuMzcwMjM5IDAuMzcwMDQ3LDAuMzcwMjM5bDEuODUwNjIgLTAuMDAwMTkyNTMyIDAgMi40Mzc0NiAyLjQzNzQ2IC0yLjQzNzQ2IDExLjI1NjIgMGMwLjIwNDI3NywwIDAuMzcwMDQ3LC0wLjE2NTc3IDAuMzcwMDQ3LC0wLjM3MDA0N2wwIC05LjYyMjc2YzAsLTAuMjA0Mjc3IC0wLjE2NTc3LC0wLjM3MDA0NyAtMC4zNzAwNDcsLTAuMzcwMDQ3bC0xNS41NDQzIDB6Ii8+DSA8L2c+DSA8L3N2Zz4N)}#carrotquest-messenger-writeus-icon{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRvcjogQ29yZWxEUkFXIC0tPgoKPHN2ZwogICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgIHhtbG5zOmNjPSJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyMiCiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxuczpzb2RpcG9kaT0iaHR0cDovL3NvZGlwb2RpLnNvdXJjZWZvcmdlLm5ldC9EVEQvc29kaXBvZGktMC5kdGQiCiAgIHhtbG5zOmlua3NjYXBlPSJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlIgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICB3aWR0aD0iMjRweCIKICAgaGVpZ2h0PSIyMHB4IgogICBzdHlsZT0ic2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgdGV4dC1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyBpbWFnZS1yZW5kZXJpbmc6b3B0aW1pemVRdWFsaXR5OyBmaWxsLXJ1bGU6ZXZlbm9kZDsgY2xpcC1ydWxlOmV2ZW5vZGQiCiAgIHZpZXdCb3g9IjAgMCAzNS4yMDggMjkuMTMwOSIKICAgaWQ9InN2ZzIiCiAgIHZlcnNpb249IjEuMSIKICAgaW5rc2NhcGU6dmVyc2lvbj0iMC45MSByMTM3MjUiCiAgIHNvZGlwb2RpOmRvY25hbWU9InJlcGx5LXdoaXRlLWFsdDcuc3ZnIj48bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGExNCI+PHJkZjpSREY+PGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPjxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PjxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz48ZGM6dGl0bGU+PC9kYzp0aXRsZT48L2NjOldvcms+PC9yZGY6UkRGPjwvbWV0YWRhdGE+PHNvZGlwb2RpOm5hbWVkdmlldwogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxIgogICAgIG9iamVjdHRvbGVyYW5jZT0iMTAiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAiCiAgICAgZ3VpZGV0b2xlcmFuY2U9IjEwIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxNjgwIgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijk4NyIKICAgICBpZD0ibmFtZWR2aWV3MTIiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIHNob3dndWlkZXM9InRydWUiCiAgICAgaW5rc2NhcGU6Z3VpZGUtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTp6b29tPSIxNiIKICAgICBpbmtzY2FwZTpjeD0iNS41NDUyNzk2IgogICAgIGlua3NjYXBlOmN5PSIyLjM5MzQ3ODciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjE5MTIiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjE4IgogICAgIGlua3NjYXBlOndpbmRvdy1tYXhpbWl6ZWQ9IjEiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0i0KHQu9C+0LlfeDAwMjBfMSI+PHNvZGlwb2RpOmd1aWRlCiAgICAgICBwb3NpdGlvbj0iMTIuNjEyNzYyLDUuMzkzNzY4MiIKICAgICAgIG9yaWVudGF0aW9uPSIwLDEiCiAgICAgICBpZD0iZ3VpZGU0MTQyIiAvPjwvc29kaXBvZGk6bmFtZWR2aWV3PjxkZWZzCiAgICAgaWQ9ImRlZnM0Ij48c3R5bGUKICAgICAgIHR5cGU9InRleHQvY3NzIgogICAgICAgaWQ9InN0eWxlNiI+PCFbQ0RBVEFbCiAgICAuZmlsMCB7ZmlsbDojOTU5NTk1O2ZpbGwtcnVsZTpub256ZXJvfQogICBdXT48L3N0eWxlPjwvZGVmcz48ZwogICAgIGlkPSLQodC70L7QuV94MDAyMF8xIj48bWV0YWRhdGEKICAgICAgIGlkPSJDb3JlbENvcnBJRF8wQ29yZWwtTGF5ZXIiIC8+PHBhdGgKICAgICAgIGNsYXNzPSJmaWwwIgogICAgICAgZD0iTSA0LjEyOCwwIDMxLjA4LDAgYyAxLjEyOTcxLDAgMi4xNiwwLjQ1NiAyLjkwNTcxLDEuMTg2MjkgbCAwLjAwMzQsMC4wMDM0MyAwLjAxMzcxLDAuMDEzNzE0IGMgMC43NDIyODYsMC43MzM3MTQgMS4yMDUxNCwxLjc0Njg2IDEuMjA1MTQsMi44NTYgbCAwLDE1LjMxODk1IGMgMCwxLjExNiAtMC40NjgsMi4xMzQyOSAtMS4yMTg4NiwyLjg2OTcxIGwgLTAuMDAzNCwwLjAwMzQgLTAuMDAxNywwLjAwMTcgYyAtMC43NDU3MTQsMC43Mjg1NzEgLTEuNzc2LDEuMTg0NTcgLTIuOTA0LDEuMTg0NTcgbCAtMTkuNDQxNywwIC00LjcxNDI5LDUuMDk2NTcgYyAtMC4yNjkxNDMsMC4yOTE0MjkgLTAuNzEyMzYyOCwwLjMwODU3MSAtMS4wMDM3OTE4LDAuMDM5NDMgLTAuMTUyNTcxLC0wLjE0MDU3MSAtMC4yMjk3MTQsLTAuMzM0Mjg2IC0wLjIyOTcxNCwtMC41Mjk3MTQgbCAtMC4wMDY4NiwwIDAsLTQuNjA2MjkgLTEuNTU1NjM4MiwwIGMgLTEuMTI5NzEsMCAtMi4xNiwtMC40NTYgLTIuOTA1NzEsLTEuMTg2MjkgTCAxLjIxODg2NiwyMi4yNDgwNyAxLjIwNTE1MiwyMi4yMzQzNSBDIDAuNDYyODYsMjEuNTAwNjUzIDZlLTYsMjAuNDg3NTA3IDZlLTYsMTkuMzc4MzY3IGwgMCwtMTUuMzE4OTQ5NSBjIDAsLTEuMTE2IDAuNDY4LC0yLjEzNDI5IDEuMjE4ODYsLTIuODY5NzEgbCAwLjAwMzQzLC0wLjAwMzQzIDAuMDAxNzEsLTAuMDAxNzEgQyAxLjk2OTcyMjksMC40NTU5OTM2IDMuMDAwMDA4OSwtNS40ZS02IDQuMTI4LDAgWiBtIDE3LjgwMTEsMTAuMzU2MTg0IDIuOTA0LDAgMCwyLjczODQ4NyAtMi45MDQsMCB6IG0gLTUuODU3NzEsMCAyLjkwNCwwIDAsMi43Mzg0ODcgLTIuOTA0LDAgeiBtIC01Ljg1NiwwIDIuOTA0LDAgMCwyLjczODQ4NyAtMi45MDQsMCB6IG0gMjAuODY0NiwtOC45MDI0NDQgLTI2Ljk1MiwwIGMgLTAuNzI4NTcxLDAgLTEuMzkyLDAuMjg4IC0xLjg3MiwwLjc0NTcxNCBMIDIuMjMzNzA0LDIuMjIxNzQgMi4yMzAyNzQsMi4yMjUxNyBDIDEuNzUzNzAzLDIuNjkxNDU2IDEuNDUzNzAzLDMuMzQyODggMS40NTM3MDMsNC4wNTk0NiBsIDAsMTUuMzE4OTUgYyAwLDAuNzExNDI5IDAuMjk0ODU3LDEuMzU5NDMgMC43NjYyODYsMS44MjQgbCAwLjAxMDI4NiwwLjAxMDI5IDAuMDAzNDMsMC4wMDM0IGMgMC40ODE3MTQsMC40NzE0MjkgMS4xNTM3MSwwLjc2OCAxLjg5NDI5LDAuNzY4IGwgMi4yNjYyOSwwIGMgMC40MDExNDMsMCAwLjcyNjg1NywwLjMyNTcxNCAwLjcyNjg1NywwLjcyNjg1NyBsIDAsMy40ODUxNCAzLjYxNzE0LC0zLjkxMDI5IGMgMC4xMzIsLTAuMTgzNDI5IDAuMzQ2Mjg2LC0wLjMwMTcxNCAwLjU4OTcxNCwtMC4zMDE3MTQgbCAxOS43NTIsMCBjIDAuNzI4NTcxLDAgMS4zOTIsLTAuMjg4IDEuODcyLC0wLjc0NTcxNCBsIDAuMDIyMjksLTAuMDIyMjkgMC4wMDM0LC0wLjAwMzQgYyAwLjQ3NjU3MSwtMC40NjYyODYgMC43NzY1NzEsLTEuMTE3NzEgMC43NzY1NzEsLTEuODM0MjkgbCAwLC0xNS4zMTg5NSBjIDAsLTAuNzExNDI5IC0wLjI5NDg1NywtMS4zNTk0MyAtMC43NjYyODYsLTEuODI0IGwgLTAuMDEwMjgsLTAuMDEwMjg2IC0wLjAwMzQsLTAuMDAzNDMgQyAzMi40OTI1NjcsMS43NTAzMDQgMzEuODIwNTcxLDEuNDUzNzMzIDMxLjA3OTk5LDEuNDUzNzQgWiIKICAgICAgIGlkPSJwYXRoMTAiCiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPSIwIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLXJ1bGU6bm9uemVybztmaWxsLW9wYWNpdHk6MSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0ic3NjY2Nzc2NjY3NjY2NjY2NzY2Njc3NjY2NzY2NjY2NjY2NjY2NjY2Njc3NjY2Nzc2NjY3Nzc2Njc3NjY2Nzc2NjY3MiIC8+PC9nPjwvc3ZnPg==)}#carrotquest-messenger-collapsed-close{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE4cHgiIGhlaWdodD0iMThweCIgc3R5bGU9InNoYXBlLXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IHRleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IGNsaXAtcnVsZTpldmVub2RkIg0Kdmlld0JveD0iMCAwIDIuMzIzMzMgMi4zMjMzMyINCiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogPGRlZnM+DQogIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICA8IVtDREFUQVsNCiAgICAuZmlsMCB7ZmlsbDojNjM2QjcxfQ0KICAgXV0+DQogIDwvc3R5bGU+DQogPC9kZWZzPg0KIDxnIGlkPSLQodC70L7QuV94MDAyMF8xIj4NCiAgPG1ldGFkYXRhIGlkPSJDb3JlbENvcnBJRF8wQ29yZWwtTGF5ZXIiLz4NCiAgPHBhdGggY2xhc3M9ImZpbDAiIGQ9Ik0xLjE2MTY2IDBjMC42NDE1MDcsMCAxLjE2MTY2LDAuNTIwMTU3IDEuMTYxNjYsMS4xNjE2NiAwLDAuNjQxNTA3IC0wLjUyMDE1NywxLjE2MTY2IC0xLjE2MTY2LDEuMTYxNjYgLTAuNjQxNTA3LDAgLTEuMTYxNjYsLTAuNTIwMTU3IC0xLjE2MTY2LC0xLjE2MTY2IDAsLTAuNjQxNTA3IDAuNTIwMTU3LC0xLjE2MTY2IDEuMTYxNjYsLTEuMTYxNjZ6bS0wLjY0NjUzOCAxLjYxMDMybDAuNDQ4ODExIC0wLjQ0ODgxMSAtMC40NDg5NjMgLTAuNDQ4ODExIDAuMTk3NzI3IC0wLjE5NzU3NCAwLjQ0ODgxMSAwLjQ0ODgxMSAwLjQ0ODgxMSAtMC40NDg4MTEgMC4xOTc3MjcgMC4xOTc1NzQgLTAuNDQ4OTYzIDAuNDQ4ODExIDAuNDQ4ODExIDAuNDQ4ODExIC0wLjE5NzU3NCAwLjE5NzcyNyAtMC40NDg4MTEgLTAuNDQ4ODExIC0wLjQ0ODgxMSAwLjQ0ODgxMSAtMC4xOTc1NzQgLTAuMTk3NzI3eiIvPg0KIDwvZz4NCjwvc3ZnPg0K)}#carrotquest-messenger-body-big-cont-close{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0ic3ZnMiIKICAgdmlld0JveD0iMCAwIDEuNDIzMTMgMS40MjMxMyIKICAgc3R5bGU9InNoYXBlLXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IHRleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IGNsaXAtcnVsZTpldmVub2RkIgogICBoZWlnaHQ9IjE2cHgiCiAgIHdpZHRoPSIxOHB4IgogICB4bWw6c3BhY2U9InByZXNlcnZlIj48bWV0YWRhdGEKICAgICBpZD0ibWV0YWRhdGExNCI+PHJkZjpSREY+PGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPjxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PjxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz48ZGM6dGl0bGU+PC9kYzp0aXRsZT48L2NjOldvcms+PC9yZGY6UkRGPjwvbWV0YWRhdGE+PGRlZnMKICAgICBpZD0iZGVmczQiPjxzdHlsZQogICAgICAgaWQ9InN0eWxlNiIKICAgICAgIHR5cGU9InRleHQvY3NzIj48IVtDREFUQVsKICAgIC5maWwwIHtmaWxsOiM2MzZCNzF9CiAgIF1dPjwvc3R5bGU+PC9kZWZzPjxnCiAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZiIKICAgICBpZD0i0KHQu9C+0LlfeDAwMjBfMSI+PG1ldGFkYXRhCiAgICAgICBpZD0iQ29yZWxDb3JwSURfMENvcmVsLUxheWVyIiAvPjxwb2x5Z29uCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmIgogICAgICAgaWQ9InBvbHlnb24xMCIKICAgICAgIHBvaW50cz0iMC4xNDQ1OTQsMC4wMDAxMDc1ODUgMC43MTE1NjUsMC41NjcwNzkgMS4yNzg2NCwwIDEuNDIzMTMsMC4xNDQ0ODYgMC44NTYwNTIsMC43MTE1NjUgMS40MjI5MiwxLjI3ODMyIDEuMjc4MzIsMS40MjI5MiAwLjcxMTU2NSwwLjg1NjA1MiAwLjE0NDQ4NiwxLjQyMzEzIC0wLDEuMjc4NjQgMC41NjcwNzksMC43MTE1NjUgMC4wMDAxMDc1ODUsMC4xNDQ1OTQgIgogICAgICAgY2xhc3M9ImZpbDAiIC8+PC9nPjwvc3ZnPg==)}.carrotquest-messenger-icon-exclamation{background:url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjxzdmcgaGVpZ2h0PSIxNzkyIiB2aWV3Qm94PSIwIDAgMTc5MiAxNzkyIiB3aWR0aD0iMTc5MiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTAyNCAxMzc1di0xOTBxMC0xNC05LjUtMjMuNXQtMjIuNS05LjVoLTE5MnEtMTMgMC0yMi41IDkuNXQtOS41IDIzLjV2MTkwcTAgMTQgOS41IDIzLjV0MjIuNSA5LjVoMTkycTEzIDAgMjIuNS05LjV0OS41LTIzLjV6bS0yLTM3NGwxOC00NTlxMC0xMi0xMC0xOS0xMy0xMS0yNC0xMWgtMjIwcS0xMSAwLTI0IDExLTEwIDctMTAgMjFsMTcgNDU3cTAgMTAgMTAgMTYuNXQyNCA2LjVoMTg1cTE0IDAgMjMuNS02LjV0MTAuNS0xNi41em0tMTQtOTM0bDc2OCAxNDA4cTM1IDYzLTIgMTI2LTE3IDI5LTQ2LjUgNDZ0LTYzLjUgMTdoLTE1MzZxLTM0IDAtNjMuNS0xN3QtNDYuNS00NnEtMzctNjMtMi0xMjZsNzY4LTE0MDhxMTctMzEgNDctNDl0NjUtMTggNjUgMTggNDcgNDl6Ii8+PC9zdmc+")!important;width:16px!important;height:16px!important;display:inline-block!important}.carrotquest-messenger-sending-icon{background-image:url(data:image/gif;base64,R0lGODlhHQAKAOMAAMzOzOzq7Nze3NTW1PT29NTS1PTy9OTm5Nza3Pz+/P///wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAKACwAAAAAHQAKAAAEbLAARAAIwRIBSpKCYWEa0llDBRyHZZhAYiHZ1QKvJQ0iINSGgUU2qbFcQktHdcQlCbtegOPUAXiWZgBGpI1uBomy0GuGh7oyNXfCTm5bzawMFuuYQDGRnK1b+StgXGl9IzASFFlAJh6IUoIdEQAh+QQJCQALACwAAAAAHQAKAIPMzszs6uzc3tzU1tT09vTk5uTU0tT08vTk4uTc2tz8/vz///8AAAAAAAAAAAAAAAAEcXBJAkAIlQhglAHCUV1ZwkkLBSBFdZiAUiWYhbgwKq4tcAwVGYBWKdx8wJUgsGO5koTPYBc4/iqVaQVRewVnNSOuIm0eAzCVgWr9YA0qRPs7ND/JAC1vHCOzXW5+W3MAKkQrVjAfCVEWXQkGHYtUjxwRACH5BAkJAAsALAAAAAAdAAoAg8zOzOzq7Nze3PT29NTW1Pz+/NTS1PTy9OTm5Pz6/Nza3P///wAAAAAAAAAAAAAAAARwcMm5AgBDAFMMEMcVWJiyURNyHSaQXAoZqAB7oRJ9EFfiESEAQscDTBICELEHk2lqxcngMly1fAAgVecxSoIC2fViCFZrrUKiMBVymYDYVtTyKMC6cZx0PnTJZjQBendzNV12bQgkNgZYhQAzVgYGEQAh+QQJCQAMACwAAAAAHQAKAIPMzszs6uzc3tz09vTU1tTk5uT8/vzU0tT08vTk4uT8+vzc2tz///8AAAAAAAAAAAAEb5DJSZkAxxwgEABB8A0LVp0loHyLCCYfkp4V8Skb4QEFDCA2QEJQoCAEAkVqBWh9Aj7g50OguKQqlqsXS+Uo0SAOoHtGN9OqwmC4LrWfRPiT2yUKzzdmB42h6QNxV2hMTkJRXk1MIV0HB2MLfG4YEQAh+QQJCQAMACwAAAAAHQAKAIPMzszs6uzc3tz09vTU1tTk5uT8/vzU0tT08vTk4uT8+vzc2tz///8AAAAAAAAAAAAEcfCAxaq9zEiBAAiBNyyABBBYqk3hl3gIWZ4pZnhEBxQvgBAenELAuQQECYVk0Qr0fh7JYeBJXIAARVSXeMpw3ItMy/I4YSYpFZAwGBQM4IHMrD6xngW3FfPQm09pJVx3flKEMDJLayCJJUoTOo0+JAcRACH5BAkJAAwALAAAAAAdAAoAg8zOzOzq7Nze3PT29NTW1OTm5Pz+/NTS1PTy9OTi5Pz6/Nza3P///wAAAAAAAAAAAARx8IA1AAgs682QDYE1LIAEEBWQcKwHFIWFkOXpruwWXolMWJZDKoEQCBQaQ0IQcBV6AMSvRrjFoklL9QOdAUu3HSIpWewSXZNkq+oaFAqD1hXoToPDqxcgn5zTQWAWaD4lCkF0XTRlhxdiJAcKZXR6kBEAIfkECQkADAAsAAAAAB0ACgCDzM7M7Ors3N7c9Pb01NbU5Obk/P781NLU9PL05OLk/Pr83Nrc////AAAAAAAAAAAABHLwgDUACMEOxrtnGTAsgAQQFZAUFvK9SUuWJ2Kt7fvFAEJYlkMqEUIEBAlDRyEQIHi+YO0G/QGUHBugwOpZg9pEtaTohALQmYQQPs8MCoNBW4CagsO0RSFZnMc0B2F2exZsVC0mfQoWGDJkfVqOPQsHBxEAIfkECQkADAAsAAAAAB0ACgCDzM7M7Ors3N7c9Pb01NbU5Obk/P781NLU9PL05OLk/Pr83Nrc////AAAAAAAAAAAABHfwgDUACMEOAY5hYCgyS2cRFZAUFlIC3zi+EoFYa0tYsRzulk4qkQEggIqEICAKCAQKGsCGS7ReipqIZQRaDjeV9YK1LETj43caJrYkgOyUYVAY0q/vEG9RmMMBaXASYFUWAWUdYQVpQBILfhdFLh1yC4CTCwcHEQAh+QQJCQAMACwAAAAAHQAKAIPMzszs6uzc3tz09vTU1tTk5uT8/vzU0tT08vTk4uT8+vzc2tz///8AAAAAAAAAAAAEdPCANQAIwQ4BjpECI44kYxEVkBQWsliKtZS0RCDW2hKwTZeWQyqRASB4gNhkI0CQAoKEDadKtF5JyYEaICGD1IT1glUuit0RcporIiRJGdqgMDC+neHYBZNbCixGWFphYwFlfhd7axNKGFcdChILbxduLwcRACH5BAkJAAsALAAAAAAdAAoAg8zOzOzq7Nze3PT29NTW1Pz+/NTS1PTy9OTm5Pz6/Nza3P///wAAAAAAAAAAAAAAAAR00AA1AAjBDgFMkcJhBUtpLhZRAQhiHYqVWEp2naZEiIBgHwSZjkfCoTqr1isImE1sGIEgkQPsLMpLrDnEugAHk8XAyx4kzXH5Gy51J9/A1lnzvgqJwjj5QyckZHZgMQaAay9zNDZmaBIKTgg/hH8TRGwKhREAIfkECQkACwAsAAAAAB0ACgCDzM7M7Ors3N7c1NbU9Pb05Obk1NLU9PL05OLk3Nrc/P78////AAAAAAAAAAAAAAAABHLQgEQACMESAYySwmFh2mJaQwUghXUklmIl2YW45iIN4toCh0FsVivcgDmLQYWoBTW7XuB4CAgQUQuCCgPIJkWq0NLpbUddlUEqVgJ4WqfEOzNzyR3mnV4eUecSa1pHAWlEgy6AEyokQDAeEglSTgkGBhEAOw==)!important;width:29px!important;float:right!important;display:block!important;height:8px!important;margin:4px 0!important}.carrotquest-messenger-attachment-icon{background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4NCjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+DQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjE1cHgiIGhlaWdodD0iMTVweCIgc3R5bGU9InNoYXBlLXJlbmRlcmluZzpnZW9tZXRyaWNQcmVjaXNpb247IHRleHQtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgaW1hZ2UtcmVuZGVyaW5nOm9wdGltaXplUXVhbGl0eTsgZmlsbC1ydWxlOmV2ZW5vZGQ7IGNsaXAtcnVsZTpldmVub2RkIg0Kdmlld0JveD0iMCAwIDQ1Ljk4OTggNDQuNjkyNyINCiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQogPGRlZnM+DQogIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+DQogICA8IVtDREFUQVsNCiAgICAuZmlsMCB7ZmlsbDojN0E3QTdBO2ZpbGwtcnVsZTpub256ZXJvfQ0KICAgXV0+DQogIDwvc3R5bGU+DQogPC9kZWZzPg0KIDxnIGlkPSLQodC70L7QuV94MDAyMF8xIj4NCiAgPG1ldGFkYXRhIGlkPSJDb3JlbENvcnBJRF8wQ29yZWwtTGF5ZXIiLz4NCiAgPHBhdGggY2xhc3M9ImZpbDAiIGQ9Ik0xOC43MTYxIDI2LjQ1OWMtMC41NDMxMTYsMC42Mjg4NzEgLTEuNDk3MTQsMC42OTY3NiAtMi4xMjYwMSwwLjE1MzY0NSAtMC42Mjg4NzEsLTAuNTQzMTE2IC0wLjY5Njc2LC0xLjQ5NzE0IC0wLjE1MzY0NSwtMi4xMjYwMSAxLjkxODc3LC0yLjIxMTc3IDQuNjQ1MDcsLTUuNzA5ODYgNi44OTYxNCwtOC42MDQxbDAuMDUzNTk3IC0wLjA2NDMxNjNjMS4yNTc3NCwtMS42MTg2MyAyLjM4MzI4LC0zLjA1MTQ1IDMuMTc2NTEsLTQuMDE5NzcgMS41NzIxOCwtMi4yOTAzOCAzLjg5MTE0LC0zLjA2MjE3IDUuOTM4NTQsLTIuNzUxMzFsMC4xNjA3OTEgMC4wMzIxNTgyYzAuNzg2MDg5LDAuMTQyOTI1IDEuNTM2NDUsMC40NTAyMTQgMi4xNzk2MSwwLjg5Njg1NiAwLjcwMzkwNywwLjQ4NTk0NiAxLjI5NzA1LDEuMTQ2OTcgMS42OTAwOSwxLjkxODc3bDAuMDMyMTU4MiAwLjA3MTQ2MjYgMC4wMTA3MTk0IDAuMDIxNDM4OCAwLjAxMDcxOTQgMC4wMjUwMTE5YzAuODUzOTc4LDEuNzg2NTcgMC43NTM5Myw0LjIwMiAtMS4xNzE5OSw2LjgxMzk2bC0wLjExMDc2NyAwLjEzMjIwNmMtMS45NTA5MywyLjQ3NjE4IC00LjE3Njk5LDUuMzk5IC02LjQ2MDIyLDguMzg5NzEgLTMuNjYyNDYsNC44MDU4NiAtNy41MTA3Miw5Ljg1NDY5IC0xMS4zNTE4LDE0LjQ5NjJsLTAuMTk2NTIyIDAuMTkyOTQ5Yy0yLjc0NDE2LDIuNTk0MDkgLTYuMTk1ODEsMy4xMjY0OSAtOS4yOTM3MSwyLjI5MDM4IC0xLjUzMjg3LC0wLjQxNDQ4MyAtMi45OTc4NiwtMS4xNzkxMyAtNC4yMzA1OSwtMi4xOTM5IC0xLjIzNjMsLTEuMDE4MzQgLTIuMjU4MjIsLTIuMzA4MjQgLTIuOTIyODIsLTMuNzU4OTMgLTEuMjY4NDYsLTIuNzgzNDcgLTEuMjQ3MDIsLTYuMTYwMDggMC45OTMzMywtOS40ODMwOWwwLjEyODYzMyAtMC4xNjQzNjRjMS45MzMwNiwtMi40MzMzIDYuNjQ2MDIsLTguNDA3NTggMTEuMDgwMywtMTQuMDUzMSAzLjI1NTEyLC00LjE0NDgzIDYuMjI3OTcsLTcuOTQzMDcgNy42NTM2NCwtOS43OTc1MmwwLjEzOTM1MiAtMC4xNTcyMThjNC4zOTQ5NSwtNC44NTU4OCA5Ljk5MDQ3LC01LjU3NDA4IDE0Ljc5NjMsLTMuOTE5NzIgMS44NjE2LDAuNjM5NTkgMy42MTk1OCwxLjY1NDM2IDUuMTIzODcsMi45MTkyNSAxLjUxMTQzLDEuMjY4NDYgMi43ODM0NywyLjgwNDkxIDMuNjgzOSw0LjQ3NzEzIDIuMTcyNDYsNC4wMzQwNiAyLjMwMTEsOC45MTQ5NiAtMS4yMTQ4NiwxMy4yMDI3IC00LjExOTgyLDUuNjgxMjggLTQuODg0NDcsNi43NjM5NCAtNS42NDU1NSw3LjgzOTQ1IC0wLjczOTYzOCwxLjA1MDUgLTEuNTA0MjksMi4xMjYwMSAtNS42NzA1Niw3Ljg3MTYxIC0wLjQ4NTk0NiwwLjY3MTc0OCAtMS40MzY0LDAuODIxODIgLTIuMTA4MTUsMC4zMzU4NzQgLTAuNjcxNzQ4LC0wLjQ4NTk0NiAtMC44MjE4MiwtMS40MzY0IC0wLjMzNTg3NCwtMi4xMDgxNSA0LjA0MTIxLC01LjU3NDA4IDQuODQ1MTYsLTYuNzA2NzcgNS42NDE5NywtNy44MzU4N2wwLjAwNzE0NjI2IC0wLjAwNzE0NjI2YzAuNzg5NjYyLC0xLjExMTI0IDEuNTg2NDcsLTIuMjQwMzUgNS42NjY5OCwtNy44NjgwM2wwLjAwMzU3MzEzIDAuMDAzNTczMTMgMC4wNjA3NDMyIC0wLjA4MjE4MmMyLjY2NTU2LC0zLjIwNTEgMi41NzI2NSwtNi44ODE4NSAwLjkzNjE2LC05LjkyMjU4IC0wLjcyMTc3MiwtMS4zMzk5MiAtMS43NDcyNiwtMi41NzYyMyAtMi45NjIxMiwtMy41OTgxNCAtMS4yMTg0NCwtMS4wMjE5MiAtMi42NDc2OSwtMS44NDczMSAtNC4xNjYyNywtMi4zNjg5OSAtMy43NTg5MywtMS4yOTM0NyAtOC4xNDMxNiwtMC43MjUzNDUgLTExLjU5MTIsMy4wOTA3NiAtMS43Njg3LDIuMzAxMSAtNC42NjY1MSw2LjAwMjg2IC03LjYzOTM1LDkuNzkwMzggLTQuMjgwNjEsNS40NTI2IC05LjAzMjg3LDExLjQ3MzMgLTExLjA5MSwxNC4wNjAzIC0xLjU2NTAzLDIuMzMzMjUgLTEuNjAwNzYsNC42NDg2NCAtMC43NDY3ODQsNi41MjQ1NCAwLjQ2ODA4LDEuMDIxOTIgMS4yMDA1NywxLjk0NzM2IDIuMDkzODUsMi42Nzk4NSAwLjg5Njg1NiwwLjczOTYzOCAxLjk2ODc5LDEuMjk3MDUgMy4wOTQzMywxLjYwMDc2IDIuMTQ3NDUsMC41ODI0MiA0LjUzMDczLDAuMjI4NjggNi40MTM3NywtMS41MjkzIDMuODkxMTQsLTQuNzAyMjQgNy42NjA3OSwtOS42NTEwMiAxMS4yNDgyLC0xNC4zNTY4IDIuMTgzMTgsLTIuODY1NjUgNC4zMDU2MiwtNS42NTI2OSA2LjUwNjY3LC04LjQzNjE2bDAuMDI4NTg1IC0wLjA0Mjg3NzZjMS4xMzk4MywtMS41NTA3NCAxLjI4OTksLTIuODMzNDkgMC44OTY4NTYsLTMuNzAxNzZsLTAuMDM1NzMxMyAtMC4wNzE0NjI2Yy0wLjE2NzkzNywtMC4zMjg3MjggLTAuNDE4MDU2LC0wLjYxMTAwNSAtMC43MTEwNTMsLTAuODExMTAxIC0wLjI3ODcwNCwtMC4xOTI5NDkgLTAuNjE0NTc4LC0wLjMzMjMwMSAtMC45NjQ3NDUsLTAuNDAzNzY0bC0wLjExMDc2NyAtMC4wMTA3MTk0Yy0xLjAxODM0LC0wLjE1MzY0NSAtMi4yMDQ2MiwwLjI3NTEzMSAtMy4wMzAwMSwxLjUwNzg2bC0wLjA4OTMyODMgMC4xMTc5MTNjLTAuNjk2NzYsMC44NDMyNTkgLTEuODQ3MzEsMi4zMTUzOSAtMy4xNDc5MywzLjk4NDA0bC0wLjA2NDMxNjMgMC4wODkzMjgzYy0yLjIxODkxLDIuODUxMzYgLTQuOTEzMDUsNi4zMDY1NyAtNy4wMDMzMyw4LjcxODQ0em0tMS40MjIxMSAxNS41Nzg4Yy0wLjU1MDI2MiwwLjQ1NzM2MSAtMS4zNjEzNiwwLjQ3ODc5OSAtMS45MzMwNiwwLjAwNzE0NjI2bTIuMDExNjcgLTAuMDc4NjA4OWwtMC4wNzg2MDg5IDAuMDcxNDYyNm0tMTUuMzgyMyAtMTMuMjM4NGwwLjA1NzE3MDEgLTAuMDcxNDYyNm0xOC44MDU0IC0yMy45MzI4bDAuMDY3ODg5NSAtMC4wNzUwMzU3Ii8+DQogPC9nPg0KPC9zdmc+DQo=)!important}#carrotquest-messenger-conversationpart-error{width:348px!important;position:fixed;top:51px;background-color:rgba(229,94,27,0.9);z-index:1;padding:10px;text-align:center;left:0}#carrotquest-messenger-conversationpart-error span{font-size:12px;color:#fff;cursor:pointer}#carrotquest-messenger-collapsed-img-cont:hover #carrotquest-social-messenger-buttons{pointer-events:auto}#carrotquest-messenger-collapsed-img-cont:hover #carrotquest-social-messenger-buttons>a{opacity:1;-webkit-transition:all 150ms cubic-bezier(0.0,0.0,0.2,1);transition:all 150ms cubic-bezier(0.0,0.0,0.2,1);transform:scale(1)}#carrotquest-social-messenger-buttons{width:100%;display:block;position:absolute;bottom:48px;left:5px}#carrotquest-social-messenger-buttons.carrotquest-social-messenger-buttons-top{bottom:auto!important;top:48px!important}#carrotquest-social-messenger-buttons>a{width:40px;height:40px;box-shadow:0 3px 12px 0 rgba(0,0,0,0.1);display:block;margin:12px auto;position:relative;cursor:pointer;background-size:24px!important;background-position:center center!important;border-radius:20px!important;background-repeat:no-repeat!important;opacity:0;-webkit-transition:all 150ms cubic-bezier(0.4,0.0,1,1);transition:all 150ms cubic-bezier(0.4,0.0,1,1);transform:scale(0.85)}#carrotquest-social-messenger-buttons>a .carrotquest-social-messenger-button-title{position:absolute;right:50px;top:9px;border-radius:3px;background-color:rgba(0,0,0,0.8);color:#fff;padding:4px 8px;font-size:12px;white-space:nowrap;display:none}#carrotquest-social-messenger-buttons>a .carrotquest-social-messenger-button-title::before{content:"";position:absolute;top:calc(50% - 5px);right:-10px;width:0;height:0;border-left:5px solid rgba(0,0,0,0.8);border-right:5px solid transparent;border-top:5px solid transparent;border-bottom:5px solid transparent}#carrotquest-social-messenger-buttons>a:hover .carrotquest-social-messenger-button-title{display:inline-block}#carrotquest-social-messenger-buttons .carrotquest-social-messenger-button-vk{background:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI0ZGRkZGRSIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjEuNTEgNy43Yy4wOS0uNDUtLjEtLjctLjU2LS43aC0yLjI4Yy0uNTMgMC0uNzIuMjMtLjg4LjU3IDAgMC0uNzYgMi44My0yLjI2IDQuNTMtLjQ5LjU1LS45NC43MS0xLjIuNzEtLjIyIDAtLjMyLS4xOC0uMzItLjY4VjcuOGMwLS42MS0uMDctLjc5LS41Ni0uNzlIOS42Yy0uMjggMC0uNDUuMTctLjQ1LjQgMCAuNTcuODUuNy44NSAyLjI1djMuMmMwIC42NC0uMDMuOS0uMzMuOS0uNzkgMC0yLjczLTIuNzgtMy43OC01LjkzQzUuNyA3LjE4IDUuNDYgNyA0Ljg2IDdIMi41OGEuNTUuNTUgMCAwIDAtLjU4LjU3YzAgLjYzLjcyIDMuNTMgMy41MyA3LjRDNy40IDE3LjYgMTAuMTUgMTkgMTIuMzkgMTljMS4zNiAwIDEuNjItLjIzIDEuNjItLjgydi0yYzAtLjUuMi0uNzIuNDctLjcyLjMyIDAgLjk2LjEgMi4yNSAxLjQxIDEuNTQgMS41IDEuMzYgMi4xMyAyLjIgMi4xM2gyLjU2Yy4yNyAwIC41MS0uMTMuNTEtLjU3IDAtLjYtLjc1LTEuNjUtMS45LTIuOS0uNDctLjY0LTEuMjQtMS4zNC0xLjQ5LTEuNjYtLjM0LS4zOC0uMjQtLjYgMC0uOTkgMCAwIDIuNjQtMy45MyAyLjktNS4xOHoiLz48L3N2Zz4=");background-color:#5181b8}#carrotquest-social-messenger-buttons .carrotquest-social-messenger-button-viber{background:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjAuNTIgMy4yNGMxLjkxIDEuNjUgMi45NyA1LjMgMi4yNiAxMS4wNy0uNyA1LjYtNC45NSA2LjE0LTUuNyA2LjM4LS4zMi4xLTMuMTkuODEtNi45MS41LS40MS40OC0uOTYgMS4xLTEuMzUgMS41Mi0uNzIuNzYtMS4xNiAxLjQ4LTEuOTIgMS4yNS0uNjItLjItLjU4LTEuMTMtLjU4LTEuMTNWMjAuNUMuODYgMTguOTkuOTQgMTMuMzkgMS4wMSAxMC40Yy4wNi0zIC42NC01LjQgMi4zLTcuMDUgMi45OC0yLjcxIDkuMS0yLjM0IDkuMS0yLjM0IDUuMi4wMiA3LjUyIDEuNyA4LjEgMi4yMnptLjYzIDEwLjY1Yy42LTQuODItLjIyLTguMS0xLjg0LTkuNDgtLjUtLjQ0LTIuNi0xLjc1LTYuOTgtMS43NyAwIDAtNS4yLS4zNC03LjcyIDEuOTMtMS40IDEuMzctMS44OCAzLjQyLTEuOTMgNS45MS0uMDYgMi41LS4zMiA3LjI2IDQuMjggOC41M2wtLjAyIDMuODVjMCAuMjEuMDMuMzYuMTYuNC4wOS4wMi4yMi0uMDMuMzQtLjE0Ljc0LS43NCAzLjEtMy41NiAzLjEtMy41NiAzLjE1LjIgNS42Ny0uNDEgNS45NC0uNS42My0uMiA0LjA4LS41IDQuNjctNS4xN3ptLTYuNi0zLjMyYS4zLjMgMCAwIDEtLjI5LS4yOGMtLjA0LS45OS0uNTEtMS40Ny0xLjQ3LTEuNTJhLjMuMyAwIDAgMS0uMjgtLjMuMy4zIDAgMCAxIC4zMS0uMjhjMS4yNi4wNiAxLjk3Ljc4IDIuMDMgMi4wN2EuMy4zIDAgMCAxLS4yOC4zaC0uMDF6bTEuNTEuNWEuMy4zIDAgMCAxLS4yOS0uM2MuMDItMS0uMjYtMS44LS44OC0yLjQ2YTMuNjYgMy42NiAwIDAgMC0yLjU1LTEuMS4zLjMgMCAwIDEtLjI3LS4zMS4zLjMgMCAwIDEgLjMxLS4yN2MxLjI1LjA5IDIuMjQuNTIgMi45NSAxLjI5LjcuNzYgMS4wNSAxLjczIDEuMDMgMi44NmEuMy4zIDAgMCAxLS4zLjI5em0xLjU1LjZhLjMuMyAwIDAgMS0uMy0uMyA1LjUzIDUuNTMgMCAwIDAtMS41OC00LjE1IDUuNDcgNS40NyAwIDAgMC0zLjktMS41Mi4zLjMgMCAwIDEtLjI4LS4zLjMuMyAwIDAgMSAuMy0uMjhjMS43IDAgMy4xNC41OCA0LjMgMS42OWE2LjE1IDYuMTUgMCAwIDEgMS43NSA0LjU2LjMuMyAwIDAgMS0uMy4zem0tNC43NSAyLjVzLjQxLjA0LjY0LS4yM2wuNDMtLjU0Yy4yLS4yNy43MS0uNDQgMS4yLS4xN2ExMi44NSAxMi44NSAwIDAgMSAyLjA4IDEuNDhjLjMyLjI2LjQuNjYuMTggMS4wNy0uMjMuNC0uNTMuNzctLjkgMS4xbC0uMDEuMDFhMS43OSAxLjc5IDAgMCAxLTEuMDUuNDVjLS4xMyAwLS4yNi0uMDItLjM5LS4wNnYtLjAxYy0uNDctLjEzLTEuMjQtLjQ1LTIuNTMtMS4xNmExNC45MyAxNC45MyAwIDAgMS0zLjA2LTIuMjJsLS4wMy0uMDMtLjAzLS4wMy0uMDQtLjAzLS4wMy0uMDNhMTQuODIgMTQuODIgMCAwIDEtMi4yNC0zLjA0IDEzLjE3IDEzLjE3IDAgMCAxLTEuMTYtMi41SDUuOWExLjE4IDEuMTggMCAwIDEtLjA1LS41MmMuMDQtLjMuMTktLjYuNDUtLjkxLjM1LS4zOC43Mi0uNjggMS4xMS0uOWguMDFjLjQyLS4yMi44MS0uMTUgMS4wOC4xN0ExMi41NSAxMi41NSAwIDAgMSAxMCA4LjEzYy4yOC40OS4xLjk5LS4xNiAxLjJsLS41NS40M2MtLjI3LjIyLS4yNC42Mi0uMjQuNjJzLjggMy4wMyAzLjgyIDMuOHoiLz48L3N2Zz4=");background-color:#675ca7}#carrotquest-social-messenger-buttons .carrotquest-social-messenger-button-telegram{background:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMjAuOTggNC45NmwtMy4xIDE1LjFjLS4xMi41My0uNjIuOTQtMS4yMi45NC0uMzkgMC0uNy0uMTUtLjk4LS40MWwtNC4xNS0zLjE2LTIuOTggMi43MmMtLjI1LjI1LS4zNi4wNy0uMzYuMDdhLjc3Ljc3IDAgMCAxLS4xOS0uM3YtLjAxbC0xLjgzLTUuNzYtNC43Ni0xLjZhLjc1Ljc1IDAgMCAxLS40MS0uNjZjMC0uMjQuMTEtLjQ1LjI4LS41OWwuMjUtLjEzTDE5Ljg4IDQuMWMuMTMtLjA1LjI2LS4xMS40Mi0uMTEuMzkgMCAuNy4zLjcuNjlsLS4wMi4yN3ptLTUuMTEgMy4zNmMtLjAzIDAtLjA2IDAtLjEuMDJMNy4wNCAxMy44bDEuNTUgNC45OC42NC0zLjk1IDYuODUtNi4yYS4yLjIgMCAwIDAgLjAyLS4xYzAtLjExLS4xLS4yLS4yMi0uMnoiLz48L3N2Zz4=");background-color:#179cde}#carrotquest-social-messenger-buttons .carrotquest-social-messenger-button-facebook{background:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iI0ZGRkZGRiIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNMiA0djE2YzAgMS4xLjkgMiAyIDJoOXYtOGgtM3YtM2gzVjkuMDFjMC0yLjU4IDEuNTgtMy45OSAzLjg4LTMuOTkgMS4xIDAgMS44NC4wOCAyLjEyLjEydjIuN2gtMS41Yy0xLjI2IDAtMS41LjYtMS41IDEuNDdWMTFoM2wtLjYgM0gxNnY4aDRhMiAyIDAgMCAwIDItMlY0YTIgMiAwIDAgMC0yLTJINGEyIDIgMCAwIDAtMiAyeiIvPjwvc3ZnPg==");background-color:#3b5998}@media screen and (max-width:1024px){#carrotquest-social-messenger-buttons{display:none}}@keyframes social-messenger-button-animate{0%{opacity:0;width:30px;height:30px}20%{opacity:.6}60%{opacity:.8}100%{opacity:1;width:40px;height:40px}}';
var CARROTQUEST_EMOJI_DATA = {
  emojiList: {
    people: [
      { name: ':grinning:', position: {x: 26, y: 14} },
      { name: ':grimacing:', position: {x: 27, y: 17} },
      { name: ':grin:', position: {x: 26, y: 15} },
      { name: ':joy:', position: {x: 26, y: 16} },
      { name: ':smiley:', position: {x: 26, y: 17} },
      { name: ':smile:', position: {x: 26, y: 18} },
      { name: ':sweat_smile:', position: {x: 26, y: 19} },
      { name: ':laughing:', position: {x: 26, y: 20} },
      { name: ':innocent:', position: {x: 26, y: 21} },
      { name: ':wink:', position: {x: 26, y: 23} },
      { name: ':blush:', position: {x: 26, y: 24} },
      { name: ':slightly_smiling_face:', position: {x: 27, y: 39} },
      { name: ':upside_down_face:', position: {x: 27, y: 40} },
      { name: ':relaxed:', position: {x: 1, y: 24} },
      { name: ':yum:', position: {x: 26, y: 25} },
      { name: ':relieved:', position: {x: 26, y: 26} },
      { name: ':heart_eyes:', position: {x: 26, y: 27} },
      { name: ':kissing_heart:', position: {x: 26, y: 38} },
      { name: ':kissing:', position: {x: 26, y: 37} },
      { name: ':kissing_smiling_eyes:', position: {x: 26, y: 39} },
      { name: ':kissing_closed_eyes:', position: {x: 26, y: 40} },
      { name: ':stuck_out_tongue_winking_eye:', position: {x: 27, y: 1} },
      { name: ':stuck_out_tongue_closed_eyes:', position: {x: 27, y: 2} },
      { name: ':stuck_out_tongue:', position: {x: 27, y: 0} },
      { name: ':money_mouth_face:', position: {x: 32, y: 1} },
      { name: ':nerd_face:', position: {x: 32, y: 3} },
      { name: ':sunglasses:', position: {x: 26, y: 28} },
      { name: ':hugging_face:', position: {x: 32, y: 7} },
      { name: ':smirk:', position: {x: 26, y: 29} },
      { name: ':no_mouth:', position: {x: 27, y: 27} },
      { name: ':neutral_face:', position: {x: 26, y: 30} },
      { name: ':expressionless:', position: {x: 26, y: 31} },
      { name: ':unamused:', position: {x: 26, y: 32} },
      { name: ':face_with_rolling_eyes:', position: {x: 28, y: 0} },
      { name: ':thinking_face:', position: {x: 32, y: 4} },
      { name: ':flushed:', position: {x: 27, y: 24} },
      { name: ':disappointed:', position: {x: 27, y: 3} },
      { name: ':worried:', position: {x: 27, y: 4} },
      { name: ':angry:', position: {x: 27, y: 5} },
      { name: ':rage:', position: {x: 27, y: 6} },
      { name: ':pensive:', position: {x: 26, y: 34} },
      { name: ':confused:', position: {x: 26, y: 35} },
      { name: ':slightly_frowning_face:', position: {x: 27, y: 38} },
      { name: ':white_frowning_face:', position: {x: 1, y: 23} },
      { name: ':persevere:', position: {x: 27, y: 8} },
      { name: ':confounded:', position: {x: 26, y: 36} },
      { name: ':tired_face:', position: {x: 27, y: 16} },
      { name: ':weary:', position: {x: 27, y: 14} },
      { name: ':triumph:', position: {x: 27, y: 9} },
      { name: ':open_mouth:', position: {x: 27, y: 19} },
      { name: ':scream:', position: {x: 27, y: 22} },
      { name: ':fearful:', position: {x: 27, y: 13} },
      { name: ':cold_sweat:', position: {x: 27, y: 21} },
      { name: ':hushed:', position: {x: 27, y: 20} },
      { name: ':frowning:', position: {x: 27, y: 11} },
      { name: ':anguished:', position: {x: 27, y: 12} },
      { name: ':cry:', position: {x: 27, y: 7} },
      { name: ':disappointed_relieved:', position: {x: 27, y: 10} },
      { name: ':sleepy:', position: {x: 27, y: 15} },
      { name: ':sweat:', position: {x: 26, y: 33} },
      { name: ':sob:', position: {x: 27, y: 18} },
      { name: ':dizzy_face:', position: {x: 27, y: 26} },
      { name: ':astonished:', position: {x: 27, y: 23} },
      { name: ':zipper_mouth_face:', position: {x: 32, y: 0} },
      { name: ':mask:', position: {x: 27, y: 28} },
      { name: ':face_with_thermometer:', position: {x: 32, y: 2} },
      { name: ':face_with_head_bandage:', position: {x: 32, y: 5} },
      { name: ':sleeping:', position: {x: 27, y: 25} },
      { name: ':zzz:', position: {x: 20, y: 15} },
      { name: ':hankey:', position: {x: 20, y: 20} },
      { name: ':smiling_imp:', position: {x: 26, y: 22} },
      { name: ':imp:', position: {x: 18, y: 30} },
      { name: ':japanese_ogre:', position: {x: 18, y: 19} },
      { name: ':japanese_goblin:', position: {x: 18, y: 20} },
      { name: ':skull:', position: {x: 18, y: 31} },
      { name: ':ghost:', position: {x: 18, y: 21} },
      { name: ':alien:', position: {x: 18, y: 28} },
      { name: ':robot_face:', position: {x: 32, y: 6} },
      { name: ':smiley_cat:', position: {x: 27, y: 31} },
      { name: ':smile_cat:', position: {x: 27, y: 29} },
      { name: ':joy_cat:', position: {x: 27, y: 30} },
      { name: ':heart_eyes_cat:', position: {x: 27, y: 32} },
      { name: ':smirk_cat:', position: {x: 27, y: 33} },
      { name: ':kissing_cat:', position: {x: 27, y: 34} },
      { name: ':scream_cat:', position: {x: 27, y: 37} },
      { name: ':crying_cat_face:', position: {x: 27, y: 36} },
      { name: ':pouting_cat:', position: {x: 27, y: 35} },
      { name: ':raised_hands:', position: {x: 28, y: 28} },
      { name: ':clap:', position: {x: 15, y: 20} },
      { name: ':wave:', position: {x: 14, y: 37} },
      { name: ':+1:', position: {x: 15, y: 8} },
      { name: ':-1:', position: {x: 15, y: 14} },
      { name: ':facepunch:', position: {x: 14, y: 31} },
      { name: ':fist:', position: {x: 3, y: 8} },
      { name: ':v:', position: {x: 3, y: 20} },
      { name: ':ok_hand:', position: {x: 15, y: 2} },
      { name: ':hand:', position: {x: 3, y: 14} },
      { name: ':open_hands:', position: {x: 15, y: 26} },
      { name: ':muscle:', position: {x: 20, y: 21} },
      { name: ':pray:', position: {x: 29, y: 5} },
      { name: ':point_up:', position: {x: 1, y: 9} },
      { name: ':point_up_2:', position: {x: 14, y: 7} },
      { name: ':point_down:', position: {x: 14, y: 13} },
      { name: ':point_left:', position: {x: 14, y: 19} },
      { name: ':point_right:', position: {x: 14, y: 25} },
      { name: ':middle_finger:', position: {x: 25, y: 18} },
      { name: ':raised_hand_with_fingers_splayed:', position: {x: 25, y: 12} },
      { name: ':the_horns:', position: {x: 32, y: 8} },
      { name: ':spock-hand:', position: {x: 25, y: 24} },
      { name: ':writing_hand:', position: {x: 3, y: 26} },
      { name: ':nail_care:', position: {x: 19, y: 10} },
      { name: ':lips:', position: {x: 14, y: 5} },
      { name: ':tongue:', position: {x: 14, y: 6} },
      { name: ':ear:', position: {x: 13, y: 34} },
      { name: ':nose:', position: {x: 13, y: 40} },
      { name: ':eye:', position: {x: 13, y: 33} },
      { name: ':eyes:', position: {x: 13, y: 32} },
      { name: ':bust_in_silhouette:', position: {x: 16, y: 10} },
      { name: ':busts_in_silhouette:', position: {x: 16, y: 11} },
      { name: ':speaking_head_in_silhouette:', position: {x: 26, y: 4} },
      { name: ':baby:', position: {x: 18, y: 1} },
      { name: ':boy:', position: {x: 16, y: 12} },
      { name: ':girl:', position: {x: 16, y: 18} },
      { name: ':man:', position: {x: 16, y: 24} },
      { name: ':woman:', position: {x: 16, y: 30} },
      { name: ':person_with_blond_hair:', position: {x: 17, y: 12} },
      { name: ':older_man:', position: {x: 17, y: 30} },
      { name: ':older_woman:', position: {x: 17, y: 36} },
      { name: ':man_with_gua_pi_mao:', position: {x: 17, y: 18} },
      { name: ':man_with_turban:', position: {x: 17, y: 24} },
      { name: ':cop:', position: {x: 16, y: 40} },
      { name: ':construction_worker:', position: {x: 18, y: 7} },
      { name: ':guardsman:', position: {x: 18, y: 38} },
      { name: ':sleuth_or_spy:', position: {x: 25, y: 2} },
      { name: ':santa:', position: {x: 8, y: 28} },
      { name: ':angel:', position: {x: 18, y: 22} },
      { name: ':princess:', position: {x: 18, y: 13} },
      { name: ':bride_with_veil:', position: {x: 17, y: 6} },
      { name: ':walking:', position: {x: 30, y: 39} },
      { name: ':runner:', position: {x: 10, y: 8} },
      { name: ':dancer:', position: {x: 19, y: 3} },
      { name: ':dancers:', position: {x: 17, y: 5} },
      { name: ':couple:', position: {x: 16, y: 37} },
      { name: ':two_men_holding_hands:', position: {x: 16, y: 38} },
      { name: ':two_women_holding_hands:', position: {x: 16, y: 39} },
      { name: ':bow:', position: {x: 28, y: 13} },
      { name: ':information_desk_person:', position: {x: 18, y: 32} },
      { name: ':no_good:', position: {x: 28, y: 1} },
      { name: ':ok_woman:', position: {x: 28, y: 7} },
      { name: ':raising_hand:', position: {x: 28, y: 22} },
      { name: ':person_with_pouting_face:', position: {x: 28, y: 40} },
      { name: ':person_frowning:', position: {x: 28, y: 34} },
      { name: ':haircut:', position: {x: 19, y: 22} },
      { name: ':massage:', position: {x: 19, y: 16} },
      { name: ':couple_with_heart:', position: {x: 19, y: 37} },
      { name: ':woman-heart-woman:', position: {x: 39, y: 18} },
      { name: ':man-heart-man:', position: {x: 39, y: 11} },
      { name: ':couplekiss:', position: {x: 19, y: 35} },
      { name: ':woman-kiss-woman:', position: {x: 39, y: 19} },
      { name: ':man-kiss-man:', position: {x: 39, y: 12} },
      { name: ':family:', position: {x: 16, y: 36} },
      { name: ':man-woman-girl:', position: {x: 39, y: 8} },
      { name: ':man-woman-girl-boy:', position: {x: 39, y: 9} },
      { name: ':man-woman-boy-boy:', position: {x: 39, y: 7} },
      { name: ':man-woman-girl-girl:', position: {x: 39, y: 10} },
      { name: ':woman-woman-boy:', position: {x: 39, y: 13} },
      { name: ':woman-woman-girl:', position: {x: 39, y: 15} },
      { name: ':woman-woman-girl-boy:', position: {x: 39, y: 16} },
      { name: ':woman-woman-boy-boy:', position: {x: 39, y: 14} },
      { name: ':woman-woman-girl-girl:', position: {x: 39, y: 17} },
      { name: ':man-man-boy:', position: {x: 39, y: 2} },
      { name: ':man-man-girl:', position: {x: 39, y: 4} },
      { name: ':man-man-girl-boy:', position: {x: 39, y: 5} },
      { name: ':man-man-boy-boy:', position: {x: 39, y: 3} },
      { name: ':man-man-girl-girl:', position: {x: 39, y: 6} },
      { name: ':womans_clothes:', position: {x: 16, y: 0} },
      { name: ':shirt:', position: {x: 15, y: 36} },
      { name: ':jeans:', position: {x: 15, y: 37} },
      { name: ':necktie:', position: {x: 15, y: 35} },
      { name: ':dress:', position: {x: 15, y: 38} },
      { name: ':bikini:', position: {x: 15, y: 40} },
      { name: ':kimono:', position: {x: 15, y: 39} },
      { name: ':lipstick:', position: {x: 19, y: 9} },
      { name: ':kiss:', position: {x: 19, y: 31} },
      { name: ':footprints:', position: {x: 16, y: 9} },
      { name: ':high_heel:', position: {x: 16, y: 6} },
      { name: ':sandal:', position: {x: 16, y: 7} },
      { name: ':boot:', position: {x: 16, y: 8} },
      { name: ':mans_shoe:', position: {x: 16, y: 4} },
      { name: ':athletic_shoe:', position: {x: 16, y: 5} },
      { name: ':womans_hat:', position: {x: 15, y: 33} },
      { name: ':tophat:', position: {x: 9, y: 23} },
      { name: ':helmet_with_white_cross:', position: {x: 2, y: 24} },
      { name: ':mortar_board:', position: {x: 9, y: 6} },
      { name: ':crown:', position: {x: 15, y: 32} },
      { name: ':school_satchel:', position: {x: 9, y: 5} },
      { name: ':pouch:', position: {x: 16, y: 3} },
      { name: ':purse:', position: {x: 16, y: 1} },
      { name: ':handbag:', position: {x: 16, y: 2} },
      { name: ':briefcase:', position: {x: 21, y: 3} },
      { name: ':eyeglasses:', position: {x: 15, y: 34} },
      { name: ':dark_sunglasses:', position: {x: 25, y: 3} },
      { name: ':ring:', position: {x: 19, y: 33} },
      { name: ':closed_umbrella:', position: {x: 5, y: 22} }
    ],
    nature: [
      { name: ':dog:', position: {x: 13, y: 22} },
      { name: ':cat:', position: {x: 13, y: 17} },
      { name: ':mouse:', position: {x: 13, y: 13} },
      { name: ':hamster:', position: {x: 13, y: 25} },
      { name: ':rabbit:', position: {x: 13, y: 16} },
      { name: ':bear:', position: {x: 13, y: 27} },
      { name: ':panda_face:', position: {x: 13, y: 28} },
      { name: ':koala:', position: {x: 13, y: 8} },
      { name: ':tiger:', position: {x: 13, y: 15} },
      { name: ':lion_face:', position: {x: 32, y: 15} },
      { name: ':cow:', position: {x: 13, y: 14} },
      { name: ':pig:', position: {x: 13, y: 23} },
      { name: ':pig_nose:', position: {x: 13, y: 29} },
      { name: ':frog:', position: {x: 13, y: 24} },
      { name: ':octopus:', position: {x: 12, y: 34} },
      { name: ':monkey_face:', position: {x: 13, y: 21} },
      { name: ':see_no_evil:', position: {x: 28, y: 19} },
      { name: ':hear_no_evil:', position: {x: 28, y: 20} },
      { name: ':speak_no_evil:', position: {x: 28, y: 21} },
      { name: ':monkey:', position: {x: 12, y: 27} },
      { name: ':chicken:', position: {x: 12, y: 29} },
      { name: ':penguin:', position: {x: 13, y: 7} },
      { name: ':bird:', position: {x: 13, y: 6} },
      { name: ':baby_chick:', position: {x: 13, y: 4} },
      { name: ':hatching_chick:', position: {x: 13, y: 3} },
      { name: ':hatched_chick:', position: {x: 13, y: 5} },
      { name: ':wolf:', position: {x: 13, y: 26} },
      { name: ':boar:', position: {x: 12, y: 32} },
      { name: ':horse:', position: {x: 13, y: 20} },
      { name: ':unicorn_face:', position: {x: 32, y: 18} },
      { name: ':bee:', position: {x: 12, y: 38} },
      { name: ':bug:', position: {x: 12, y: 36} },
      { name: ':snail:', position: {x: 12, y: 21} },
      { name: ':beetle:', position: {x: 12, y: 39} },
      { name: ':ant:', position: {x: 12, y: 37} },
      { name: ':spider:', position: {x: 25, y: 4} },
      { name: ':scorpion:', position: {x: 32, y: 16} },
      { name: ':crab:', position: {x: 32, y: 14} },
      { name: ':snake:', position: {x: 12, y: 22} },
      { name: ':turtle:', position: {x: 13, y: 2} },
      { name: ':tropical_fish:', position: {x: 13, y: 0} },
      { name: ':fish:', position: {x: 12, y: 40} },
      { name: ':blowfish:', position: {x: 13, y: 1} },
      { name: ':dolphin:', position: {x: 13, y: 12} },
      { name: ':whale:', position: {x: 13, y: 19} },
      { name: ':whale2:', position: {x: 12, y: 20} },
      { name: ':crocodile:', position: {x: 12, y: 19} },
      { name: ':leopard:', position: {x: 12, y: 15} },
      { name: ':tiger2:', position: {x: 12, y: 14} },
      { name: ':water_buffalo:', position: {x: 12, y: 12} },
      { name: ':ox:', position: {x: 12, y: 11} },
      { name: ':cow2:', position: {x: 12, y: 13} },
      { name: ':dromedary_camel:', position: {x: 13, y: 10} },
      { name: ':camel:', position: {x: 13, y: 11} },
      { name: ':elephant:', position: {x: 12, y: 33} },
      { name: ':goat:', position: {x: 12, y: 25} },
      { name: ':ram:', position: {x: 12, y: 24} },
      { name: ':sheep:', position: {x: 12, y: 26} },
      { name: ':racehorse:', position: {x: 12, y: 23} },
      { name: ':pig2:', position: {x: 12, y: 31} },
      { name: ':rat:', position: {x: 12, y: 9} },
      { name: ':mouse2:', position: {x: 12, y: 10} },
      { name: ':rooster:', position: {x: 12, y: 28} },
      { name: ':turkey:', position: {x: 32, y: 17} },
      { name: ':dove_of_peace:', position: {x: 24, y: 10} },
      { name: ':dog2:', position: {x: 12, y: 30} },
      { name: ':poodle:', position: {x: 13, y: 9} },
      { name: ':cat2:', position: {x: 12, y: 17} },
      { name: ':rabbit2:', position: {x: 12, y: 16} },
      { name: ':chipmunk:', position: {x: 13, y: 31} },
      { name: ':feet:', position: {x: 13, y: 30} },
      { name: ':dragon:', position: {x: 12, y: 18} },
      { name: ':dragon_face:', position: {x: 13, y: 18} },
      { name: ':cactus:', position: {x: 6, y: 30} },
      { name: ':christmas_tree:', position: {x: 8, y: 27} },
      { name: ':evergreen_tree:', position: {x: 6, y: 27} },
      { name: ':deciduous_tree:', position: {x: 6, y: 28} },
      { name: ':palm_tree:', position: {x: 6, y: 29} },
      { name: ':seedling:', position: {x: 6, y: 26} },
      { name: ':herb:', position: {x: 6, y: 40} },
      { name: ':shamrock:', position: {x: 1, y: 8} },
      { name: ':four_leaf_clover:', position: {x: 7, y: 0} },
      { name: ':bamboo:', position: {x: 9, y: 0} },
      { name: ':tanabata_tree:', position: {x: 8, y: 39} },
      { name: ':leaves:', position: {x: 7, y: 3} },
      { name: ':fallen_leaf:', position: {x: 7, y: 2} },
      { name: ':maple_leaf:', position: {x: 7, y: 1} },
      { name: ':ear_of_rice:', position: {x: 6, y: 39} },
      { name: ':hibiscus:', position: {x: 6, y: 35} },
      { name: ':sunflower:', position: {x: 6, y: 36} },
      { name: ':rose:', position: {x: 6, y: 34} },
      { name: ':tulip:', position: {x: 6, y: 32} },
      { name: ':blossom:', position: {x: 6, y: 37} },
      { name: ':cherry_blossom:', position: {x: 6, y: 33} },
      { name: ':bouquet:', position: {x: 19, y: 36} },
      { name: ':mushroom:', position: {x: 7, y: 4} },
      { name: ':chestnut:', position: {x: 6, y: 25} },
      { name: ':jack_o_lantern:', position: {x: 8, y: 26} },
      { name: ':shell:', position: {x: 12, y: 35} },
      { name: ':spider_web:', position: {x: 25, y: 5} },
      { name: ':earth_americas:', position: {x: 5, y: 34} },
      { name: ':earth_africa:', position: {x: 5, y: 33} },
      { name: ':earth_asia:', position: {x: 5, y: 35} },
      { name: ':full_moon:', position: {x: 6, y: 0} },
      { name: ':waning_gibbous_moon:', position: {x: 6, y: 1} },
      { name: ':last_quarter_moon:', position: {x: 6, y: 2} },
      { name: ':waning_crescent_moon:', position: {x: 6, y: 3} },
      { name: ':new_moon:', position: {x: 5, y: 37} },
      { name: ':waxing_crescent_moon:', position: {x: 5, y: 38} },
      { name: ':first_quarter_moon:', position: {x: 5, y: 39} },
      { name: ':moon:', position: {x: 5, y: 40} },
      { name: ':new_moon_with_face:', position: {x: 6, y: 5} },
      { name: ':full_moon_with_face:', position: {x: 6, y: 8} },
      { name: ':first_quarter_moon_with_face:', position: {x: 6, y: 6} },
      { name: ':last_quarter_moon_with_face:', position: {x: 6, y: 7} },
      { name: ':sun_with_face:', position: {x: 6, y: 9} },
      { name: ':crescent_moon:', position: {x: 6, y: 4} },
      { name: ':star:', position: {x: 4, y: 23} },
      { name: ':star2:', position: {x: 6, y: 10} },
      { name: ':dizzy:', position: {x: 20, y: 27} },
      { name: ':sparkles:', position: {x: 3, y: 38} },
      { name: ':comet:', position: {x: 1, y: 3} },
      { name: ':sunny:', position: {x: 0, y: 40} },
      { name: ':mostly_sunny:', position: {x: 6, y: 13} },
      { name: ':partly_sunny:', position: {x: 2, y: 20} },
      { name: ':barely_sunny:', position: {x: 6, y: 14} },
      { name: ':partly_sunny_rain:', position: {x: 6, y: 15} },
      { name: ':cloud:', position: {x: 1, y: 0} },
      { name: ':rain_cloud:', position: {x: 6, y: 16} },
      { name: ':thunder_cloud_and_rain:', position: {x: 2, y: 21} },
      { name: ':lightning:', position: {x: 6, y: 18} },
      { name: ':zap:', position: {x: 2, y: 12} },
      { name: ':fire:', position: {x: 23, y: 25} },
      { name: ':boom:', position: {x: 20, y: 16} },
      { name: ':snowflake:', position: {x: 4, y: 0} },
      { name: ':snow_cloud:', position: {x: 6, y: 17} },
      { name: ':showman:', position: {x: 1, y: 2} },
      { name: ':snowman:', position: {x: 2, y: 19} },
      { name: ':wind_blowing_face:', position: {x: 6, y: 21} },
      { name: ':dash:', position: {x: 20, y: 19} },
      { name: ':tornado:', position: {x: 6, y: 19} },
      { name: ':fog:', position: {x: 6, y: 20} },
      { name: ':umbrella:', position: {x: 1, y: 1} },
      { name: ':droplet:', position: {x: 20, y: 18} },
      { name: ':sweat_drops:', position: {x: 20, y: 17} },
      { name: ':ocean:', position: {x: 5, y: 30} }
    ],
    food: [
      { name: ':green_apple:', position: {x: 7, y: 15} },
      { name: ':apple:', position: {x: 7, y: 14} },
      { name: ':pear:', position: {x: 7, y: 16} },
      { name: ':tangerine:', position: {x: 7, y: 10} },
      { name: ':lemon:', position: {x: 7, y: 11} },
      { name: ':banana:', position: {x: 7, y: 12} },
      { name: ':watermelon:', position: {x: 7, y: 9} },
      { name: ':grapes:', position: {x: 7, y: 7} },
      { name: ':strawberry:', position: {x: 7, y: 19} },
      { name: ':melon:', position: {x: 7, y: 8} },
      { name: ':cherries:', position: {x: 7, y: 18} },
      { name: ':peach:', position: {x: 7, y: 17} },
      { name: ':pineapple:', position: {x: 7, y: 13} },
      { name: ':tomato:', position: {x: 7, y: 5} },
      { name: ':eggplant:', position: {x: 7, y: 6} },
      { name: ':hot_pepper:', position: {x: 6, y: 31} },
      { name: ':corn:', position: {x: 6, y: 38} },
      { name: ':sweet_potato:', position: {x: 7, y: 32} },
      { name: ':honey_pot:', position: {x: 8, y: 6} },
      { name: ':bread:', position: {x: 7, y: 30} },
      { name: ':cheese_wedge:', position: {x: 32, y: 19} },
      { name: ':poultry_leg:', position: {x: 7, y: 23} },
      { name: ':meat_on_bone:', position: {x: 7, y: 22} },
      { name: ':fried_shrimp:', position: {x: 7, y: 36} },
      { name: ':egg:', position: {x: 8, y: 10} },
      { name: ':hamburger:', position: {x: 7, y: 20} },
      { name: ':fries:', position: {x: 7, y: 31} },
      { name: ':hotdog:', position: {x: 6, y: 22} },
      { name: ':pizza:', position: {x: 7, y: 21} },
      { name: ':spaghetti:', position: {x: 7, y: 29} },
      { name: ':taco:', position: {x: 6, y: 23} },
      { name: ':burrito:', position: {x: 6, y: 24} },
      { name: ':ramen:', position: {x: 7, y: 28} },
      { name: ':stew:', position: {x: 8, y: 9} },
      { name: ':fish_cake:', position: {x: 7, y: 37} },
      { name: ':sushi:', position: {x: 7, y: 35} },
      { name: ':bento:', position: {x: 8, y: 8} },
      { name: ':curry:', position: {x: 7, y: 27} },
      { name: ':rice_ball:', position: {x: 7, y: 25} },
      { name: ':rice:', position: {x: 7, y: 26} },
      { name: ':rice_cracker:', position: {x: 7, y: 24} },
      { name: ':oden:', position: {x: 7, y: 34} },
      { name: ':dango:', position: {x: 7, y: 33} },
      { name: ':shaved_ice:', position: {x: 7, y: 39} },
      { name: ':ice_cream:', position: {x: 7, y: 40} },
      { name: ':icecream:', position: {x: 7, y: 38} },
      { name: ':cake:', position: {x: 8, y: 7} },
      { name: ':birthday:', position: {x: 8, y: 25} },
      { name: ':custard:', position: {x: 8, y: 5} },
      { name: ':candy:', position: {x: 8, y: 3} },
      { name: ':lollipop:', position: {x: 8, y: 4} },
      { name: ':chocolate_bar:', position: {x: 8, y: 2} },
      { name: ':popcorn:', position: {x: 8, y: 22} },
      { name: ':doughnut:', position: {x: 8, y: 0} },
      { name: ':cookie:', position: {x: 8, y: 1} },
      { name: ':beer:', position: {x: 8, y: 17} },
      { name: ':beers:', position: {x: 8, y: 18} },
      { name: ':wine_glass:', position: {x: 8, y: 14} },
      { name: ':cocktail:', position: {x: 8, y: 15} },
      { name: ':tropical_drink:', position: {x: 8, y: 16} },
      { name: ':champagne:', position: {x: 8, y: 21} },
      { name: ':sake:', position: {x: 8, y: 13} },
      { name: ':tea:', position: {x: 8, y: 12} },
      { name: ':coffee:', position: {x: 1, y: 7} },
      { name: ':baby_bottle:', position: {x: 8, y: 19} },
      { name: ':fork_and_knife:', position: {x: 8, y: 11} },
      { name: ':knife_fork_plate:', position: {x: 8, y: 20} }
    ],
    activity: [
      { name: ':soccer:', position: {x: 2, y: 17} },
      { name: ':basketball:', position: {x: 10, y: 5} },
      { name: ':football:', position: {x: 10, y: 28} },
      { name: ':baseball:', position: {x: 2, y: 18} },
      { name: ':tennis:', position: {x: 10, y: 3} },
      { name: ':volleyball:', position: {x: 11, y: 5} },
      { name: ':rugby_football:', position: {x: 10, y: 29} },
      { name: ':8ball:', position: {x: 9, y: 31} },
      { name: ':golf:', position: {x: 2, y: 32} },
      { name: ':golfer:', position: {x: 11, y: 1} },
      { name: ':table_tennis_paddle_and_ball:', position: {x: 11, y: 8} },
      { name: ':badminton_racquet_and_shuttlecock:', position: {x: 12, y: 1} },
      { name: ':ice_hockey_stick_and_puck:', position: {x: 11, y: 7} },
      { name: ':field_hockey_stick_and_ball:', position: {x: 11, y: 6} },
      { name: ':cricket_bat_and_ball:', position: {x: 11, y: 4} },
      { name: ':ski:', position: {x: 10, y: 4} },
      { name: ':skier:', position: {x: 2, y: 35} },
      { name: ':snowboarder:', position: {x: 10, y: 7} },
      { name: ':ice_skate:', position: {x: 2, y: 36} },
      { name: ':bow_and_arrow:', position: {x: 12, y: 2} },
      { name: ':fishing_pole_and_fish:', position: {x: 9, y: 17} },
      { name: ':rowboat:', position: {x: 30, y: 5} },
      { name: ':swimmer:', position: {x: 10, y: 30} },
      { name: ':surfer:', position: {x: 10, y: 14} },
      { name: ':bath:', position: {x: 31, y: 13} },
      { name: ':person_with_ball:', position: {x: 2, y: 37} },
      { name: ':weight_lifter:', position: {x: 10, y: 36} },
      { name: ':bicyclist:', position: {x: 30, y: 27} },
      { name: ':mountain_bicyclist:', position: {x: 30, y: 33} },
      { name: ':horse_racing:', position: {x: 10, y: 22} },
      { name: ':man_in_business_suit_levitating:', position: {x: 25, y: 1} },
      { name: ':trophy:', position: {x: 10, y: 21} },
      { name: ':running_shirt_with_sash:', position: {x: 10, y: 2} },
      { name: ':sports_medal:', position: {x: 10, y: 20} },
      { name: ':medal:', position: {x: 9, y: 7} },
      { name: ':reminder_ribbon:', position: {x: 9, y: 8} },
      { name: ':rosette:', position: {x: 11, y: 40} },
      { name: ':ticket:', position: {x: 9, y: 25} },
      { name: ':admission_tickets:', position: {x: 9, y: 13} },
      { name: ':performing_arts:', position: {x: 9, y: 27} },
      { name: ':art:', position: {x: 9, y: 22} },
      { name: ':circus_tent:', position: {x: 9, y: 24} },
      { name: ':microphone:', position: {x: 9, y: 18} },
      { name: ':headphones:', position: {x: 9, y: 21} },
      { name: ':musical_score:', position: {x: 10, y: 1} },
      { name: ':musical_keyboard:', position: {x: 9, y: 39} },
      { name: ':saxophone:', position: {x: 9, y: 37} },
      { name: ':trumpet:', position: {x: 9, y: 40} },
      { name: ':guitar:', position: {x: 9, y: 38} },
      { name: ':violin:', position: {x: 10, y: 0} },
      { name: ':clapper:', position: {x: 9, y: 26} },
      { name: ':video_game:', position: {x: 9, y: 28} },
      { name: ':space_invader:', position: {x: 18, y: 29} },
      { name: ':dart:', position: {x: 9, y: 29} },
      { name: ':game_die:', position: {x: 9, y: 32} },
      { name: ':slot_machine:', position: {x: 9, y: 30} },
      { name: ':bowling:', position: {x: 9, y: 33} }
    ],
    places: [
      { name: ':car:', position: {x: 29, y: 34} },
      { name: ':taxi:', position: {x: 29, y: 32} },
      { name: ':blue_car:', position: {x: 29, y: 36} },
      { name: ':bus:', position: {x: 29, y: 23} },
      { name: ':trolleybus:', position: {x: 29, y: 25} },
      { name: ':racing_car:', position: {x: 11, y: 3} },
      { name: ':police_car:', position: {x: 29, y: 30} },
      { name: ':ambulance:', position: {x: 29, y: 28} },
      { name: ':fire_engine:', position: {x: 29, y: 29} },
      { name: ':minibus:', position: {x: 29, y: 27} },
      { name: ':truck:', position: {x: 29, y: 37} },
      { name: ':articulated_lorry:', position: {x: 29, y: 38} },
      { name: ':tractor:', position: {x: 29, y: 39} },
      { name: ':racing_motorcycle:', position: {x: 11, y: 2} },
      { name: ':bike:', position: {x: 30, y: 25} },
      { name: ':rotating_light:', position: {x: 30, y: 15} },
      { name: ':oncoming_police_car:', position: {x: 29, y: 31} },
      { name: ':oncoming_bus:', position: {x: 29, y: 24} },
      { name: ':oncoming_automobile:', position: {x: 29, y: 35} },
      { name: ':oncoming_taxi:', position: {x: 29, y: 33} },
      { name: ':aerial_tramway:', position: {x: 30, y: 3} },
      { name: ':mountain_cableway:', position: {x: 30, y: 2} },
      { name: ':suspension_railway:', position: {x: 30, y: 1} },
      { name: ':railway_car:', position: {x: 29, y: 14} },
      { name: ':train:', position: {x: 29, y: 22} },
      { name: ':monorail:', position: {x: 29, y: 40} },
      { name: ':bullettrain_side:', position: {x: 29, y: 15} },
      { name: ':bullettrain_front:', position: {x: 29, y: 16} },
      { name: ':light_rail:', position: {x: 29, y: 19} },
      { name: ':mountain_railway:', position: {x: 30, y: 0} },
      { name: ':steam_locomotive:', position: {x: 29, y: 13} },
      { name: ':train2:', position: {x: 29, y: 17} },
      { name: ':metro:', position: {x: 29, y: 18} },
      { name: ':tram:', position: {x: 29, y: 21} },
      { name: ':station:', position: {x: 29, y: 20} },
      { name: ':helicopter:', position: {x: 29, y: 12} },
      { name: ':small_airplane:', position: {x: 31, y: 36} },
      { name: ':airplane:', position: {x: 3, y: 6} },
      { name: ':airplane_departure:', position: {x: 31, y: 37} },
      { name: ':airplane_arriving:', position: {x: 31, y: 38} },
      { name: ':boat:', position: {x: 2, y: 34} },
      { name: ':motor_boat:', position: {x: 31, y: 35} },
      { name: ':speedboat:', position: {x: 30, y: 11} },
      { name: ':ferry:', position: {x: 2, y: 33} },
      { name: ':passenger_ship:', position: {x: 31, y: 40} },
      { name: ':rocket:', position: {x: 29, y: 11} },
      { name: ':satellite:', position: {x: 31, y: 39} },
      { name: ':seat:', position: {x: 21, y: 1} },
      { name: ':anchor:', position: {x: 2, y: 4} },
      { name: ':construction:', position: {x: 30, y: 14} },
      { name: ':fuelpump:', position: {x: 3, y: 3} },
      { name: ':busstop:', position: {x: 29, y: 26} },
      { name: ':vertical_traffic_light:', position: {x: 30, y: 13} },
      { name: ':traffic_light:', position: {x: 30, y: 12} },
      { name: ':checkered_flag:', position: {x: 10, y: 6} },
      { name: ':ship:', position: {x: 30, y: 4} },
      { name: ':ferris_wheel:', position: {x: 9, y: 15} },
      { name: ':roller_coaster:', position: {x: 9, y: 16} },
      { name: ':carousel_horse:', position: {x: 9, y: 14} },
      { name: ':building_construction:', position: {x: 11, y: 12} },
      { name: ':foggy:', position: {x: 5, y: 21} },
      { name: ':tokyo_tower:', position: {x: 26, y: 10} },
      { name: ':factory:', position: {x: 11, y: 34} },
      { name: ':fountain:', position: {x: 2, y: 31} },
      { name: ':rice_scene:', position: {x: 9, y: 4} },
      { name: ':mountain:', position: {x: 2, y: 29} },
      { name: ':snow_capped_mountain:', position: {x: 11, y: 9} },
      { name: ':mount_fuji:', position: {x: 26, y: 9} },
      { name: ':volcano:', position: {x: 5, y: 31} },
      { name: ':japan:', position: {x: 26, y: 12} },
      { name: ':camping:', position: {x: 11, y: 10} },
      { name: ':tent:', position: {x: 3, y: 2} },
      { name: ':national_park:', position: {x: 11, y: 19} },
      { name: ':motorway:', position: {x: 31, y: 33} },
      { name: ':railway_track:', position: {x: 31, y: 34} },
      { name: ':sunrise:', position: {x: 5, y: 25} },
      { name: ':sunrise_over_mountains:', position: {x: 5, y: 24} },
      { name: ':desert:', position: {x: 11, y: 17} },
      { name: ':beach_with_umbrella:', position: {x: 11, y: 11} },
      { name: ':desert_island:', position: {x: 11, y: 18} },
      { name: ':city_sunrise:', position: {x: 5, y: 27} },
      { name: ':city_sunset:', position: {x: 5, y: 26} },
      { name: ':cityscape:', position: {x: 11, y: 14} },
      { name: ':night_with_stars:', position: {x: 5, y: 23} },
      { name: ':bridge_at_night:', position: {x: 5, y: 29} },
      { name: ':milky_way:', position: {x: 5, y: 32} },
      { name: ':stars:', position: {x: 6, y: 11} },
      { name: ':sparkler:', position: {x: 8, y: 35} },
      { name: ':fireworks:', position: {x: 8, y: 34} },
      { name: ':rainbow:', position: {x: 5, y: 28} },
      { name: ':house_buildings:', position: {x: 11, y: 13} },
      { name: ':european_castle:', position: {x: 11, y: 37} },
      { name: ':japanese_castle:', position: {x: 11, y: 36} },
      { name: ':stadium:', position: {x: 11, y: 20} },
      { name: ':statue_of_liberty:', position: {x: 26, y: 11} },
      { name: ':house:', position: {x: 11, y: 21} },
      { name: ':house_with_garden:', position: {x: 11, y: 22} },
      { name: ':derelict_house_building:', position: {x: 11, y: 15} },
      { name: ':office:', position: {x: 11, y: 23} },
      { name: ':department_store:', position: {x: 11, y: 33} },
      { name: ':post_office:', position: {x: 11, y: 24} },
      { name: ':european_post_office:', position: {x: 11, y: 25} },
      { name: ':hospital:', position: {x: 11, y: 26} },
      { name: ':bank:', position: {x: 11, y: 27} },
      { name: ':hotel:', position: {x: 11, y: 29} },
      { name: ':convenience_store:', position: {x: 11, y: 31} },
      { name: ':school:', position: {x: 11, y: 32} },
      { name: ':love_hotel:', position: {x: 11, y: 30} },
      { name: ':wedding:', position: {x: 19, y: 38} },
      { name: ':classical_building:', position: {x: 11, y: 16} },
      { name: ':church:', position: {x: 2, y: 28} },
      { name: ':mosque:', position: {x: 24, y: 12} },
      { name: ':synagogue:', position: {x: 24, y: 13} },
      { name: ':kaaba:', position: {x: 24, y: 11} },
      { name: ':shinto_shrine:', position: {x: 2, y: 27} }
    ],
    objects: [
      { name: ':watch:', position: {x: 0, y: 14} },
      { name: ':iphone:', position: {x: 22, y: 15} },
      { name: ':calling:', position: {x: 22, y: 16} },
      { name: ':computer:', position: {x: 21, y: 2} },
      { name: ':keyboard:', position: {x: 0, y: 16} },
      { name: ':desktop_computer:', position: {x: 25, y: 30} },
      { name: ':printer:', position: {x: 25, y: 31} },
      { name: ':three_button_mouse:', position: {x: 25, y: 32} },
      { name: ':trackball:', position: {x: 25, y: 33} },
      { name: ':joystick:', position: {x: 25, y: 6} },
      { name: ':compression:', position: {x: 26, y: 0} },
      { name: ':minidisc:', position: {x: 21, y: 4} },
      { name: ':floppy_disk:', position: {x: 21, y: 5} },
      { name: ':cd:', position: {x: 21, y: 6} },
      { name: ':dvd:', position: {x: 21, y: 7} },
      { name: ':vhs:', position: {x: 22, y: 26} },
      { name: ':camera:', position: {x: 22, y: 21} },
      { name: ':camera_with_flash:', position: {x: 22, y: 22} },
      { name: ':video_camera:', position: {x: 22, y: 23} },
      { name: ':movie_camera:', position: {x: 9, y: 19} },
      { name: ':film_projector:', position: {x: 22, y: 27} },
      { name: ':film_frames:', position: {x: 9, y: 12} },
      { name: ':telephone_receiver:', position: {x: 21, y: 37} },
      { name: ':phone:', position: {x: 1, y: 4} },
      { name: ':pager:', position: {x: 21, y: 38} },
      { name: ':fax:', position: {x: 21, y: 39} },
      { name: ':tv:', position: {x: 22, y: 24} },
      { name: ':radio:', position: {x: 22, y: 25} },
      { name: ':studio_microphone:', position: {x: 9, y: 9} },
      { name: ':level_slider:', position: {x: 9, y: 10} },
      { name: ':control_knobs:', position: {x: 9, y: 11} },
      { name: ':stopwatch:', position: {x: 0, y: 25} },
      { name: ':timer_clock:', position: {x: 0, y: 26} },
      { name: ':alarm_clock:', position: {x: 0, y: 24} },
      { name: ':mantelpiece_clock:', position: {x: 24, y: 40} },
      { name: ':hourglass_flowing_sand:', position: {x: 0, y: 27} },
      { name: ':hourglass:', position: {x: 0, y: 15} },
      { name: ':satellite_antenna:', position: {x: 21, y: 40} },
      { name: ':battery:', position: {x: 22, y: 40} },
      { name: ':electric_plug:', position: {x: 23, y: 0} },
      { name: ':bulb:', position: {x: 20, y: 12} },
      { name: ':flashlight:', position: {x: 23, y: 26} },
      { name: ':candle:', position: {x: 24, y: 39} },
      { name: ':wastebasket:', position: {x: 25, y: 38} },
      { name: ':oil_drum:', position: {x: 31, y: 32} },
      { name: ':money_with_wings:', position: {x: 20, y: 40} },
      { name: ':dollar:', position: {x: 20, y: 37} },
      { name: ':yen:', position: {x: 20, y: 36} },
      { name: ':euro:', position: {x: 20, y: 38} },
      { name: ':pound:', position: {x: 20, y: 39} },
      { name: ':moneybag:', position: {x: 20, y: 32} },
      { name: ':credit_card:', position: {x: 20, y: 35} },
      { name: ':gem:', position: {x: 19, y: 34} },
      { name: ':scales:', position: {x: 2, y: 6} },
      { name: ':wrench:', position: {x: 23, y: 27} },
      { name: ':hammer:', position: {x: 23, y: 28} },
      { name: ':hammer_and_pick:', position: {x: 2, y: 3} },
      { name: ':hammer_and_wrench:', position: {x: 31, y: 30} },
      { name: ':pick:', position: {x: 2, y: 23} },
      { name: ':nut_and_bolt:', position: {x: 23, y: 29} },
      { name: ':gear:', position: {x: 2, y: 8} },
      { name: ':chains:', position: {x: 2, y: 25} },
      { name: ':gun:', position: {x: 23, y: 31} },
      { name: ':bomb:', position: {x: 20, y: 14} },
      { name: ':hocho:', position: {x: 23, y: 30} },
      { name: ':dagger_knife:', position: {x: 26, y: 3} },
      { name: ':crossed_swords:', position: {x: 2, y: 5} },
      { name: ':shield:', position: {x: 31, y: 31} },
      { name: ':smoking:', position: {x: 30, y: 19} },
      { name: ':skull_and_crossbones:', position: {x: 1, y: 15} },
      { name: ':coffin:', position: {x: 2, y: 15} },
      { name: ':funeral_urn:', position: {x: 2, y: 16} },
      { name: ':amphora:', position: {x: 12, y: 3} },
      { name: ':crystal_ball:', position: {x: 23, y: 34} },
      { name: ':prayer_beads:', position: {x: 22, y: 28} },
      { name: ':barber:', position: {x: 19, y: 28} },
      { name: ':alembic:', position: {x: 2, y: 7} },
      { name: ':telescope:', position: {x: 23, y: 33} },
      { name: ':microscope:', position: {x: 23, y: 32} },
      { name: ':hole:', position: {x: 25, y: 0} },
      { name: ':pill:', position: {x: 19, y: 30} },
      { name: ':syringe:', position: {x: 19, y: 29} },
      { name: ':thermometer:', position: {x: 6, y: 12} },
      { name: ':label:', position: {x: 12, y: 0} },
      { name: ':bookmark:', position: {x: 23, y: 10} },
      { name: ':toilet:', position: {x: 31, y: 10} },
      { name: ':shower:', position: {x: 31, y: 12} },
      { name: ':bathtub:', position: {x: 31, y: 19} },
      { name: ':key:', position: {x: 23, y: 5} },
      { name: ':old_key:', position: {x: 26, y: 1} },
      { name: ':couch_and_lamp:', position: {x: 31, y: 24} },
      { name: ':sleeping_accommodation:', position: {x: 31, y: 25} },
      { name: ':bed:', position: {x: 31, y: 28} },
      { name: ':door:', position: {x: 30, y: 17} },
      { name: ':bellhop_bell:', position: {x: 31, y: 27} },
      { name: ':frame_with_picture:', position: {x: 25, y: 34} },
      { name: ':world_map:', position: {x: 26, y: 8} },
      { name: ':umbrella_on_ground:', position: {x: 2, y: 30} },
      { name: ':moyai:', position: {x: 26, y: 13} },
      { name: ':shopping_bags:', position: {x: 31, y: 26} },
      { name: ':balloon:', position: {x: 8, y: 36} },
      { name: ':flags:', position: {x: 9, y: 2} },
      { name: ':ribbon:', position: {x: 8, y: 23} },
      { name: ':gift:', position: {x: 8, y: 24} },
      { name: ':confetti_ball:', position: {x: 8, y: 38} },
      { name: ':tada:', position: {x: 8, y: 37} },
      { name: ':dolls:', position: {x: 9, y: 1} },
      { name: ':wind_chime:', position: {x: 9, y: 3} },
      { name: ':crossed_flags:', position: {x: 8, y: 40} },
      { name: ':izakaya_lantern:', position: {x: 11, y: 35} },
      { name: ':email:', position: {x: 3, y: 7} },
      { name: ':envelope_with_arrow:', position: {x: 22, y: 7} },
      { name: ':incoming_envelope:', position: {x: 22, y: 6} },
      { name: ':e-mail:', position: {x: 22, y: 5} },
      { name: ':love_letter:', position: {x: 19, y: 32} },
      { name: ':postbox:', position: {x: 22, y: 12} },
      { name: ':mailbox_closed:', position: {x: 22, y: 8} },
      { name: ':mailbox:', position: {x: 22, y: 9} },
      { name: ':mailbox_with_mail:', position: {x: 22, y: 10} },
      { name: ':mailbox_with_no_mail:', position: {x: 22, y: 11} },
      { name: ':package:', position: {x: 22, y: 4} },
      { name: ':postal_horn:', position: {x: 22, y: 13} },
      { name: ':inbox_tray:', position: {x: 22, y: 3} },
      { name: ':outbox_tray:', position: {x: 22, y: 2} },
      { name: ':scroll:', position: {x: 21, y: 35} },
      { name: ':page_with_curl:', position: {x: 21, y: 10} },
      { name: ':bookmark_tabs:', position: {x: 21, y: 24} },
      { name: ':bar_chart:', position: {x: 21, y: 17} },
      { name: ':chart_with_upwards_trend:', position: {x: 21, y: 15} },
      { name: ':chart_with_downwards_trend:', position: {x: 21, y: 16} },
      { name: ':page_facing_up:', position: {x: 21, y: 11} },
      { name: ':date:', position: {x: 21, y: 12} },
      { name: ':calendar:', position: {x: 21, y: 13} },
      { name: ':spiral_calendar_pad:', position: {x: 25, y: 40} },
      { name: ':card_index:', position: {x: 21, y: 14} },
      { name: ':card_file_box:', position: {x: 25, y: 36} },
      { name: ':ballot_box_with_ballot:', position: {x: 26, y: 7} },
      { name: ':file_cabinet:', position: {x: 25, y: 37} },
      { name: ':clipboard:', position: {x: 21, y: 18} },
      { name: ':spiral_note_pad:', position: {x: 25, y: 39} },
      { name: ':file_folder:', position: {x: 21, y: 8} },
      { name: ':open_file_folder:', position: {x: 21, y: 9} },
      { name: ':card_index_dividers:', position: {x: 25, y: 35} },
      { name: ':rolled_up_newspaper:', position: {x: 26, y: 2} },
      { name: ':newspaper:', position: {x: 22, y: 14} },
      { name: ':notebook:', position: {x: 21, y: 26} },
      { name: ':closed_book:', position: {x: 21, y: 28} },
      { name: ':green_book:', position: {x: 21, y: 30} },
      { name: ':blue_book:', position: {x: 21, y: 31} },
      { name: ':orange_book:', position: {x: 21, y: 32} },
      { name: ':notebook_with_decorative_cover:', position: {x: 21, y: 27} },
      { name: ':ledger:', position: {x: 21, y: 25} },
      { name: ':books:', position: {x: 21, y: 33} },
      { name: ':book:', position: {x: 21, y: 29} },
      { name: ':link:', position: {x: 23, y: 11} },
      { name: ':paperclip:', position: {x: 21, y: 21} },
      { name: ':linked_paperclips:', position: {x: 25, y: 7} },
      { name: ':scissors:', position: {x: 3, y: 4} },
      { name: ':triangular_ruler:', position: {x: 21, y: 23} },
      { name: ':straight_ruler:', position: {x: 21, y: 22} },
      { name: ':pushpin:', position: {x: 21, y: 19} },
      { name: ':round_pushpin:', position: {x: 21, y: 20} },
      { name: ':triangular_flag_on_post:', position: {x: 30, y: 16} },
      { name: ':waving_white_flag:', position: {x: 11, y: 38} },
      { name: ':waving_black_flag:', position: {x: 11, y: 39} },
      { name: ':closed_lock_with_key:', position: {x: 23, y: 4} },
      { name: ':lock:', position: {x: 23, y: 6} },
      { name: ':unlock:', position: {x: 23, y: 7} },
      { name: ':lock_with_ink_pen:', position: {x: 23, y: 3} },
      { name: ':lower_left_ballpoint_pen:', position: {x: 25, y: 8} },
      { name: ':lower_left_fountain_pen:', position: {x: 25, y: 9} },
      { name: ':black_nib:', position: {x: 3, y: 33} },
      { name: ':memo:', position: {x: 21, y: 36} },
      { name: ':pencil2:', position: {x: 3, y: 32} },
      { name: ':lower_left_crayon:', position: {x: 25, y: 11} },
      { name: ':lower_left_paintbrush:', position: {x: 25, y: 10} },
      { name: ':mag:', position: {x: 23, y: 1} },
      { name: ':mag_right:', position: {x: 23, y: 2} }
    ],
    symbols: [
      { name: ':heart:', position: {x: 4, y: 9} },
      { name: ':yellow_heart:', position: {x: 20, y: 6} },
      { name: ':green_heart:', position: {x: 20, y: 5} },
      { name: ':blue_heart:', position: {x: 20, y: 4} },
      { name: ':purple_heart:', position: {x: 20, y: 7} },
      { name: ':broken_heart:', position: {x: 19, y: 40} },
      { name: ':heavy_heart_exclamation_mark_ornament:', position: {x: 4, y: 8} },
      { name: ':two_hearts:', position: {x: 20, y: 0} },
      { name: ':revolving_hearts:', position: {x: 20, y: 9} },
      { name: ':heartbeat:', position: {x: 19, y: 39} },
      { name: ':heartpulse:', position: {x: 20, y: 2} },
      { name: ':sparkling_heart:', position: {x: 20, y: 1} },
      { name: ':cupid:', position: {x: 20, y: 3} },
      { name: ':gift_heart:', position: {x: 20, y: 8} },
      { name: ':heart_decoration:', position: {x: 20, y: 10} },
      { name: ':peace_symbol:', position: {x: 1, y: 20} },
      { name: ':latin_cross:', position: {x: 3, y: 36} },
      { name: ':star_and_crescent:', position: {x: 1, y: 19} },
      { name: ':om_symbol:', position: {x: 24, y: 9} },
      { name: ':wheel_of_dharma:', position: {x: 1, y: 22} },
      { name: ':star_of_david:', position: {x: 3, y: 37} },
      { name: ':six_pointed_star:', position: {x: 23, y: 35} },
      { name: ':menorah_with_nine_branches:', position: {x: 24, y: 14} },
      { name: ':yin_yang:', position: {x: 1, y: 21} },
      { name: ':orthodox_cross:', position: {x: 1, y: 18} },
      { name: ':place_of_worship:', position: {x: 31, y: 29} },
      { name: ':ophiuchus:', position: {x: 2, y: 22} },
      { name: ':aries:', position: {x: 1, y: 25} },
      { name: ':taurus:', position: {x: 1, y: 26} },
      { name: ':gemini:', position: {x: 1, y: 27} },
      { name: ':cancer:', position: {x: 1, y: 28} },
      { name: ':leo:', position: {x: 1, y: 29} },
      { name: ':virgo:', position: {x: 1, y: 30} },
      { name: ':libra:', position: {x: 1, y: 31} },
      { name: ':scorpius:', position: {x: 1, y: 32} },
      { name: ':sagittarius:', position: {x: 1, y: 33} },
      { name: ':capricorn:', position: {x: 1, y: 34} },
      { name: ':aquarius:', position: {x: 1, y: 35} },
      { name: ':pisces:', position: {x: 1, y: 36} },
      { name: ':id:', position: {x: 4, y: 39} },
      { name: ':atom_symbol:', position: {x: 2, y: 9} },
      { name: ':u7a7a:', position: {x: 5, y: 10} },
      { name: ':u5272:', position: {x: 5, y: 16} },
      { name: ':radioactive_sign:', position: {x: 1, y: 16} },
      { name: ':biohazard_sign:', position: {x: 1, y: 17} },
      { name: ':mobile_phone_off:', position: {x: 22, y: 18} },
      { name: ':vibration_mode:', position: {x: 22, y: 17} },
      { name: ':u6709:', position: {x: 5, y: 13} },
      { name: ':u7121:', position: {x: 5, y: 7} },
      { name: ':u7533:', position: {x: 5, y: 15} },
      { name: ':u55b6:', position: {x: 5, y: 17} },
      { name: ':u6708:', position: {x: 5, y: 14} },
      { name: ':eight_pointed_black_star:', position: {x: 3, y: 40} },
      { name: ':vs:', position: {x: 5, y: 4} },
      { name: ':accept:', position: {x: 5, y: 19} },
      { name: ':white_flower:', position: {x: 20, y: 30} },
      { name: ':ideograph_advantage:', position: {x: 5, y: 18} },
      { name: ':secret:', position: {x: 4, y: 28} },
      { name: ':congratulations:', position: {x: 4, y: 27} },
      { name: ':u5408:', position: {x: 5, y: 11} },
      { name: ':u6e80:', position: {x: 5, y: 12} },
      { name: ':u7981:', position: {x: 5, y: 9} },
      { name: ':a:', position: {x: 4, y: 31} },
      { name: ':b:', position: {x: 4, y: 32} },
      { name: ':ab:', position: {x: 4, y: 35} },
      { name: ':cl:', position: {x: 4, y: 36} },
      { name: ':o2:', position: {x: 4, y: 33} },
      { name: ':sos:', position: {x: 5, y: 2} },
      { name: ':no_entry:', position: {x: 2, y: 26} },
      { name: ':name_badge:', position: {x: 21, y: 34} },
      { name: ':no_entry_sign:', position: {x: 30, y: 18} },
      { name: ':x:', position: {x: 4, y: 2} },
      { name: ':o:', position: {x: 4, y: 24} },
      { name: ':anger:', position: {x: 20, y: 13} },
      { name: ':hotsprings:', position: {x: 2, y: 0} },
      { name: ':no_pedestrians:', position: {x: 31, y: 4} },
      { name: ':do_not_litter:', position: {x: 30, y: 22} },
      { name: ':no_bicycles:', position: {x: 30, y: 26} },
      { name: ':non-potable_water:', position: {x: 30, y: 24} },
      { name: ':underage:', position: {x: 23, y: 18} },
      { name: ':no_mobile_phones:', position: {x: 22, y: 19} },
      { name: ':exclamation:', position: {x: 4, y: 7} },
      { name: ':grey_exclamation:', position: {x: 4, y: 6} },
      { name: ':question:', position: {x: 4, y: 4} },
      { name: ':grey_question:', position: {x: 4, y: 5} },
      { name: ':bangbang:', position: {x: 0, y: 2} },
      { name: ':interrobang:', position: {x: 0, y: 3} },
      { name: ':100:', position: {x: 20, y: 31} },
      { name: ':low_brightness:', position: {x: 22, y: 34} },
      { name: ':high_brightness:', position: {x: 22, y: 35} },
      { name: ':trident:', position: {x: 23, y: 37} },
      { name: ':fleur_de_lis:', position: {x: 2, y: 10} },
      { name: ':part_alternation_mark:', position: {x: 4, y: 26} },
      { name: ':warning:', position: {x: 2, y: 11} },
      { name: ':children_crossing:', position: {x: 31, y: 5} },
      { name: ':beginner:', position: {x: 23, y: 36} },
      { name: ':recycle:', position: {x: 2, y: 1} },
      { name: ':u6307:', position: {x: 5, y: 8} },
      { name: ':chart:', position: {x: 21, y: 0} },
      { name: ':sparkle:', position: {x: 4, y: 1} },
      { name: ':eight_spoked_asterisk:', position: {x: 3, y: 39} },
      { name: ':negative_squared_cross_mark:', position: {x: 4, y: 3} },
      { name: ':white_check_mark:', position: {x: 3, y: 5} },
      { name: ':diamond_shape_with_a_dot_inside:', position: {x: 20, y: 11} },
      { name: ':cyclone:', position: {x: 5, y: 20} },
      { name: ':loop:', position: {x: 4, y: 15} },
      { name: ':globe_with_meridians:', position: {x: 5, y: 36} },
      { name: ':m:', position: {x: 0, y: 31} },
      { name: ':atm:', position: {x: 11, y: 28} },
      { name: ':sa:', position: {x: 5, y: 6} },
      { name: ':passport_control:', position: {x: 31, y: 20} },
      { name: ':customs:', position: {x: 31, y: 21} },
      { name: ':baggage_claim:', position: {x: 31, y: 22} },
      { name: ':left_luggage:', position: {x: 31, y: 23} },
      { name: ':wheelchair:', position: {x: 2, y: 2} },
      { name: ':no_smoking:', position: {x: 30, y: 20} },
      { name: ':wc:', position: {x: 31, y: 11} },
      { name: ':parking:', position: {x: 4, y: 34} },
      { name: ':potable_water:', position: {x: 30, y: 23} },
      { name: ':mens:', position: {x: 31, y: 6} },
      { name: ':womens:', position: {x: 31, y: 7} },
      { name: ':baby_symbol:', position: {x: 31, y: 9} },
      { name: ':restroom:', position: {x: 31, y: 8} },
      { name: ':put_litter_in_its_place:', position: {x: 30, y: 21} },
      { name: ':cinema:', position: {x: 9, y: 20} },
      { name: ':signal_strength:', position: {x: 22, y: 20} },
      { name: ':koko:', position: {x: 5, y: 5} },
      { name: ':ng:', position: {x: 5, y: 0} },
      { name: ':ok:', position: {x: 5, y: 1} },
      { name: ':up:', position: {x: 5, y: 3} },
      { name: ':cool:', position: {x: 4, y: 37} },
      { name: ':new:', position: {x: 4, y: 40} },
      { name: ':free:', position: {x: 4, y: 38} },
      { name: ':zero:', position: {x: 32, y: 22} },
      { name: ':one:', position: {x: 32, y: 23} },
      { name: ':two:', position: {x: 32, y: 24} },
      { name: ':three:', position: {x: 32, y: 25} },
      { name: ':four:', position: {x: 32, y: 26} },
      { name: ':five:', position: {x: 32, y: 27} },
      { name: ':six:', position: {x: 32, y: 28} },
      { name: ':seven:', position: {x: 32, y: 29} },
      { name: ':eight:', position: {x: 32, y: 30} },
      { name: ':nine:', position: {x: 32, y: 31} },
      { name: ':keycap_ten:', position: {x: 23, y: 19} },
      { name: ':keycap_star:', position: {x: 32, y: 21} },
      { name: ':1234:', position: {x: 23, y: 22} },
      { name: ':arrow_forward:', position: {x: 0, y: 34} },
      { name: ':double_vertical_bar:', position: {x: 0, y: 28} },
      { name: ':black_right_pointing_triangle_with_double_vertical_bar:', position: {x: 0, y: 23} },
      { name: ':black_square_for_stop:', position: {x: 0, y: 29} },
      { name: ':black_circle_for_record:', position: {x: 0, y: 30} },
      { name: ':black_right_pointing_double_triangle_with_vertical_bar:', position: {x: 0, y: 21} },
      { name: ':black_left_pointing_double_triangle_with_vertical_bar:', position: {x: 0, y: 22} },
      { name: ':fast_forward:', position: {x: 0, y: 17} },
      { name: ':rewind:', position: {x: 0, y: 18} },
      { name: ':twisted_rightwards_arrows:', position: {x: 22, y: 29} },
      { name: ':repeat:', position: {x: 22, y: 30} },
      { name: ':repeat_one:', position: {x: 22, y: 31} },
      { name: ':arrow_backward:', position: {x: 0, y: 35} },
      { name: ':arrow_up_small:', position: {x: 24, y: 7} },
      { name: ':arrow_down_small:', position: {x: 24, y: 8} },
      { name: ':arrow_double_up:', position: {x: 0, y: 19} },
      { name: ':arrow_double_down:', position: {x: 0, y: 20} },
      { name: ':arrow_right:', position: {x: 4, y: 13} },
      { name: ':arrow_left:', position: {x: 4, y: 18} },
      { name: ':arrow_up:', position: {x: 4, y: 19} },
      { name: ':arrow_down:', position: {x: 4, y: 20} },
      { name: ':arrow_upper_right:', position: {x: 0, y: 9} },
      { name: ':arrow_lower_right:', position: {x: 0, y: 10} },
      { name: ':arrow_lower_left:', position: {x: 0, y: 11} },
      { name: ':arrow_upper_left:', position: {x: 0, y: 8} },
      { name: ':arrow_up_down:', position: {x: 0, y: 7} },
      { name: ':left_right_arrow:', position: {x: 0, y: 6} },
      { name: ':arrows_counterclockwise:', position: {x: 22, y: 33} },
      { name: ':arrow_right_hook:', position: {x: 0, y: 13} },
      { name: ':leftwards_arrow_with_hook:', position: {x: 0, y: 12} },
      { name: ':arrow_heading_up:', position: {x: 4, y: 16} },
      { name: ':arrow_heading_down:', position: {x: 4, y: 17} },
      { name: ':hash:', position: {x: 32, y: 20} },
      { name: ':information_source:', position: {x: 0, y: 5} },
      { name: ':abc:', position: {x: 23, y: 24} },
      { name: ':abcd:', position: {x: 23, y: 21} },
      { name: ':capital_abcd:', position: {x: 23, y: 20} },
      { name: ':symbols:', position: {x: 23, y: 23} },
      { name: ':musical_note:', position: {x: 9, y: 35} },
      { name: ':notes:', position: {x: 9, y: 36} },
      { name: ':wavy_dash:', position: {x: 4, y: 25} },
      { name: ':curly_loop:', position: {x: 4, y: 14} },
      { name: ':heavy_check_mark:', position: {x: 3, y: 34} },
      { name: ':arrows_clockwise:', position: {x: 22, y: 32} },
      { name: ':heavy_plus_sign:', position: {x: 4, y: 10} },
      { name: ':heavy_minus_sign:', position: {x: 4, y: 11} },
      { name: ':heavy_division_sign:', position: {x: 4, y: 12} },
      { name: ':heavy_multiplication_x:', position: {x: 3, y: 35} },
      { name: ':heavy_dollar_sign:', position: {x: 20, y: 34} },
      { name: ':currency_exchange:', position: {x: 20, y: 33} },
      { name: ':copyright:', position: {x: 0, y: 0} },
      { name: ':registered:', position: {x: 0, y: 1} },
      { name: ':tm:', position: {x: 0, y: 4} },
      { name: ':end:', position: {x: 23, y: 14} },
      { name: ':back:', position: {x: 23, y: 13} },
      { name: ':on:', position: {x: 23, y: 15} },
      { name: ':top:', position: {x: 23, y: 17} },
      { name: ':soon:', position: {x: 23, y: 16} },
      { name: ':ballot_box_with_check:', position: {x: 1, y: 5} },
      { name: ':radio_button:', position: {x: 23, y: 12} },
      { name: ':white_circle:', position: {x: 2, y: 13} },
      { name: ':black_circle:', position: {x: 2, y: 14} },
      { name: ':red_circle:', position: {x: 23, y: 40} },
      { name: ':large_blue_circle:', position: {x: 24, y: 0} },
      { name: ':small_orange_diamond:', position: {x: 24, y: 3} },
      { name: ':small_blue_diamond:', position: {x: 24, y: 4} },
      { name: ':large_orange_diamond:', position: {x: 24, y: 1} },
      { name: ':large_blue_diamond:', position: {x: 24, y: 2} },
      { name: ':small_red_triangle:', position: {x: 24, y: 5} },
      { name: ':black_small_square:', position: {x: 0, y: 32} },
      { name: ':white_small_square:', position: {x: 0, y: 33} },
      { name: ':black_large_square:', position: {x: 4, y: 21} },
      { name: ':white_large_square:', position: {x: 4, y: 22} },
      { name: ':small_red_triangle_down:', position: {x: 24, y: 6} },
      { name: ':black_medium_square:', position: {x: 0, y: 37} },
      { name: ':white_medium_square:', position: {x: 0, y: 36} },
      { name: ':black_medium_small_square:', position: {x: 0, y: 39} },
      { name: ':white_medium_small_square:', position: {x: 0, y: 38} },
      { name: ':black_square_button:', position: {x: 23, y: 38} },
      { name: ':white_square_button:', position: {x: 23, y: 39} },
      { name: ':speaker:', position: {x: 22, y: 37} },
      { name: ':sound:', position: {x: 22, y: 38} },
      { name: ':loud_sound:', position: {x: 22, y: 39} },
      { name: ':mute:', position: {x: 22, y: 36} },
      { name: ':mega:', position: {x: 22, y: 1} },
      { name: ':loudspeaker:', position: {x: 22, y: 0} },
      { name: ':bell:', position: {x: 23, y: 8} },
      { name: ':no_bell:', position: {x: 23, y: 9} },
      { name: ':black_joker:', position: {x: 4, y: 30} },
      { name: ':mahjong:', position: {x: 4, y: 29} },
      { name: ':spades:', position: {x: 1, y: 37} },
      { name: ':clubs:', position: {x: 1, y: 38} },
      { name: ':hearts:', position: {x: 1, y: 39} },
      { name: ':diamonds:', position: {x: 1, y: 40} },
      { name: ':flower_playing_cards:', position: {x: 9, y: 34} },
      { name: ':thought_balloon:', position: {x: 20, y: 29} },
      { name: ':right_anger_bubble:', position: {x: 26, y: 6} },
      { name: ':speech_balloon:', position: {x: 20, y: 28} },
      { name: ':clock1:', position: {x: 24, y: 15} },
      { name: ':clock2:', position: {x: 24, y: 16} },
      { name: ':clock3:', position: {x: 24, y: 17} },
      { name: ':clock4:', position: {x: 24, y: 18} },
      { name: ':clock5:', position: {x: 24, y: 19} },
      { name: ':clock6:', position: {x: 24, y: 20} },
      { name: ':clock7:', position: {x: 24, y: 21} },
      { name: ':clock8:', position: {x: 24, y: 22} },
      { name: ':clock9:', position: {x: 24, y: 23} },
      { name: ':clock10:', position: {x: 24, y: 24} },
      { name: ':clock11:', position: {x: 24, y: 25} },
      { name: ':clock12:', position: {x: 24, y: 26} },
      { name: ':clock130:', position: {x: 24, y: 27} },
      { name: ':clock230:', position: {x: 24, y: 28} },
      { name: ':clock330:', position: {x: 24, y: 29} },
      { name: ':clock430:', position: {x: 24, y: 30} },
      { name: ':clock530:', position: {x: 24, y: 31} },
      { name: ':clock630:', position: {x: 24, y: 32} },
      { name: ':clock730:', position: {x: 24, y: 33} },
      { name: ':clock830:', position: {x: 24, y: 34} },
      { name: ':clock930:', position: {x: 24, y: 35} },
      { name: ':clock1030:', position: {x: 24, y: 36} },
      { name: ':clock1130:', position: {x: 24, y: 37} },
      { name: ':clock1230:', position: {x: 24, y: 38} }
    ],
    flags: [
      { name: ':flag-ac:', position: {x: 32, y: 32} },
      { name: ':flag-ad:', position: {x: 32, y: 33} },
      { name: ':flag-ae:', position: {x: 32, y: 34} },
      { name: ':flag-af:', position: {x: 32, y: 35} },
      { name: ':flag-ag:', position: {x: 32, y: 36} },
      { name: ':flag-ai:', position: {x: 32, y: 37} },
      { name: ':flag-al:', position: {x: 32, y: 38} },
      { name: ':flag-am:', position: {x: 32, y: 39} },
      { name: ':flag-ao:', position: {x: 32, y: 40} },
      { name: ':flag-aq:', position: {x: 33, y: 0} },
      { name: ':flag-ar:', position: {x: 33, y: 1} },
      { name: ':flag-as:', position: {x: 33, y: 2} },
      { name: ':flag-at:', position: {x: 33, y: 3} },
      { name: ':flag-au:', position: {x: 33, y: 4} },
      { name: ':flag-aw:', position: {x: 33, y: 5} },
      { name: ':flag-ax:', position: {x: 33, y: 6} },
      { name: ':flag-az:', position: {x: 33, y: 7} },
      { name: ':flag-ba:', position: {x: 33, y: 8} },
      { name: ':flag-bb:', position: {x: 33, y: 9} },
      { name: ':flag-bd:', position: {x: 33, y: 10} },
      { name: ':flag-be:', position: {x: 33, y: 11} },
      { name: ':flag-bf:', position: {x: 33, y: 12} },
      { name: ':flag-bg:', position: {x: 33, y: 13} },
      { name: ':flag-bh:', position: {x: 33, y: 14} },
      { name: ':flag-bi:', position: {x: 33, y: 15} },
      { name: ':flag-bj:', position: {x: 33, y: 16} },
      { name: ':flag-bl:', position: {x: 33, y: 17} },
      { name: ':flag-bm:', position: {x: 33, y: 18} },
      { name: ':flag-bn:', position: {x: 33, y: 19} },
      { name: ':flag-bo:', position: {x: 33, y: 20} },
      { name: ':flag-bq:', position: {x: 33, y: 21} },
      { name: ':flag-br:', position: {x: 33, y: 22} },
      { name: ':flag-bs:', position: {x: 33, y: 23} },
      { name: ':flag-bt:', position: {x: 33, y: 24} },
      { name: ':flag-bv:', position: {x: 33, y: 25} },
      { name: ':flag-bw:', position: {x: 33, y: 26} },
      { name: ':flag-by:', position: {x: 33, y: 27} },
      { name: ':flag-bz:', position: {x: 33, y: 28} },
      { name: ':flag-ca:', position: {x: 33, y: 29} },
      { name: ':flag-cc:', position: {x: 33, y: 30} },
      { name: ':flag-cd:', position: {x: 33, y: 31} },
      { name: ':flag-cf:', position: {x: 33, y: 32} },
      { name: ':flag-cg:', position: {x: 33, y: 33} },
      { name: ':flag-ch:', position: {x: 33, y: 34} },
      { name: ':flag-ci:', position: {x: 33, y: 35} },
      { name: ':flag-ck:', position: {x: 33, y: 36} },
      { name: ':flag-cl:', position: {x: 33, y: 37} },
      { name: ':flag-cm:', position: {x: 33, y: 38} },
      { name: ':flag-cn:', position: {x: 33, y: 39} },
      { name: ':flag-co:', position: {x: 33, y: 40} },
      { name: ':flag-cp:', position: {x: 34, y: 0} },
      { name: ':flag-cr:', position: {x: 34, y: 1} },
      { name: ':flag-cu:', position: {x: 34, y: 2} },
      { name: ':flag-cv:', position: {x: 34, y: 3} },
      { name: ':flag-cw:', position: {x: 34, y: 4} },
      { name: ':flag-cx:', position: {x: 34, y: 5} },
      { name: ':flag-cy:', position: {x: 34, y: 6} },
      { name: ':flag-cz:', position: {x: 34, y: 7} },
      { name: ':flag-de:', position: {x: 34, y: 8} },
      { name: ':flag-dg:', position: {x: 34, y: 9} },
      { name: ':flag-dj:', position: {x: 34, y: 10} },
      { name: ':flag-dk:', position: {x: 34, y: 11} },
      { name: ':flag-dm:', position: {x: 34, y: 12} },
      { name: ':flag-do:', position: {x: 34, y: 13} },
      { name: ':flag-dz:', position: {x: 34, y: 14} },
      { name: ':flag-ea:', position: {x: 34, y: 15} },
      { name: ':flag-ec:', position: {x: 34, y: 16} },
      { name: ':flag-ee:', position: {x: 34, y: 17} },
      { name: ':flag-eg:', position: {x: 34, y: 18} },
      { name: ':flag-eh:', position: {x: 34, y: 19} },
      { name: ':flag-er:', position: {x: 34, y: 20} },
      { name: ':flag-es:', position: {x: 34, y: 21} },
      { name: ':flag-et:', position: {x: 34, y: 22} },
      { name: ':flag-eu:', position: {x: 34, y: 23} },
      { name: ':flag-fi:', position: {x: 34, y: 24} },
      { name: ':flag-fj:', position: {x: 34, y: 25} },
      { name: ':flag-fk:', position: {x: 34, y: 26} },
      { name: ':flag-fm:', position: {x: 34, y: 27} },
      { name: ':flag-fo:', position: {x: 34, y: 28} },
      { name: ':flag-fr:', position: {x: 34, y: 29} },
      { name: ':flag-ga:', position: {x: 34, y: 30} },
      { name: ':flag-gb:', position: {x: 34, y: 31} },
      { name: ':flag-gd:', position: {x: 34, y: 32} },
      { name: ':flag-ge:', position: {x: 34, y: 33} },
      { name: ':flag-gf:', position: {x: 34, y: 34} },
      { name: ':flag-gg:', position: {x: 34, y: 35} },
      { name: ':flag-gh:', position: {x: 34, y: 36} },
      { name: ':flag-gi:', position: {x: 34, y: 37} },
      { name: ':flag-gl:', position: {x: 34, y: 38} },
      { name: ':flag-gm:', position: {x: 34, y: 39} },
      { name: ':flag-gn:', position: {x: 34, y: 40} },
      { name: ':flag-gp:', position: {x: 35, y: 0} },
      { name: ':flag-gq:', position: {x: 35, y: 1} },
      { name: ':flag-gr:', position: {x: 35, y: 2} },
      { name: ':flag-gs:', position: {x: 35, y: 3} },
      { name: ':flag-gt:', position: {x: 35, y: 4} },
      { name: ':flag-gu:', position: {x: 35, y: 5} },
      { name: ':flag-gw:', position: {x: 35, y: 6} },
      { name: ':flag-gy:', position: {x: 35, y: 7} },
      { name: ':flag-hk:', position: {x: 35, y: 8} },
      { name: ':flag-hm:', position: {x: 35, y: 9} },
      { name: ':flag-hn:', position: {x: 35, y: 10} },
      { name: ':flag-hr:', position: {x: 35, y: 11} },
      { name: ':flag-ht:', position: {x: 35, y: 12} },
      { name: ':flag-hu:', position: {x: 35, y: 13} },
      { name: ':flag-ic:', position: {x: 35, y: 14} },
      { name: ':flag-id:', position: {x: 35, y: 15} },
      { name: ':flag-ie:', position: {x: 35, y: 16} },
      { name: ':flag-il:', position: {x: 35, y: 17} },
      { name: ':flag-im:', position: {x: 35, y: 18} },
      { name: ':flag-in:', position: {x: 35, y: 19} },
      { name: ':flag-io:', position: {x: 35, y: 20} },
      { name: ':flag-iq:', position: {x: 35, y: 21} },
      { name: ':flag-ir:', position: {x: 35, y: 22} },
      { name: ':flag-is:', position: {x: 35, y: 23} },
      { name: ':flag-it:', position: {x: 35, y: 24} },
      { name: ':flag-je:', position: {x: 35, y: 25} },
      { name: ':flag-jm:', position: {x: 35, y: 26} },
      { name: ':flag-jo:', position: {x: 35, y: 27} },
      { name: ':flag-jp:', position: {x: 35, y: 28} },
      { name: ':flag-ke:', position: {x: 35, y: 29} },
      { name: ':flag-kg:', position: {x: 35, y: 30} },
      { name: ':flag-kh:', position: {x: 35, y: 31} },
      { name: ':flag-ki:', position: {x: 35, y: 32} },
      { name: ':flag-km:', position: {x: 35, y: 33} },
      { name: ':flag-kn:', position: {x: 35, y: 34} },
      { name: ':flag-kp:', position: {x: 35, y: 35} },
      { name: ':flag-kr:', position: {x: 35, y: 36} },
      { name: ':flag-kw:', position: {x: 35, y: 37} },
      { name: ':flag-ky:', position: {x: 35, y: 38} },
      { name: ':flag-kz:', position: {x: 35, y: 39} },
      { name: ':flag-la:', position: {x: 35, y: 40} },
      { name: ':flag-lb:', position: {x: 36, y: 0} },
      { name: ':flag-lc:', position: {x: 36, y: 1} },
      { name: ':flag-li:', position: {x: 36, y: 2} },
      { name: ':flag-lk:', position: {x: 36, y: 3} },
      { name: ':flag-lr:', position: {x: 36, y: 4} },
      { name: ':flag-ls:', position: {x: 36, y: 5} },
      { name: ':flag-lt:', position: {x: 36, y: 6} },
      { name: ':flag-lu:', position: {x: 36, y: 7} },
      { name: ':flag-lv:', position: {x: 36, y: 8} },
      { name: ':flag-ly:', position: {x: 36, y: 9} },
      { name: ':flag-ma:', position: {x: 36, y: 10} },
      { name: ':flag-mc:', position: {x: 36, y: 11} },
      { name: ':flag-md:', position: {x: 36, y: 12} },
      { name: ':flag-me:', position: {x: 36, y: 13} },
      { name: ':flag-mf:', position: {x: 36, y: 14} },
      { name: ':flag-mg:', position: {x: 36, y: 15} },
      { name: ':flag-mh:', position: {x: 36, y: 16} },
      { name: ':flag-mk:', position: {x: 36, y: 17} },
      { name: ':flag-ml:', position: {x: 36, y: 18} },
      { name: ':flag-mm:', position: {x: 36, y: 19} },
      { name: ':flag-mn:', position: {x: 36, y: 20} },
      { name: ':flag-mo:', position: {x: 36, y: 21} },
      { name: ':flag-mp:', position: {x: 36, y: 22} },
      { name: ':flag-mq:', position: {x: 36, y: 23} },
      { name: ':flag-mr:', position: {x: 36, y: 24} },
      { name: ':flag-ms:', position: {x: 36, y: 25} },
      { name: ':flag-mt:', position: {x: 36, y: 26} },
      { name: ':flag-mu:', position: {x: 36, y: 27} },
      { name: ':flag-mv:', position: {x: 36, y: 28} },
      { name: ':flag-mw:', position: {x: 36, y: 29} },
      { name: ':flag-mx:', position: {x: 36, y: 30} },
      { name: ':flag-my:', position: {x: 36, y: 31} },
      { name: ':flag-mz:', position: {x: 36, y: 32} },
      { name: ':flag-na:', position: {x: 36, y: 33} },
      { name: ':flag-nc:', position: {x: 36, y: 34} },
      { name: ':flag-ne:', position: {x: 36, y: 35} },
      { name: ':flag-nf:', position: {x: 36, y: 36} },
      { name: ':flag-ng:', position: {x: 36, y: 37} },
      { name: ':flag-ni:', position: {x: 36, y: 38} },
      { name: ':flag-nl:', position: {x: 36, y: 39} },
      { name: ':flag-no:', position: {x: 36, y: 40} },
      { name: ':flag-np:', position: {x: 37, y: 0} },
      { name: ':flag-nr:', position: {x: 37, y: 1} },
      { name: ':flag-nu:', position: {x: 37, y: 2} },
      { name: ':flag-nz:', position: {x: 37, y: 3} },
      { name: ':flag-om:', position: {x: 37, y: 4} },
      { name: ':flag-pa:', position: {x: 37, y: 5} },
      { name: ':flag-pe:', position: {x: 37, y: 6} },
      { name: ':flag-pf:', position: {x: 37, y: 7} },
      { name: ':flag-pg:', position: {x: 37, y: 8} },
      { name: ':flag-ph:', position: {x: 37, y: 9} },
      { name: ':flag-pk:', position: {x: 37, y: 10} },
      { name: ':flag-pl:', position: {x: 37, y: 11} },
      { name: ':flag-pm:', position: {x: 37, y: 12} },
      { name: ':flag-pn:', position: {x: 37, y: 13} },
      { name: ':flag-pr:', position: {x: 37, y: 14} },
      { name: ':flag-ps:', position: {x: 37, y: 15} },
      { name: ':flag-pt:', position: {x: 37, y: 16} },
      { name: ':flag-pw:', position: {x: 37, y: 17} },
      { name: ':flag-py:', position: {x: 37, y: 18} },
      { name: ':flag-qa:', position: {x: 37, y: 19} },
      { name: ':flag-re:', position: {x: 37, y: 20} },
      { name: ':flag-ro:', position: {x: 37, y: 21} },
      { name: ':flag-rs:', position: {x: 37, y: 22} },
      { name: ':flag-ru:', position: {x: 37, y: 23} },
      { name: ':flag-rw:', position: {x: 37, y: 24} },
      { name: ':flag-sa:', position: {x: 37, y: 25} },
      { name: ':flag-sb:', position: {x: 37, y: 26} },
      { name: ':flag-sc:', position: {x: 37, y: 27} },
      { name: ':flag-sd:', position: {x: 37, y: 28} },
      { name: ':flag-se:', position: {x: 37, y: 29} },
      { name: ':flag-sg:', position: {x: 37, y: 30} },
      { name: ':flag-sh:', position: {x: 37, y: 31} },
      { name: ':flag-si:', position: {x: 37, y: 32} },
      { name: ':flag-sj:', position: {x: 37, y: 33} },
      { name: ':flag-sk:', position: {x: 37, y: 34} },
      { name: ':flag-sl:', position: {x: 37, y: 35} },
      { name: ':flag-sm:', position: {x: 37, y: 36} },
      { name: ':flag-sn:', position: {x: 37, y: 37} },
      { name: ':flag-so:', position: {x: 37, y: 38} },
      { name: ':flag-sr:', position: {x: 37, y: 39} },
      { name: ':flag-ss:', position: {x: 37, y: 40} },
      { name: ':flag-st:', position: {x: 38, y: 0} },
      { name: ':flag-sv:', position: {x: 38, y: 1} },
      { name: ':flag-sx:', position: {x: 38, y: 2} },
      { name: ':flag-sy:', position: {x: 38, y: 3} },
      { name: ':flag-sz:', position: {x: 38, y: 4} },
      { name: ':flag-ta:', position: {x: 38, y: 5} },
      { name: ':flag-tc:', position: {x: 38, y: 6} },
      { name: ':flag-td:', position: {x: 38, y: 7} },
      { name: ':flag-tf:', position: {x: 38, y: 8} },
      { name: ':flag-tg:', position: {x: 38, y: 9} },
      { name: ':flag-th:', position: {x: 38, y: 10} },
      { name: ':flag-tj:', position: {x: 38, y: 11} },
      { name: ':flag-tk:', position: {x: 38, y: 12} },
      { name: ':flag-tl:', position: {x: 38, y: 13} },
      { name: ':flag-tm:', position: {x: 38, y: 14} },
      { name: ':flag-tn:', position: {x: 38, y: 15} },
      { name: ':flag-to:', position: {x: 38, y: 16} },
      { name: ':flag-tr:', position: {x: 38, y: 17} },
      { name: ':flag-tt:', position: {x: 38, y: 18} },
      { name: ':flag-tv:', position: {x: 38, y: 19} },
      { name: ':flag-tw:', position: {x: 38, y: 20} },
      { name: ':flag-tz:', position: {x: 38, y: 21} },
      { name: ':flag-ua:', position: {x: 38, y: 22} },
      { name: ':flag-ug:', position: {x: 38, y: 23} },
      { name: ':flag-um:', position: {x: 38, y: 24} },
      { name: ':flag-us:', position: {x: 38, y: 25} },
      { name: ':flag-uy:', position: {x: 38, y: 26} },
      { name: ':flag-uz:', position: {x: 38, y: 27} },
      { name: ':flag-va:', position: {x: 38, y: 28} },
      { name: ':flag-vc:', position: {x: 38, y: 29} },
      { name: ':flag-ve:', position: {x: 38, y: 30} },
      { name: ':flag-vg:', position: {x: 38, y: 31} },
      { name: ':flag-vi:', position: {x: 38, y: 32} },
      { name: ':flag-vn:', position: {x: 38, y: 33} },
      { name: ':flag-vu:', position: {x: 38, y: 34} },
      { name: ':flag-wf:', position: {x: 38, y: 35} },
      { name: ':flag-ws:', position: {x: 38, y: 36} },
      { name: ':flag-xk:', position: {x: 38, y: 37} },
      { name: ':flag-ye:', position: {x: 38, y: 38} },
      { name: ':flag-yt:', position: {x: 38, y: 39} },
      { name: ':flag-za:', position: {x: 38, y: 40} },
      { name: ':flag-zm:', position: {x: 39, y: 0} },
      { name: ':flag-zw:', position: {x: 39, y: 1} }
    ]
  }
  /*textToEmoji: {
    '):': ':disappointed:',
    ':-P': ':stuck_out_tongue:',
    '<3': ':heart:',
    ':-)': ':blush:',
    ':>': ':laughing:',
    ':-*': ':kiss:',
    ':\\': ':confused:',
    ':o)': ':monkey_face:',
    ';-)': ':wink:',
    ':->': ':laughing:',
    ':|': ':neutral_face:',
    ':)': ':blush:',
    ':-|': ':neutral_face:',
    '=-)': ':smiley:',
    ':-/': ':confused:',
    ';P': ':stuck_out_tongue_winking_eye:',
    ';-p': ':stuck_out_tongue_winking_eye:',
    ';-P': ':stuck_out_tongue_winking_eye:',
    ':(': ':disappointed:',
    ':o': ':open_mouth:',
    ';p': ':stuck_out_tongue_winking_eye:',
    ':p': ':stuck_out_tongue:',
    '>:(': ':angry:',
    '</3': ':broken_heart:',
    ':-b': ':stuck_out_tongue:',
    ':-p': ':stuck_out_tongue:',
    ':\'(': ':cry:',
    ';b': ':stuck_out_tongue_winking_eye:',
    ':-D': ':smile:',
    '8)': ':sunglasses:',
    ':D': ':smile:',
    ':b': ':stuck_out_tongue:',
    ':/': ':confused:',
    ':-\\': ':confused:',
    ';)': ':wink:',
    ':*': ':kiss:',
    ':P': ':stuck_out_tongue:',
    ';-b': ':stuck_out_tongue_winking_eye:',
    'c:': ':smile:',
    '=)': ':smiley:',
    ':-o': ':open_mouth:',
    ':-(': ':disappointed:',
    'D:': ':anguished:',
    '(:': ':blush:'
  }*/
};
window.carrotquestCheckIsTrackable = function() {
  // Check for bots
  if (/googlebot|bingbot|\+http:\/\/yandex.com\/bots|aihittot|facebookexternalhit|vkshare|facebot|addthis|applebot|twitterbot|mail\.ru_bot/i.test(navigator.userAgent)) {
    return false;
  }

  // Check cookies
  if (!navigator.cookieEnabled) {
    return false;
  }

  document.cookie = "carrotquest_testcookie=1";
  if (document.cookie.indexOf('carrotquest_testcookie=1') == -1) {
    return false;
  }

  document.cookie = "carrotquest_testcookie=; expires=" + new Date(0).toUTCString();

  // Check carrotquest_notrack cookie
  if (document.cookie.indexOf('carrotquest_notrack') != -1)
    return false;

  // Check local storage support
  try {
    localStorage.setItem('carrotquest_test_ls', '1');
    localStorage.removeItem('carrotquest_test_ls');
  } catch(e) {
    return false;
  }

  // Everything is OK
  return true;
};

if (window.carrotquestCheckIsTrackable()) {

  carrotquest = {};
  carrotquest.settings = carrotquest.settings || {};
  carrotquest.data = {};
  carrotquest.ready = false;
  carrotquest.readyCache = false;
  carrotquest.cookieAppPostfix = carrotquest.cookieAppPostfix || false;
  carrotquest.apikey = '';
  carrotquest.callbacks = [];
  carrotquest.onReadyCallbacks = [];
  carrotquest.statusOperators = {};

  carrotquest.API_VERSION = 'v1';
  carrotquest.BUILD_DATE = '{{BUILD_DATE}}';
  carrotquest.HTTP_PROTOCOL = (document.location.protocol == "https:") ? "https://" : "http://";
  carrotquest.API_BASE = carrotquest.HTTP_PROTOCOL + "api.carrotquest.io/" + carrotquest.API_VERSION;
  carrotquest.CDN_ENDPOINT = carrotquest.HTTP_PROTOCOL + "cdn.carrotquest.io";
  carrotquest.BASE_URL = carrotquest.HTTP_PROTOCOL + "carrotquest.io";
  carrotquest.LONG_POLL_ENDPOINT = carrotquest.HTTP_PROTOCOL + "realtime-services-01.carrotquest.io";
  carrotquest.REALTIME_SERVICES_HOST = "realtime-services-v2.carrotquest.io";
  carrotquest.COOKIE_LIFETIME = 60 * 60 * 24 * 150 * 1000;  // 150 days
  carrotquest.SESSION_LIFETIME = 60 * 60 * 1 * 1000;  // 1 hour
  carrotquest.SESSION_UPDATE_INTERVAL = 60 * 60 * 0.4 * 1000;  // 40 minutes
  carrotquest.STATS_WEB_COLLECTOR = carrotquest.HTTP_PROTOCOL  + "stats-web-collector.carrotquest.io";
  carrotquest.BELL_SOUND = "//files.carrotquest.io/sounds/chat-notification-default.mp3";

  // если build.sh не производил замену - значит надо подставить значения по умолчанию (для локальной отладки)
  if (carrotquest.API_BASE.indexOf('{API_HOST}') != -1) {
    carrotquest.BUILD_DATE = new Date();
    carrotquest.API_BASE = carrotquest.HTTP_PROTOCOL + "api.carrotquest.io/" + carrotquest.API_VERSION;
    carrotquest.CDN_ENDPOINT = carrotquest.HTTP_PROTOCOL + "cdn.carrotquest.io";
    carrotquest.BASE_URL = carrotquest.HTTP_PROTOCOL + "carrotquest.io";
    carrotquest.LONG_POLL_ENDPOINT = carrotquest.HTTP_PROTOCOL + "realtime-services-01.carrotquest.io";
    carrotquest.REALTIME_SERVICES_HOST = "realtime-services.carrotquest.io";
    carrotquest.COOKIE_LIFETIME = 60*60*24*150*1000;  // 150 days
    carrotquest.STATS_WEB_COLLECTOR = carrotquest.HTTP_PROTOCOL  + "stats-web-collector.carrotquest.io";
  }

  carrotquest._i18n = {
    'ru-ru': {
      thanks: 'Спасибо',
      dialogs_history: 'История диалогов',
      new_message: 'Новое сообщение',
      powered_by: 'Мы используем <a target="_blank" href="http://www.carrotquest.io/?utm_source=webmessenger&utm_campaign=powered_by&utm_meduim=outbound">Carrot quest</a>',
      enter_message: 'Введите сообщение и нажмите Enter',
      dialogs_zerodata: 'Диалогов нет.<br>Вы еще с нами не общались',
      enter_email: 'Введите емейл',
      enter_phone: 'Введите телефон',
      leave_email: 'Вы можете оставить свой емейл, и продолжить общение с нами через почту:',
      page_title_new_message: 'Новое сообщение',
      privacy_policy: 'Заботимся о <a  href="http://www.carrotquest.io/privacy/" target="_blank">безопасности данных</a>',
      privacy_policy_and_powered_by: 'Мы используем <a target="_blank" href="http://www.carrotquest.io/?utm_source=webmessenger&utm_campaign=powered_by&utm_meduim=outbound">Carrot quest</a> и заботимся о <a href="http://www.carrotquest.io/privacy/" target="_blank">безопасности данных</a>',
      errorFileType: 'Недопустимый формат файла для загрузки. Вы можете загрузить файлы: jpg, jpeg, png, gif, pdf, rar, zip.',
      errorFileSize: 'Файл слишком большой<br/> Максимальный размер файла — 2 Мбайта.',
      errorManyRequests: 'Слишком большое количество файлов<br/> Вы отправляете файлы слишком часто. Надо немного подождать',
      errorUserBan: 'Вы заблокированы <br/>  У вас больше не возможности писать новые сообщения в чат',
      error: 'Что-то пошло не так. <br/> Произошла ошибка при загрузке. Попробуйте еще раз.',
      close: 'Закрыть',
      button_title_vk: 'Написать нам во ВКонтакте',
      button_title_viber: 'Написать нам в Viber',
      button_title_telegram: 'Написать нам в Telegram',
      button_title_facebook: 'Написать нам в Facebook'
    },
    'en-us': {
      thanks: 'Thank you',
      dialogs_history: 'Conversation history',
      new_message: 'New message',
      powered_by: 'We are using <a target="_blank" href="http://www.carrotquest.io/?utm_source=webmessenger&utm_campaign=powered_by&utm_meduim=outbound">Carrot quest</a>',
      enter_message: 'Type your message and press Enter',
      dialogs_zerodata: 'There are no conversations yet.<br>We\'ve never talked before',
      enter_email: 'Enter your email',
      enter_phone: 'Enter your phone number',
      leave_email: 'You can leave your email and we\'ll continue this conversation through email:',
      page_title_new_message: 'New message',
      privacy_policy: 'We care for user <a href="http://www.carrotquest.io/privacy/" target="_blank">data safety</a>',
      privacy_policy_and_powered_by: 'We are using <a target="_blank" href="http://www.carrotquest.io/?utm_source=webmessenger&utm_campaign=powered_by&utm_meduim=outbound">Carrot quest</a> and care for user <a  href="http://www.carrotquest.io/privacy/" target="_blank">data safety</a>',
      errorFileType: 'Unacceptable file format for upload. You can upload files: jpg, jpeg, png, gif, pdf, rar, zip.',
      errorFileSize: 'File is too big <br/> Maximum file size – 2 MB.',
      error: 'Something went wrong <br/> There was an error during the upload. Try it one more time.',
      errorManyRequests: 'To many files <br/> You\'re sending files too often. You need to wait for a bit.',
      errorUserBan: 'You are blocked <br/> You are not allowed to write new messages in the chat',
      close: 'Close',
      button_title_vk: 'Contact us on VK',
      button_title_viber: 'Contact us on Viber',
      button_title_telegram: 'Contact us on Telegram',
      button_title_facebook: 'Contact us on Facebook'
      
    }
  };


  carrotquest.connect = function(apikey, config) {
    if (carrotquest.connected) return;
    carrotquest.connected = true;
    if (config) {
      carrotquest.cookieAppPostfix = config.cookieAppPostfix ? true : false;
    }
    carrotquest.apikey = apikey || '';
    //Проверяем почищены куки или нет. Если в localStorage есть наши данные
    // а в куках нету значит нужно почистить localStorage
    if (localStorage.getItem('carrotquest_data') && !carrotquest._getCookie('carrotquest_uid')) {
      localStorage.removeItem('carrotquest_data');
      localStorage.removeItem('carrotquest_last_activity');
      localStorage.removeItem('carrotquest_last_conversation');
      localStorage.removeItem('carrotquest_requests');
    }
    
    carrotquest.data = JSON.parse(localStorage.getItem('carrotquest_data') || '{}');

    
    carrotquest.readyCache = localStorage.getItem('carrotquest_data') !== null;
    carrotquest.page_titel = document.title;
    var start_session = !Boolean(carrotquest._getCookie('carrotquest_session_started'));
    carrotquest.session = carrotquest._generateSessionKey();

    setInterval(function () {
      carrotquest.session = carrotquest._generateSessionKey();
      carrotquest._setCookie('carrotquest_session_started', '2', carrotquest.SESSION_LIFETIME);
      carrotquest._setCookie('carrotquest_session_started', '1', carrotquest.SESSION_LIFETIME);
    }, carrotquest.SESSION_UPDATE_INTERVAL)

    carrotquest._checkRequests();
    carrotquest._setupMessenger();
    carrotquest._setupUrlApi();
    carrotquest._setupAutoEvents();
    carrotquest._checkUTMTags();

    var params = {
      api_key: carrotquest.apikey,
      referrer: document.referrer,
      url: location.href,
      title: document.title,
      user_agent: navigator.userAgent,
      resolution: window.screen.width + 'x' + window.screen.height,
      build_date: carrotquest.BUILD_DATE,
      start_session: start_session,
      start_session_random_id: carrotquest.session
    };
    //Проверяем если в куках есть guid устройсва то добавляем его к параметрам запроса. Если нет, то jsconnect вернет нам новый guid
    if (carrotquest._getCookie('carrotquest_device_guid')) {
      params['device_guid'] = carrotquest._getCookie('carrotquest_device_guid');
    }
  
    carrotquest.ajaxApiRequest('POST', '/jsconnect', params,
      function(result) {
        if (!result.data.app.active) {
          console.error('carrotquest: this app is blocked or deleted');
          carrotquest.failed = true;
          return;
        }

        carrotquest.data = result.data;
        carrotquest.i18n = carrotquest._i18n[carrotquest.data.app.settings.locale];

        if(config) {
          if(config.i18n) {
            for (var item in carrotquest.i18n) {
              if (carrotquest.i18n.hasOwnProperty(item)) {
                if (config.i18n[item] && item != 'powered_by') {
                  carrotquest.i18n[item] = config.i18n[item];
                }
              }
            }
          }
          if(config.settings) {
            for (var item in carrotquest.data.app.settings) {
              if (carrotquest.data.app.settings.hasOwnProperty(item)) {
                if (config.settings[item] && item.indexOf('messenger_') == 0 && item != 'messenger_show_powered_by') {
                  carrotquest.data.app.settings[item] = config.settings[item];
                }
              }
            }
            if (config.settings['status_operators']) {
              if (config.settings['status_operators'] == 'online') {
                carrotquest.data.app.status_operators = 'online';
              } else if (config.settings['status_operators'] == 'offline') {
                carrotquest.data.app.status_operators = 'offline';
              }
            }
          }
        }
        //Если is_banned true нужно поставить чат в скрытый режим
        if (carrotquest.data.user.is_banned) {
          console.log('carrotquest: This user is banned');
          carrotquest.data.app.settings.messenger_mode = "hidden";
        }
        // Start session
        carrotquest._setCookie('carrotquest_session_started', '2', carrotquest.SESSION_LIFETIME);
        carrotquest._setCookie('carrotquest_session_started', '1', carrotquest.SESSION_LIFETIME);

        //Записываем device_guid в куки что бы понимать что у пользователя не сменилось устройство(используется на пушах)
        if (carrotquest.data.device_guid) {
          carrotquest._setCookie('carrotquest_device_guid', carrotquest.data.device_guid);
        }

        // Override settings from Javascript
        carrotquest._settingsOverride(result.data);

        carrotquest._setupColors();

        carrotquest._setLocalStorage('carrotquest_data', JSON.stringify(carrotquest.data));
        carrotquest.ready = true;
        carrotquest.readyCache = true;

        carrotquest._setCookie('carrotquest_uid', carrotquest.data.user.id, carrotquest.COOKIE_LIFETIME);
        carrotquest._setCookie('carrotquest_auth_token', carrotquest.data.auth_token, carrotquest.COOKIE_LIFETIME);

        carrotquest._runWhenDOMReady(carrotquest.messenger.onDOMReadyCallback);
        carrotquest._setupRealtimeServices();
        carrotquest._setupStatusTracking();

        carrotquest.autoEvents.setupAutoTracking();
        carrotquest.autoEvents.setup(carrotquest.data.app.auto_events);
        carrotquest.autoEvents._URLChangeCallback();

        carrotquest.statusOperators = { 'status': result.data.app.status_operators, date: Math.round((new Date()).getTime() / 1000) };

        // Run Javascript code
        if (carrotquest.data.app.settings.js_code) {
          carrotquest._runWhenDOMReady(function() {eval(carrotquest.data.app.settings.js_code)});
        }

        // onReadyCallbacks process
        for (var i = 0; i < carrotquest.onReadyCallbacks.length; i++) {
          try {
            carrotquest.onReadyCallbacks[i]();
          }
          catch (e) {
            // Do nothing
          }
        }

        // Run integrations JS code
        for (var i = 0; i < carrotquest.data.app.jsscripts.length; i++) {
          try {
            eval(carrotquest.data.app.jsscripts[i].code);
          }
          catch (e) {
          }
        }
      },
      function(result) {
        console.error("carrotquest.connect failed!");
        carrotquest.failed = true;
      })

    // Insert CSS
    if (typeof CARROTQUEST_ALL_CSS != 'undefined') {
      var css = document.createElement('style'); css.type = 'text/css';
      css.appendChild(document.createTextNode(CARROTQUEST_ALL_CSS));
      document.getElementsByTagName('head')[0].appendChild(css);
    } else {
      console.warn('carrotquest: CARROTQUEST_ALL_CSS is undefined, use previously inserted CSS');
    }
  };

  carrotquest._getURLParam = function(name, url) {
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)", "i"), results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
  }

  carrotquest._checkUTMTags = function() {
    var UTMSource = carrotquest._getURLParam('utm_source', location.href) || '';
    var UTMMedium = carrotquest._getURLParam('utm_medium', location.href) || '';
    var UTMCampaign = carrotquest._getURLParam('utm_campaign', location.href) || '';
    var UTMTerm = carrotquest._getURLParam('utm_term', location.href) || '';
    var UTMContent = carrotquest._getURLParam('utm_content', location.href) || '';

    if (UTMSource || UTMMedium || UTMCampaign || UTMTerm || UTMContent) {
      carrotquest.track('$utm_hit', {
        '$utm_source': UTMSource,
        '$utm_medium': UTMMedium,
        '$utm_campaign': UTMCampaign,
        '$utm_term': UTMTerm,
        '$utm_content': UTMContent
      });
      carrotquest.identify([
        {'op': 'set_once', 'key': '$initial_utm_source', 'value': UTMSource},
        {'op': 'set_once', 'key': '$initial_utm_medium', 'value': UTMMedium},
        {'op': 'set_once', 'key': '$initial_utm_campaign', 'value': UTMCampaign},
        {'op': 'set_once', 'key': '$initial_utm_term', 'value': UTMTerm},
        {'op': 'set_once', 'key': '$initial_utm_content', 'value': UTMContent}
      ])
    }
  }

  carrotquest._generateSessionKey = function() {
    var cookie = carrotquest._getCookie('carrotquest_session')
    if (!cookie) {
      var text = "", possible = "abcdefghijklmnopqrstuvwxyz0123456789", LENGTH = 32;
      for (var i = 0; i < LENGTH; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));
      carrotquest._setCookie('carrotquest_session', text, carrotquest.SESSION_LIFETIME);
      return text;
    }
    else {
      carrotquest._setCookie('carrotquest_session', '2', carrotquest.SESSION_LIFETIME);
      carrotquest._setCookie('carrotquest_session', cookie, carrotquest.SESSION_LIFETIME);
      return cookie;
    }
  }

  carrotquest._settingsOverride = function(data) {
    carrotquest.settings = carrotquest.settings || {};

    carrotquest.data.app.settings.messenger_position = carrotquest.settings.messenger_position || data.app.settings.messenger_position;
  }

  carrotquest._setupColors = function() {
    function hexToRgb(hex) {
      var bigint = parseInt(hex, 16);
      var r = (bigint >> 16) & 255;
      var g = (bigint >> 8) & 255;
      var b = bigint & 255;

      return r + "," + g + "," + b;
    }
    var text = '';

    text += '#carrotquest-messenger-collapsed #carrotquest-collapsed-text {';
    text += '  background: #' + carrotquest.data.app.settings.messenger_collapsed_color;
    text += ';}';

    text += '#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-collapsed-text:after,';
    text += '#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-collapsed-text:after,';
    text += '#carrotquest-messenger-collapsed.carrotquest-messenger-right_top #carrotquest-collapsed-text:before,';
    text += '#carrotquest-messenger-collapsed.carrotquest-messenger-right_bottom #carrotquest-collapsed-text:before {';
    text += '  border-left-color: #' + carrotquest.data.app.settings.messenger_collapsed_color + ';';
    text += '}';

    text += '#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-collapsed-text:after,';
    text += '#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-collapsed-text:after,';
    text += '#carrotquest-messenger-collapsed.carrotquest-messenger-left_top #carrotquest-collapsed-text:before,';
    text += '#carrotquest-messenger-collapsed.carrotquest-messenger-left_bottom #carrotquest-collapsed-text:before {';
    text += '  border-right-color: #' + carrotquest.data.app.settings.messenger_collapsed_color + ';';
    text += '}';

    text += '.carrotquest-messenger-conversationpart-ul>li[data-direction="u2a"]>span {';
    text += '  border: 1px solid rgba(' + hexToRgb(carrotquest.data.app.settings.messenger_collapsed_color) + ',1.0);';
    text += '  background: rgba(' + hexToRgb(carrotquest.data.app.settings.messenger_collapsed_color) + ',1.0);';
    text += '}';

    text += '.carrotquest-messenger-conversationpart-ul>li[data-direction="u2a"]>span:after, .carrotquest-messenger-conversationpart-ul>li[data-direction="u2a"]>span:before {';
    text += '  border-left-color: rgba(' + hexToRgb(carrotquest.data.app.settings.messenger_collapsed_color) + ',1.0);';
    text += '}';

    text += '.carrotquest-messenger-conversationpart-ul>li>img, .carrotquest-messenger-conversation-ul>li>img {';
    text += '  border: 2px solid rgba(' + hexToRgb(carrotquest.data.app.settings.messenger_collapsed_color) + ',1.0);';
    text += '  background: rgba(' + hexToRgb(carrotquest.data.app.settings.messenger_collapsed_color) + ',1.0);';
    text += '}'

    text += '#carrotquest-messenger-initialmsg-admin-avatar img, #carrotquest-messenger-title img {';
    text += '  background: rgba(' + hexToRgb(carrotquest.data.app.settings.messenger_collapsed_color) + ',1.0);';
    text += '}'

    text += '#carrotquest-messenger-writeus {';
    text += '  background: rgba(' + hexToRgb(carrotquest.data.app.settings.messenger_collapsed_color) + ',0.9);';
    text += '}'

    text += '#carrotquest-messenger-writeus:hover, #carrotquest-messenger-writeus:active {';
    text += '  background: rgba(' + hexToRgb(carrotquest.data.app.settings.messenger_collapsed_color) + ',1.0);';
    text += '}'

    text += '#carrotquest-messenger-collapsed>div>img {';
    text += '  border: 4px solid rgba(' + hexToRgb(carrotquest.data.app.settings.messenger_collapsed_color) + ',1.0);';
    text += '  background: rgba(' + hexToRgb(carrotquest.data.app.settings.messenger_collapsed_color) + ',1.0);';
    text += '}'

    text += '#carrotquest-messenger-innerreply-button-submit {';
    text += '  background: rgba(' + hexToRgb(carrotquest.data.app.settings.messenger_collapsed_color) + ',1.0);';
    text += '}';

    if (carrotquest.data.app.settings.messenger_hide_collapsed) {
      /* Скрываем маленький совсем */
      text += '#carrotquest-messenger-collapsed #carrotquest-collapsed-text {';
      text += '  display: none !important;';
      text += '}';

      /* Но показываем, когда есть разговор */
      text += '#carrotquest-messenger-collapsed[data-conversation-id] #carrotquest-collapsed-text {';
      text += '  display: table-cell !important;';
      text += '}';

      /* Или когда горит спасибо */
      text += '#carrotquest-messenger-collapsed[data-thanks] #carrotquest-collapsed-text {';
      text += '  display: table-cell !important;';
      text += '}';
    }

    var css = document.createElement('style');
    css.type = 'text/css';
    css.appendChild(document.createTextNode(text))
    document.getElementsByTagName('head')[0].appendChild(css);
  }

  carrotquest._setupUrlApi = function() {
    function isEmptyObject(obj) {
      for (var name in obj) return false;
      return true;
    };

    // Parse GET params
    var match,
      urlParams = {},
      pl = /\+/g,
      search = /([^&=]+)=?([^&]*)/g,
      decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
      query  = window.location.search.substring(1);
    while (match = search.exec(query)) urlParams[decode(match[1])] = decode(match[2]);

    // Find carrotquest params
    var event = '', eventParams = {}, identifyParams = {};

    for (var key in urlParams) {
      if (key == 'cq_event') {
        event = urlParams[key];
      }
      else if (key.indexOf('cq_event_') == 0) {
        eventParams[key.substring(9)] = urlParams[key];
      }
      else if (key.indexOf('cq_identify_') == 0) {
        identifyParams[key.substring(12)] = urlParams[key];
      }
    };

    // Track events and identify, if found something
    if (event) {
      carrotquest.track(event, eventParams);
    };

    if (!isEmptyObject(identifyParams)) {
      carrotquest.identify(identifyParams);
    };
  }

  carrotquest._setupStatusTracking = function() {
    carrotquest.statusTracking = {};
    carrotquest.statusTracking.IDLE_TIMEOUT = 2*60;                                         // 2 минуты
    carrotquest.statusTracking.SEND_PRESENCE_INTERVAL = 90;                                 // 1.5 минута
    carrotquest.statusTracking.HEARTBEAT_INTERVAL = 1000;                                   // 1 секунда
    carrotquest.statusTracking.lastActivity = Math.round((new Date()).getTime() / 1000);    // Время последнего действия
    carrotquest.statusTracking.lastPresence = 'online';                                     // Последний установленный статус
    carrotquest.statusTracking.lastPresenceSet = carrotquest.statusTracking.lastActivity;   // Время, когда последний раз установлен статус
    carrotquest._setLocalStorage('carrotquest_last_activity', carrotquest.statusTracking.lastActivity);
    carrotquest.statusTracking.currentTimestamp = function() {
      return Math.round((new Date()).getTime() / 1000);
    }

    carrotquest.statusTracking.onActivity = function() {
      carrotquest.statusTracking.lastActivity = carrotquest.statusTracking.currentTimestamp();
      if (parseInt(carrotquest._getLocalStorage('carrotquest_last_activity')) != carrotquest.statusTracking.lastActivity) {
        carrotquest._setLocalStorage('carrotquest_last_activity', carrotquest.statusTracking.lastActivity)
      };
    };

    carrotquest.statusTracking.heartBeat = function() {
      var currentTimestamp = carrotquest.statusTracking.currentTimestamp();
      var presence = ((currentTimestamp - carrotquest.statusTracking.lastActivity) < carrotquest.statusTracking.IDLE_TIMEOUT) ? 'online' : 'idle';

      if (presence == carrotquest.statusTracking.lastPresence && ((currentTimestamp - carrotquest.statusTracking.lastPresenceSet) < carrotquest.statusTracking.SEND_PRESENCE_INTERVAL)) {
        // Если статус не изменился с прошлого раза, и прошло меньше 90 секунд, отправлять не надо
        return;
      }

      if (!carrotquest._getCookie('carrotquest_auth_token')) {
        // Защита от непонятного бага
        return;
      }

      // Устанавливаем
      carrotquest.statusTracking.lastPresenceSet = currentTimestamp;
      carrotquest.statusTracking.lastPresence = presence;

      carrotquest.ajaxApiRequest('POST', '/users/$self_user/setpresence', {
        presence: presence,
        current_page: document.title,
        current_url: location.href
      });
    };
    setInterval(carrotquest.statusTracking.heartBeat, carrotquest.statusTracking.HEARTBEAT_INTERVAL);

    // Вешаем обработчики на события активности
    var events = ['mousemove', 'click', 'mouseup', 'keypress', 'scroll', 'touchstart'];
    for (var i = 0; i < events.length; i++) {
      document.addEventListener(events[i], carrotquest.statusTracking.onActivity);
    }

    carrotquest.statusTracking.reset = function() {
      // Эмулируем начальное состояние
      carrotquest.statusTracking.lastActivity = Math.round((new Date()).getTime() / 1000);
      carrotquest.statusTracking.lastPresence = 'online';
      carrotquest.statusTracking.lastPresenceSet = 0;
    };

    // Init
    //carrotquest.statusTracking.setPresence(carrotquest.statusTracking.IDLE_TIMEOUT);
    //carrotquest.statusTracking.lastTime = new Date().getTime() + carrotquest.statusTracking.IDLE_TIMEOUT*1000;

    carrotquest.statusTracking.onStorage = function(e) {
      if (e.key != 'carrotquest_last_activity') return;

      var lastActivity = parseInt(e.newValue);
      if (lastActivity) {
        carrotquest.statusTracking.lastActivity = lastActivity
      }
    };

    if (window.addEventListener) {
      // Normal browsers
      window.addEventListener('storage', carrotquest.statusTracking.onStorage, false);
    }
    else {
      // for IE (why make your life more difficult)
      window.attachEvent('onstorage', carrotquest.statusTracking.onStorage);
    };
  }

  carrotquest._setCookie = function(name, value, lifetime) {
    if (carrotquest.cookieAppPostfix) {
      name += '_' + carrotquest.apikey.split('-')[0];
    }
    
    var cookie = name + "=" + value + ";path=/;";

    if (lifetime) {
      var now = new Date();
      var time = now.getTime();
      time += lifetime;
      now.setTime(time);
      cookie += "expires=" + now.toUTCString() + ';';
    }

    // Try to find highest level allowed domain
    var domainParts = location.hostname.split('.'), currentDomain = '', currentCookie = '';

    for (var i = domainParts.length-1; i >= 0; i--) {
      currentDomain = '.' + domainParts[i] + currentDomain;
      currentCookie = cookie + 'domain=' + currentDomain;

      document.cookie = currentCookie;

      if (carrotquest._getCookie(name) == value) {
        // Yeah, setted!
        return;
      }
    }

    document.cookie = cookie; // Try without domain
  }

  carrotquest._getCookie = function(cname) {
    var name = cname + "=";
    var namePostfix = cname + '_' + carrotquest.apikey.split('-')[0] + "=";
    var ca = document.cookie.split(';');
    if (carrotquest.cookieAppPostfix) {
      for (var i = 0; i < ca.length; i++) {
        var c = ca[i].trim();
        if (c.indexOf(namePostfix) == 0)
          return c.substring(namePostfix.length, c.length);
      };
    }
    for (var i = 0; i < ca.length; i++) {
      var c = ca[i].trim();
      if (c.indexOf(name) == 0)
        return c.substring(name.length, c.length);
    };
    return "";
  }
  
  carrotquest._setLocalStorage = function (name, value) {
    if (carrotquest.cookieAppPostfix) {
      name += '_' + carrotquest.apikey.split('-')[0];
    }
    localStorage.setItem(name, value);
  }
  
  carrotquest._getLocalStorage = function (name) {
    var namePostfix = name + '_' + carrotquest.apikey.split('-')[0];
    var value = localStorage.getItem(namePostfix);
    if (!value) {
      value = localStorage.getItem(name);
    }
    return value;
  }
  
  carrotquest._removeLocalStorage = function (name) {
    localStorage.removeItem(name);
    localStorage.removeItem(name + '_' + carrotquest.apikey.split('-')[0]);
  }
  carrotquest._runWhenDOMLoaded = function(callback) {
    var _run = function() {
      if (document.readyState === "complete") {
        setTimeout(callback, 800);
      }
      else
        setTimeout(_run, 50);
    };

    _run();
  }

  carrotquest._runWhenDOMReady = function(callback) {
    if (document.readyState == "loading")
    //document.addEventListener('DOMContentLoaded', callback);
      setTimeout(function() {carrotquest._runWhenDOMReady(callback)}, 100);
    else
      callback();
  }

  carrotquest._checkRequests = function() {
    var requests = JSON.parse(carrotquest._getLocalStorage('carrotquest_requests') || "[]");
    for (var i = 0; i < requests.length; i++) {
      var request = requests[i];
      carrotquest.ajaxApiRequest(request.method, request.url, request.data, null, null, request.withCredentials, request._nonce)
    }
  }

  carrotquest._setupMessenger = function() {
    carrotquest.messenger = {};
    carrotquest.messenger.state = 'no'; // no, collapsed, opened, big
    carrotquest.messenger.unreadConversations = {};
    carrotquest.messenger.conversations = [];
    carrotquest.messenger.currentConversation = null;
    carrotquest.messenger.inputWatchBody = '';
    carrotquest.messenger.enterCallback = null;
    carrotquest.messenger.emoji = {};

    carrotquest.messenger.reset = function() {
      carrotquest.messenger.unreadConversations = {};
      carrotquest.messenger.conversations = [];
      carrotquest.messenger.currentConversation = null;
      carrotquest.messenger.inputWatchBody = '';
      carrotquest.messenger.enterCallback = null;
      carrotquest.messenger._onDOMReadyCalled = false;

      try {
        carrotquest._removeLocalStorage('carrotquest_last_conversation');
      } catch(e) {}

      carrotquest.messenger.toStateNo();
      carrotquest.messenger.onDOMReadyCallback();
    };

    carrotquest.messenger.toStateNo = function() {
      var cssReset = document.getElementsByClassName('carrotquest-css-reset');
      if (cssReset.length > 0) {
        cssReset[0].parentNode.removeChild(cssReset[0]);
      }

      carrotquest._removeClass(document.body, 'carrotquest-message-noscroll');
      carrotquest._removeClass(document.documentElement, 'carrotquest-message-noscroll');

      
       if (screen && screen.width < 480) {
          carrotquest._removeClass(document.body, 'carrotquest-message-mobil-noscroll');
          carrotquest._removeClass(document.documentElement, 'carrotquest-message-mobil-noscroll');
          if (carrotquest.messenger.scrollPosition)
            document.body.scrollTop = carrotquest.messenger.scrollPosition;
          carrotquest.messenger.scrollPosition = 0;
        }
      
      carrotquest.messenger.enterCallback = null;
      carrotquest.messenger.state = 'no';
      carrotquest.messenger.inputWatchBody = '';
      carrotquest.messenger.currentConversation = null;
    };

    carrotquest.messenger.toStateCollapsed = function(thanks) {
      carrotquest.messenger.state = 'collapsed';
      carrotquest.messenger.enterCallback = null;
      carrotquest.messenger.currentConversation = null;
      // Generate HTML
      var popupHtml = '<div id="carrotquest-messenger-collapsed" ' + (thanks ? 'data-thanks="1"' : '') + ' class="carrotquest-messenger-' + carrotquest.data.app.settings.messenger_position + '">';
      var text = '<span id="carrotquest-collapsed-text"><div id="carrotquest-messenger-collapsed-close"></div><div id="carrotquest-collapsed-text-text-cont">' + (thanks ? carrotquest.i18n['thanks'] : carrotquest.data.app.settings.messenger_collapsed_text) + '</div></span>';

      if (carrotquest.data.app.settings.messenger_position == 'right_top' || carrotquest.data.app.settings.messenger_position == 'right_bottom')
        popupHtml += text;

      popupHtml += '<div id="carrotquest-messenger-collapsed-img-cont">';
      popupHtml += '<div id="carrotquest-social-messenger-buttons" class="' + (carrotquest.data.app.settings.messenger_position.indexOf('_top') >= 0 ? 'carrotquest-social-messenger-buttons-top' : '') + '">';
      popupHtml += carrotquest.data.app.settings.messenger_icon_vk_show ? carrotquest.messenger._socialMessengerButtonToHTML('vk') : '';
      popupHtml += carrotquest.data.app.settings.messenger_icon_viber_show ? carrotquest.messenger._socialMessengerButtonToHTML('viber') : '';
      popupHtml += carrotquest.data.app.settings.messenger_icon_telegram_show ? carrotquest.messenger._socialMessengerButtonToHTML('telegram') : '';
      popupHtml += carrotquest.data.app.settings.messenger_icon_facebook_show ? carrotquest.messenger._socialMessengerButtonToHTML('facebook') : '';
      popupHtml += '</div>';
      popupHtml += '<img src="' + carrotquest.data.user.last_admin.avatar + '">';
      popupHtml += '<span id="carrotquest-messenger-collapsedcounter">' + Object.keys(carrotquest.messenger.unreadConversations).length + '</span></div>';
  

      
      if (carrotquest.data.app.settings.messenger_position == 'left_top' || carrotquest.data.app.settings.messenger_position == 'left_bottom')
        popupHtml += text;

      popupHtml += '</div>';

      // Add DIV
      var parentDiv = document.createElement('div');
      parentDiv.className = "carrotquest-css-reset";
      parentDiv.innerHTML = popupHtml;
      document.getElementsByTagName('body')[0].appendChild(parentDiv);
      var elem = document.getElementById('carrotquest-messenger-collapsed');

      // Click handler
      elem.addEventListener('click', carrotquest.messenger._collapsedClick);

      // Скрытие/открытие иконки "закрыть"
      elem.addEventListener('mouseover', function(e) {
        if (elem.getAttribute('data-conversation-id'))
          document.getElementById('carrotquest-messenger-collapsed-close').style.display = 'block';
      });

      elem.addEventListener('mouseout', function(e) {
        if (elem.getAttribute('data-conversation-id'))
          document.getElementById('carrotquest-messenger-collapsed-close').style.display = 'none';
      });

      var socialButtons = document.getElementById('carrotquest-social-messenger-buttons');
      if (socialButtons) {
        socialButtons.addEventListener('click', function (event) {
          	event.stopPropagation();
        });
      }
      // Counter
      if (Object.keys(carrotquest.messenger.unreadConversations).length == 0)
        document.getElementById('carrotquest-messenger-collapsedcounter').style.display = 'none';

      if (thanks) {
        // Проиграем анимашку
        document.getElementById('carrotquest-collapsed-text').className = 'carrotquest-collapsedtext-anim';
        setTimeout(function() {
          if (carrotquest.messenger.needShowCollapsed()) {
            var elm = document.getElementById('carrotquest-collapsed-text');
            if (!elm) return;

            document.getElementById('carrotquest-messenger-collapsed').removeAttribute('data-thanks');

            // Анимашку проиграть
            var newone = elm.cloneNode(true);
            elm.parentNode.replaceChild(newone, elm);
            newone.childNodes[1].innerHTML = carrotquest.data.app.settings.messenger_collapsed_text;
          }
          else {
            carrotquest.messenger.toStateNo();
          }
        }, 2000);
      }
    };

    carrotquest.messenger._collapsedClick = function(e) {
      // Клик на свернутое состояние
      if (e && e.target && e.target.id == 'carrotquest-messenger-collapsed-close') {
        // Клик на закрыть
        if (carrotquest.messenger.needShowCollapsed()) {
          // Свернутое состояние должно быть показано
          document.getElementById('carrotquest-messenger-collapsed-close').style.display = 'none';
          document.getElementById('carrotquest-messenger-collapsed').removeAttribute('data-conversation-id');

          // Заменить текст
          document.getElementById('carrotquest-collapsed-text-text-cont').innerHTML = carrotquest.data.app.settings.messenger_collapsed_text;

          // Анимашку проиграть заново
          var collapsedText = document.getElementById('carrotquest-collapsed-text');
          collapsedText.className = 'carrotquest-collapsedtext-anim';
          var newOne = collapsedText.cloneNode(true);
          collapsedText.parentNode.replaceChild(newOne, collapsedText);
        }
        else {
          carrotquest.messenger.toStateNo();
        }
      }
      else {
        // Клик не на "закрыть", а на текст
        carrotquest.messenger.toStateNo();

        if (this && this.getAttribute && this.getAttribute('data-conversation-id')) {
          conversation = {id: parseInt(this.getAttribute('data-conversation-id'))}
          carrotquest.messenger.toStateOpened(conversation, false, true);
        }
        else {
          // Если сейчас сообщение по умолчанию (сообщение в свернутом состоянии)
          var conversationIds = Object.keys(carrotquest.messenger.unreadConversations);

          if (conversationIds.length > 0) {
            // Если есть непрочитанные, то открывать надо именно их
            var maxId = 0;
            for (var i = 0; i < conversationIds.length; i++) {
              if (maxId < conversationIds[i])
                maxId = conversationIds[i];
            }

            conversation = {id: maxId};
            carrotquest.messenger.toStateOpened(conversation, false, true);
          }
          else {
            // непрочитанных нет
            conversation = {id: parseInt(carrotquest._getLocalStorage('carrotquest_last_conversation') || 0)}
            carrotquest.messenger.toStateOpened(conversation, false, true);
          }
        }

        carrotquest.fireCallback('messenger_opened');
      };
    }

    carrotquest.messenger.toStateOpened = function(conversation, truncate, animate) {
      var title = '';
      if (!conversation)
        title = carrotquest.i18n['dialogs_history']
      else if (!conversation.id)
        title = carrotquest.i18n['new_message']
      else if (typeof(conversation.last_admin) !== 'undefined') {
        // Либо NULL (это дефолтный админ) либо есть реальный админ
        title = '<img src="' + conversation.last_admin.avatar + '"><span>';
        title = title + (conversation.last_admin ? conversation.last_admin.name : carrotquest.data.app.settings.messenger_name) + '</span>';
      }
      else {
        // Загружается диалог, при этом инфа об админе неизвестна (например, просто по ID)
        // Оставим просто пустое метсо
        title = '';
      }

      // Generate HTML
      var popupHtml = '';
      popupHtml += '<div id="carrotquest-messenger" class="';
      popupHtml += 'carrotquest-messenger-small ';

      if (animate) {
        popupHtml += 'carrotquest-messenger-line-anim carrotquest-messenger-line-anim-' + carrotquest.data.app.settings.messenger_position + ' ';
      }

      if (carrotquest.data.app.settings.messenger_position == 'left_top' || carrotquest.data.app.settings.messenger_position == 'left_bottom')
        popupHtml += 'carrotquest-messenger-line-left';
      else
        popupHtml += 'carrotquest-messenger-line-right';
      popupHtml += '"><div id="carrotquest-messenger-head">';
      if (conversation) {
        // Not conversations list
        popupHtml += '<div id="carrotquest-messenger-headmenu"></div>';
        popupHtml += '<div id="carrotquest-messenger-menucounter"></div>';
      }

      popupHtml += '<div id="carrotquest-messenger-head-close"></div>';
      popupHtml += '<div id="carrotquest-messenger-title">' + title + '</div>';
      popupHtml += '</div>';
      popupHtml += '<div id="carrotquest-messenger-body">';
      popupHtml += '<div id="carrotquest-messenger-loading"><div></div></div>';
      popupHtml += '</div></div>';
      popupHtml += '</div>';

      // Добавить наш DIV в DOM
      var parentDiv = document.createElement('div');
      parentDiv.className = "carrotquest-css-reset";
      parentDiv.innerHTML = popupHtml;
      document.getElementsByTagName('body')[0].appendChild(parentDiv);

      // Close button
      document.getElementById('carrotquest-messenger-head-close').addEventListener('click', function(e) {
        carrotquest.messenger.toStateNo();

        if (carrotquest.messenger.needShowCollapsed())
          carrotquest.messenger.toStateCollapsed();

        carrotquest.fireCallback('messenger_closed');
      });

      // Menu button
      var menu = document.getElementById('carrotquest-messenger-headmenu');
      if (menu) {
        menu.addEventListener('click', function(e) {
          carrotquest.messenger.toStateNo();
          carrotquest.messenger.toStateOpened(null);
        });
      };

      // Menu counter
      carrotquest.messenger._updateCounter(false);

      // Disable scroll on mobile devices
      if (screen && screen.width < 480) {
        carrotquest.messenger.scrollPosition = document.body.scrollTop;
        carrotquest._addClass(document.body, 'carrotquest-message-mobil-noscroll');
        carrotquest._addClass(document.documentElement, 'carrotquest-message-mobil-noscroll');
      }

      carrotquest.messenger.enterCallback = null;
      carrotquest.messenger.state = 'opened';
      carrotquest.messenger.currentConversation = null;
      

      if (!conversation) {
        // Conversations list
        carrotquest.ajaxApiRequest('GET', '/users/$self_user/conversations', {}, function(response) {
          carrotquest.messenger._conversationsLoaded(response.data);
        });
      }
      else if (!conversation.id) {
        // New conversation
        carrotquest.messenger._newConversation();
      }
      else if (!conversation.parts_count) {
        // Будем считать, что знаем только ID о диалоге, и все.
        // Нужно сначала загрузить инфу о диалоге и инфу о частях
        var ready1 = null, ready2 = null;

        carrotquest.ajaxApiRequest('GET', '/conversations/' + conversation.id, {}, function(response) {
          ready1 = response.data;
          if (ready2) carrotquest.messenger._conversationPartsLoaded(ready1, ready2, false);
        });

        carrotquest.ajaxApiRequest('GET', '/conversations/' + conversation.id + '/conversationparts', {}, function(response) {
          ready2 = response.data;
          if (ready1) carrotquest.messenger._conversationPartsLoaded(ready1, ready2, false);
        });
      }
      else if (conversation.parts_count && conversation.parts_count == 1) {
        // Только одна часть, загружать части не надо
        carrotquest.messenger._conversationPartsLoaded(conversation, [conversation.part_last], truncate);
      }
      else {
        // Больше 1 части, сначала надо загрузить части
        carrotquest.ajaxApiRequest('GET', '/conversations/' + conversation.id + '/conversationparts', {}, function(response) {
          carrotquest.messenger._conversationPartsLoaded(conversation, response.data, false);
        });
      }
    };

    carrotquest.messenger._conversationPartsLoaded = function(conversation, parts, truncate) {
      if (carrotquest.messenger.state != 'opened' || !document.getElementById('carrotquest-messenger-loading')) {
        // Пока грузилось, уже не ждем загрузки
        return;
      }

      carrotquest.fireCallback('conversation_opened', {id: conversation.id, message: conversation.message});

      // Это вызывается, когда точно готов conversation и parts
      if (conversation.type == 'popup_chat' || conversation.reply_type == 'text') {
        carrotquest._setLocalStorage('carrotquest_last_conversation', conversation.id);
      }
      else {
        carrotquest._removeLocalStorage('carrotquest_last_conversation');
      }

      // Delete from unread conversations
      //if (conversation.unread_parts_count > 0) {
      conversation.unread_parts_count = 0;
      delete carrotquest.messenger.unreadConversations[conversation.id];
      carrotquest._markread(conversation.id);
      //}

      // Update menu counter
      carrotquest.messenger._updateCounter(false);

      carrotquest.messenger.currentConversation = conversation;

      // Title
      var title = '';
      title = '<img src="' + conversation.last_admin.avatar + '">';
      title = title + '<span>' + (conversation.last_admin ? conversation.last_admin.name : carrotquest.data.app.settings.messenger_name) + '</span>';
      document.getElementById('carrotquest-messenger-title').innerHTML = title;

      // Подменить https у картинок если нужно и отслеживать ссылки
      carrotquest.messenger.prepareFirstConversationPart(conversation, parts);

      // Конверитровать части в HTML
      var conversationHTML = carrotquest.messenger._partsToHTML(conversation, parts);
      //conversationHTML += '<div class="carrotquest-clearfix"></div>';

      // Область для статусов в конце
      conversationHTML += '<div id="carrotquest-messenger-writestatuses"></div>';

      // Сразу после сообщения вставляем в случае, когда внизу нет контейнера
      // Нет контейнера, когда есть quick reply или вообще без ответа
      var quickReply = conversation.reply_type == 'no' || (!conversation.replied && (conversation.reply_type == 'email' || conversation.reply_type == 'phone'));
      if (carrotquest.data.app.settings.messenger_show_powered_by && quickReply && !carrotquest.data.app.settings.messenger_show_collection_data) {
        conversationHTML += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['powered_by'] + '</div>';
      }
      else if (!carrotquest.data.app.settings.messenger_show_powered_by && quickReply && carrotquest.data.app.settings.messenger_show_collection_data) {
        conversationHTML += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['privacy_policy'] + '</div>';
      }
      else if (carrotquest.data.app.settings.messenger_show_powered_by && quickReply && carrotquest.data.app.settings.messenger_show_collection_data) {
        conversationHTML += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['privacy_policy_and_powered_by'] + '</div>';
      }

      var replyBottomForm = '';
      var bottomSpace = 'no';
      if (!quickReply) {
        // Контейнер с ответом внизу
        replyBottomForm += '<div id="carrotquest-messenger-reply">'
        replyBottomForm += '<div id="carrotquest-messenger-reply-cont">';
        replyBottomForm += '<div id="carrotquest-messenger-reply-buttons">';
        replyBottomForm += '<div id="carrotquest-messenger-reply-button"></div>'
        replyBottomForm += '<label id="carrotquest-messenger-reply-file"><input id="carrotquest-messenger-reply-fileinput" type="file" /></label>';
        replyBottomForm += '</div>'
        replyBottomForm += '<div id="carrotquest-messenger-reple-leftcont"><textarea id="carrotquest-messenger-reply-textarea" placeholder="' + carrotquest.i18n['enter_message'] + '"></textarea></div>';
        if (carrotquest.data.app.settings.messenger_show_powered_by && !carrotquest.data.app.settings.messenger_show_collection_data) {
          replyBottomForm += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['powered_by'] + '</div>';
        }
        else if (!carrotquest.data.app.settings.messenger_show_powered_by && carrotquest.data.app.settings.messenger_show_collection_data) {
          replyBottomForm += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['privacy_policy'] + '</div>';
        }
        else if (carrotquest.data.app.settings.messenger_show_powered_by && carrotquest.data.app.settings.messenger_show_collection_data) {
          replyBottomForm += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['privacy_policy_and_powered_by'] + '</div>';
        }
        replyBottomForm += '<div class="carrotquest-clearfix"></div>';
        replyBottomForm += carrotquest.messenger.emoji.generateContent();
        replyBottomForm += '</div></div>';

        if (carrotquest.data.app.settings.messenger_show_powered_by || carrotquest.data.app.settings.messenger_show_collection_data)
          bottomSpace = 'reply_carrot';
        else
          bottomSpace = 'reply';
      }
      var popupSmallClose = '';
      if (truncate && conversation.parts_count == 1 && conversation.type == 'popup_small' && conversation.reply_type != 'text') {
        var popupSmallClose = '<div id="carrotquest-messenger-body-small-cont-close">' + carrotquest.i18n['close'] + '</div>';
      }
      
      // Final container
      conversationHTML = '<ul class="carrotquest-messenger-conversationpart-ul" data-bottom-space="' + bottomSpace + '">' + popupSmallClose + conversationHTML + '</ul>' + replyBottomForm;

      // Insert to DOM
      document.getElementById('carrotquest-messenger-body').innerHTML = conversationHTML;
      document.getElementById('carrotquest-messenger-body').className = 'carrotquest-conversationparts-loaded-animation';

      // Scroll down
      var list = document.getElementsByClassName('carrotquest-messenger-conversationpart-ul')[0];
      list.scrollTop = list.scrollHeight;

      // Ответить внизу
      var replyButton = document.getElementById('carrotquest-messenger-reply-button');
      if (replyButton) {
        replyButton.addEventListener('click', carrotquest.messenger._openedEnterCallback);
        carrotquest.messenger.enterCallback = carrotquest.messenger._openedEnterCallback;

        if (!carrotquest._isTouchDevice())
          document.getElementById('carrotquest-messenger-reply-textarea').focus();
      };

      var replyFile = document.getElementById('carrotquest-messenger-reply-fileinput');
      if (replyFile) {
        replyFile.addEventListener('change', carrotquest.messenger._fileupload, true);
      };
      
      // Ответить в быстром ответе
      var replyButtonInner = document.getElementById('carrotquest-messenger-innerreply-submit');
      if (replyButtonInner) {
        replyButtonInner.addEventListener('click', carrotquest.messenger._openedEnterCallback);
        carrotquest.messenger.enterCallback = carrotquest.messenger._openedEnterCallback;

        //document.getElementById('carrotquest-messenger-reply-textarea').focus();
      }

     
      var replyButtonInner = document.getElementById('carrotquest-messenger-innerreply-button-submit');
      if (replyButtonInner) {
        replyButtonInner.setAttribute('data-conversation-id', conversation.id)
        if (conversation.reply_type == 'push') {
          replyButtonInner.addEventListener('click', carrotquest.messenger._openedSubscriptionWebPush);
        } else {
          replyButtonInner.addEventListener('click', function(e) {
            carrotquest.messenger.toStateNo();
            var params = {
              conversation_id: this.getAttribute('data-conversation-id'),
              type: 'clicked'
            };
            carrotquest.ajaxApiRequest('POST', '/messages/trackinteraction', params, function(response) { });
            if (carrotquest.messenger.needShowCollapsed())
              carrotquest.messenger.toStateCollapsed();
          });
        }
        carrotquest.messenger.enterCallback = carrotquest.messenger._openedEnterCallback;

        //document.getElementById('carrotquest-messenger-reply-textarea').focus();
      }
      
      // Обрезание
      if (truncate && conversation.parts_count == 1 && conversation.type == 'popup_small') {
        var truncatedElems = '#carrotquest-messenger-head, #carrotquest-messenger-head *, #carrotquest-messenger, #carrotquest-messenger-reply, #carrotquest-messenger-reply *, #carrotquest-messenger-poweredby, #carrotquest-messenger-poweredby *'
        var truncatedElems = document.querySelectorAll(truncatedElems);

        var hovered = false;
        for (var i = 0; i < truncatedElems.length; i++) {
          truncatedElems[i].setAttribute('data-truncate-visibility', truncatedElems[i].style.visibility);
          truncatedElems[i].style.visibility = 'hidden';
        }

        function touchCallback() {
          if (!hovered) {
            //var truncator = document.getElementById('carrotquest-messenger-smalltruncator')
            //if (truncator)
            //  truncator.parentNode.removeChild(truncator);

            document.getElementById('carrotquest-messenger-initialmsg').removeAttribute('data-truncated');
            hovered = true;

            for (var i = 0; i < truncatedElems.length; i++) {
              truncatedElems[i].style.visibility = truncatedElems[i].getAttribute('data-truncate-visibility');
              truncatedElems[i].removeAttribute('data-truncate-visibility');
            }
          };
        };
        
        if (conversation.reply_type == 'text') {
          document.getElementById('carrotquest-messenger').addEventListener('mousemove', touchCallback);
          document.getElementById('carrotquest-messenger').addEventListener('touchstart', touchCallback);
        } else {
          document.getElementById('carrotquest-messenger-body-small-cont-close').addEventListener('click', function(e) {
            carrotquest.messenger.toStateNo();
  
            if (carrotquest.messenger.needShowCollapsed())
              carrotquest.messenger.toStateCollapsed();
  
            carrotquest.fireCallback('messenger_closed');
          });
        }

        // Если высота больше 200, надо чтоб внизу тень была

        var initialMsg = document.getElementById('carrotquest-messenger-initialmsg');
        if (initialMsg.scrollHeight > 200) {
          initialMsg.setAttribute('data-truncated', '1');
          //var e = document.createElement('div');
          //e.id = 'carrotquest-messenger-smalltruncator';
          //e.innerHTML = '<div id="carrotquest-messenger-smalltruncator-inner"></div>';
          //document.getElementsByClassName('carrotquest-messenger-conversationpart-ul')[0].appendChild(e);
        }
      }
      if (!(truncate && conversation.parts_count == 1 && conversation.type == 'popup_small')) {
        carrotquest.checkStatusOperators(carrotquest.messenger.offlineMessage);
      }
    };

    carrotquest.messenger._newConversation = function() {
      carrotquest._removeLocalStorage('carrotquest_last_conversation');

      var avatar = '<img src="' + carrotquest.data.user.last_admin.avatar + '">';

      var avatar = '<img src="' + carrotquest.data.user.last_admin.avatar + '">';
      // Generate HTML
      var conversationHTML = '';
      if (carrotquest.statusOperators.status != 'offline' || !carrotquest.data.app.settings.messenger_show_offline_message) {
        conversationHTML += '<li data-direction="a2u-service" data-welcome-message="1">'
        conversationHTML += avatar;
        conversationHTML += '<span>' + carrotquest.messenger.bodyReplaceTags(carrotquest.data.app.settings.messenger_welcome_message.replace(/(?:\r\n|\r|\n)/g, '<br>')) + '</span>';
        conversationHTML += '</li>';
        conversationHTML += '<div class="carrotquest-clearfix"></div>';
      }

      var replyForm = '', bottomSpace = '';
      replyForm += '<div id="carrotquest-messenger-reply">'
      replyForm += '<div id="carrotquest-messenger-reply-cont">';
      replyForm += '<div id="carrotquest-messenger-reply-buttons">';
      replyForm += '<div id="carrotquest-messenger-reply-button"></div>'
      replyForm += '<label id="carrotquest-messenger-reply-file"><input id="carrotquest-messenger-reply-fileinput" type="file" /></label>';
      replyForm += '</div>'
      replyForm += '<div id="carrotquest-messenger-reple-leftcont"><textarea id="carrotquest-messenger-reply-textarea" placeholder="' + carrotquest.i18n['enter_message'] + '"></textarea></div>';

      if (carrotquest.data.app.settings.messenger_show_powered_by && !carrotquest.data.app.settings.messenger_show_collection_data) {
        replyForm += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['powered_by'] + '</div>';
      }
      else if (!carrotquest.data.app.settings.messenger_show_powered_by && carrotquest.data.app.settings.messenger_show_collection_data) {
        replyForm += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['privacy_policy'] + '</div>';
      }
      else if (carrotquest.data.app.settings.messenger_show_powered_by && carrotquest.data.app.settings.messenger_show_collection_data) {
        replyForm += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['privacy_policy_and_powered_by'] + '</div>';
      }
      replyForm += '<div class="carrotquest-clearfix"></div>';
      replyForm += carrotquest.messenger.emoji.generateContent();
      replyForm += '</div></div>';

      if (carrotquest.data.app.settings.messenger_show_powered_by || carrotquest.data.app.settings.messenger_show_collection_data)
        bottomSpace = 'reply_carrot';
      else
        bottomSpace = 'reply';

      conversationHTML = '<ul class="carrotquest-messenger-conversationpart-ul" data-bottom-space="' + bottomSpace + '">' + conversationHTML + '</ul>';

      document.getElementById('carrotquest-messenger-body').innerHTML = conversationHTML + replyForm;

      // Ответить внизу
      var replyButton = document.getElementById('carrotquest-messenger-reply-button');
      replyButton.addEventListener('click', carrotquest.messenger._openedEnterCallback);
      carrotquest.messenger.enterCallback = carrotquest.messenger._openedEnterCallback;
      var replyFile = document.getElementById('carrotquest-messenger-reply-fileinput');
      replyFile.addEventListener('change', carrotquest.messenger._fileupload, true);

      if (!carrotquest._isTouchDevice())
        document.getElementById('carrotquest-messenger-reply-textarea').focus();

      carrotquest.checkStatusOperators(carrotquest.messenger.offlineMessage); // new
    };

    carrotquest.messenger._conversationsLoaded = function(conversations) {
      var conversationsHTML = '';
      for (var i = 0; i < conversations.length; i++) {
        conversationsHTML += '<li>' + carrotquest.messenger._conversationToHTML(conversations[i]) + '</li>';
      }
      conversationsHTML = conversationsHTML || '<div id="carrotquest-messenger-conversations-empty"><div id="carrotquest-messenger-conversations-zero"></div>' + carrotquest.i18n['dialogs_zerodata'] + '</div>';

      if (carrotquest.data.app.settings.messenger_show_powered_by || carrotquest.data.app.settings.messenger_show_collection_data) {
        conversationsHTML = '<ul class="carrotquest-messenger-conversation-ul carrotquest-messenger-conversation-ul-poweredby">' + conversationsHTML + '</ul>';
      }
      else {
        conversationsHTML = '<ul class="carrotquest-messenger-conversation-ul">' + conversationsHTML + '</ul>';
      }

      // Кнопка написать нам
      conversationsHTML += '<div id="carrotquest-messenger-writeus-cont">';
      conversationsHTML += '<div id="carrotquest-messenger-writeus"><div id="carrotquest-messenger-writeus-icon"></div>' + carrotquest.i18n['new_message'] + '</div>';
      if (carrotquest.data.app.settings.messenger_show_powered_by && !carrotquest.data.app.settings.messenger_show_collection_data) {
        conversationsHTML += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['powered_by'] + '</div>';
      }
      else if (!carrotquest.data.app.settings.messenger_show_powered_by && carrotquest.data.app.settings.messenger_show_collection_data) {
        conversationsHTML += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['privacy_policy'] + '</div>';
      }
      else if (carrotquest.data.app.settings.messenger_show_powered_by && carrotquest.data.app.settings.messenger_show_collection_data) {
        conversationsHTML += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['privacy_policy_and_powered_by'] + '</div>';
      }
      conversationsHTML += '</div>';

      // Insert to DOM
      document.getElementById('carrotquest-messenger-body').innerHTML = conversationsHTML;
      document.getElementById('carrotquest-messenger-body').className = 'carrotquest-conversations-loaded-animation';

      // Insert attributes
      var liList = document.querySelectorAll('.carrotquest-messenger-conversation-ul li');
      for (var i = 0; i < liList.length; i++) {
        liList[i].setAttribute('data-conversation', JSON.stringify(conversations[i]));
      }

      // Conversation clicks
      var conversationNodes = document.querySelectorAll('.carrotquest-messenger-conversation-ul > li');
      for (var i = 0; i < conversationNodes.length; i++) {
        conversationNodes[i].addEventListener('click', carrotquest.messenger._conversationClick);
      };

      // написать нам
      var writeUsButton = document.getElementById('carrotquest-messenger-writeus');
      if (writeUsButton) {
        writeUsButton.addEventListener('click', function(e) {
          carrotquest.messenger.toStateNo();
          carrotquest.messenger.toStateOpened({id: 0});
        });
      }
    };

    carrotquest.messenger._conversationClick = function(event) {
      carrotquest.messenger.toStateNo();
      var conversation = JSON.parse(event.currentTarget.getAttribute('data-conversation'));
      carrotquest.messenger.toStateOpened(conversation, false);
    }

    carrotquest.messenger._conversationToHTML = function(conversation) {
      var conversationsHTML = '';

      var name = conversation.last_admin ? conversation.last_admin.name : carrotquest.data.app.settings.messenger_name;
      conversationsHTML += '<img src="' + conversation.last_admin.avatar + '"> ';

      var time = carrotquest.messenger.formatDateConversations(conversation.part_last.created)
      conversationsHTML += '<div class="carrotquest-messenger-conversationslist-cont-right"><div id="carrotquest-messenger-conversationtime">' + time + '</div>';

      // Replace html tags
      var strippedBody = carrotquest.messenger.removeTags(conversation.part_last.body);
      strippedBody = strippedBody || '&hellip;';
      strippedBody = carrotquest.messenger.emoji.replaceEmojis(strippedBody, false);

      conversationsHTML += '<div id="carrotquest-messenger-conversationcounter" data-unread="' + (conversation.unread_parts_count || 0) + '">' + conversation.parts_count + '</div>';
      conversationsHTML += '</div><div class="carrotquest-messenger-conversationslist-cont-middle">'
      conversationsHTML += '<div>' + name + '</div>';
      conversationsHTML += '<span>' + strippedBody + '</span>';
      conversationsHTML += '</div>';

      return conversationsHTML;
    }

    carrotquest.messenger._partsToHTML = function(conversation, parts) {
      // Конвертировать части из JSON в HTML
      var conversationHTML = '';
      parts = parts.reverse();
      for (var i = 0; i < parts.length; i++) {
        if (conversation.type != 'popup_chat' && parts[i].first && parts[i].type == 'reply_admin') {
          // First message
          var noPadding = parts[i].body.replace(/<(?:.|\n)*?>/gm, ' ');
          noPadding = noPadding.replace(/^\s+|\s+$/g, '');
          noPadding = noPadding ? '0' : '1';

          //conversationHTML += '<div id="carrotquest-messenger-initialmsg-admin-avatar"><img src="' + parts[i].from.avatar + '"></div>';
          conversationHTML += '<div id="carrotquest-messenger-initialmsg" data-nopadding="' + noPadding + '"><span>' + parts[i].body + '</span></div>';

          // Quick reply
          if (!conversation.replied && (conversation.reply_type == 'email' || conversation.reply_type == 'phone')) {
            // Не отвечено и тип ответа - емейл или телефон
            // Малый попап в любом случае, внизу дорисуем поле ввода
            var field = '';
            if (conversation.reply_type == 'email') {
              field = '<input type="email" name="email" id="carrotquest-messenger-reply-input" placeholder="' + carrotquest.i18n['enter_email'] + '">';
            }
            else if (conversation.reply_type == 'phone') {
              field = '<input type="text" name="phone" id="carrotquest-messenger-reply-input" placeholder="' + carrotquest.i18n['enter_phone'] + '">';
            }

            conversationHTML += '<div id="carrotquest-messenger-innerreply">';
            conversationHTML += '<div id="carrotquest-messenger-innerreply-submit"></div>'
            conversationHTML += '<div id="carrotquest-messenger-innerreply-leftcont">' + field + '</div>';
            conversationHTML += '</div>';
          } else if (!conversation.replied && (conversation.reply_type == 'push' || conversation.reply_type == 'button')) {
            var buttonText = JSON.parse(conversation.body_json).replyButtonText;
            
            var href = '';
            var traget = '';
            if (conversation.reply_type == 'button') {
               href = 'href = "' + JSON.parse(conversation.body_json).replyButtonAction + '"';
               traget = ' target="_blank"';
            }
            
            conversationHTML += '<div id="carrotquest-messenger-innerreply" class="carrotquest-messenger-innerreply-button">';
            conversationHTML += '<a id="carrotquest-messenger-innerreply-button-submit" ' + href + traget +'>' + buttonText + '</a>'
            conversationHTML += '</div>';
          }
          else {
            conversationHTML += '<div id="carrotquest-messenger-inner-noreply"></div>';
          }
        }
        else {
          //Формируем вложение если есть
          var attachmentsHTML = '';
          if (parts[i].attachments) {
            attachmentsHTML = carrotquest.messenger._generateAttacmentToHTML(parts[i]);
            attachmentsHTML = '<div class="carrotquest-messenger-attachments">' + attachmentsHTML + '</div>';
          }
          
          // НЕ первое сообщение
          if (parts[i].type == 'reply_admin') {
            conversationHTML += '<li data-direction="a2u">';
            conversationHTML += '<img src="' + parts[i].from.avatar + '">';

          }
          else if (parts[i].type == 'reply_user') {
            conversationHTML += '<li data-direction="u2a">';
          }
          if(!(parts[i].attachments && parts[i].attachments.length == 1)) {
            conversationHTML += '<span>' + carrotquest.messenger.emoji.replaceEmojis(parts[i].body, true) + attachmentsHTML + '</span>';
          } else {
            conversationHTML += '<span class="' + (new RegExp("(\.jpg|\.png|\.gif)$").test(parts[i].attachments[0].url) ? 'carrotquest-messenger-part-img' : '') + '">' + attachmentsHTML + '</span>'
          }
          conversationHTML += '<div class="carrotquest-clearfix"></div>';
          conversationHTML += '<div class="carrotquest-messenger-time">' + carrotquest.messenger.formatDate(parts[i].created) + '</div>';
          conversationHTML += '</li>';
          conversationHTML += '<div class="carrotquest-clearfix"></div>';
        }
      }; // for

      return conversationHTML;
    };
    
    carrotquest.messenger._generatePartToHTML =  function (conversationPart, animation) {
      conversationPart.attachments = conversationPart.attachments || [];
      var now = new Date().getTime() / 1000;

      var avatar = '', direction = '';
      if (conversationPart.type == 'reply_admin') {
        avatar = '<img src="' + conversationPart.from.avatar + '">';
        direction = 'a2u';
      }
      else {
        direction = 'u2a';
      }

      var attachmentsHTML = carrotquest.messenger._generateAttacmentToHTML(conversationPart);

      if (attachmentsHTML)
        attachmentsHTML = '<div class="carrotquest-messenger-attachments">' + attachmentsHTML + '</div>';

      var html = avatar + '<span>' + carrotquest.messenger.emoji.replaceEmojis(conversationPart.body, true) + attachmentsHTML + '</span>';
      
      if(conversationPart.attachments && conversationPart.attachments.length == 1) {
        html= '<span class="' + (new RegExp("(\.jpg|\.png|\.gif)$").test(conversationPart.attachments[0].url) ? 'carrotquest-messenger-part-img' : '') + '">' + attachmentsHTML + '</span>'
      }
      
      html += '<div class="carrotquest-clearfix"></div>';
      if (animation)
        html += '<div class="carrotquest-messenger-time"><dihtmlv class="carrotquest-messenger-sending-icon"></dihtmlv></div>';
      else
        html += '<div class="carrotquest-messenger-time">' + carrotquest.messenger.formatDate(now) + '</div>';
      
      return html;
    }
  
    carrotquest.messenger._addPartToHTML = function(conversationPart, animation) {
      var direction = conversationPart.type == 'reply_admin' ? 'a2u' : 'u2a';
      var html = carrotquest.messenger._generatePartToHTML(conversationPart, animation);
      var li = document.createElement('li');
      li.setAttribute('data-direction', direction);
      li.setAttribute('data-random-id', conversationPart.random_id);
      if (animation)
        li.className = 'carrotquest-messenger-covnersationpart-animation';
      li.innerHTML = html;

      var clearfix = document.createElement('div');
      clearfix.className = 'carrotquest-clearfix';

      var list = document.getElementsByClassName('carrotquest-messenger-conversationpart-ul')[0];
      list.insertBefore(clearfix, list.lastChild);
      list.insertBefore(li, list.lastChild);
      list.scrollTop = list.scrollHeight;
    }
  
    carrotquest.messenger._generateAttacmentToHTML = function (conversationPart) {
      if (!conversationPart.attachments) return '';
      
      var attachmentsHTML = '';
      for (var j = 0; j < conversationPart.attachments.length; j++) {
        var name = conversationPart.attachments[j].filename || conversationPart.attachments[j].name;
        var url = conversationPart.attachments[j].url ||  '#'
        if (!(new RegExp("(\.jpg|\.png|\.gif)$").test(url))) {
          //attachmentsHTML += '<span class="carrotquest-messenger-attachment-icon"></span>';
          attachmentsHTML += '<a ' + (url != '#' ? 'target="_blank"' : '') + ' href="' + url + '" class="carrotquest-messenger-attachment">';
          attachmentsHTML +=  name
          attachmentsHTML += '</a>';
        } else {
          attachmentsHTML += '<a target="_blank" href="' + url + '">';
          attachmentsHTML += '<img src="' + conversationPart.attachments[j].url + '" class="carrotquest-messenger-attachment-img"/>';
          attachmentsHTML += '</a>';

        }
      }
      return attachmentsHTML;
    }
    
    carrotquest.messenger._requestEmail = function() {
      // Insert placeholder
      if (carrotquest.statusOperators.status != 'offline' || !carrotquest.data.app.settings.messenger_show_offline_message) {
        var id = 'carrotquest-autoreply-container-' + Math.random();
        var list = document.getElementsByClassName('carrotquest-messenger-conversationpart-ul')[0];
        var autoReplyElem = document.createElement('div');
        autoReplyElem.id = id;
        autoReplyElem.className = 'carrotquest-autoreply-container'
        list.insertBefore(autoReplyElem, list.lastChild);

        carrotquest.ajaxApiRequest('GET', '/utils/getautoreply', {}, function (response) {
          if (!response.data.need) return;

          carrotquest._collect('incr', 'js.autoreply.requested');

          setTimeout(function () {
            var container = document.getElementById(id);
            if (!container) return;

            // Если есть сообщения или "админ печатает"
            var elems = document.querySelectorAll('.carrotquest-messenger-conversationpart-ul li[data-direction="a2u"]');
            if (elems.length > 0) return;

            carrotquest._collect('incr', 'js.autoreply.showed');

            var avatar = '<img src="' + carrotquest.data.user.last_admin.avatar + '">';

            var emailRequest = document.createElement('li');
            emailRequest.setAttribute('data-direction', 'a2u-service');
            emailRequest.className = 'carrotquest-messenger-covnersationpart-animation';

            var html = avatar + '<span>' + response.data.text + '<br>';
            if (response.data.reply_type == 'email')
              html += '<input type="email" name="email" id="carrotquest-messenger-autoreply-request" class="carrotquest-messenger-autoreply-request" placeholder="' + carrotquest.i18n['enter_email'] + '">';
            else if (response.data.reply_type == 'phone')
              html += '<input type="phone" name="phone" id="carrotquest-messenger-autoreply-request" class="carrotquest-messenger-autoreply-request" placeholder="' + carrotquest.i18n['enter_phone'] + '">';
            
            html += '<div id="carrotquest-messenger-autoreply-request-thanks">' + carrotquest.i18n['thanks'] + '</div>';

            if (response.data.reply_type == 'email' || response.data.reply_type == 'phone')
              html += '<input type="button" id="carrotquest-messenger-autoreply-request-ok" value=""></span>';

            emailRequest.innerHTML = html;

            var clearfix = document.createElement('div');
            clearfix.className = 'carrotquest-clearfix';

            var list = document.getElementsByClassName('carrotquest-messenger-conversationpart-ul')[0];
            list.insertBefore(emailRequest, list.lastChild);
            list.insertBefore(clearfix, list.lastChild);
            list.scrollTop = list.scrollHeight;

            if (response.data.reply_type == 'email' || response.data.reply_type == 'phone')
              document.getElementById('carrotquest-messenger-autoreply-request-ok').addEventListener('click', carrotquest.messenger._openedEnterCallback);
            carrotquest.ajaxApiRequest('POST', '/utils/noteautoreply', { conversation_id:  carrotquest.messenger.currentConversation.id }, function (response) { })

          }, response.data.timeout * 1000);
        });
      }
    };

    carrotquest.messenger.bodyReplaceTags = function(body) {
      var tagsToReplace = {'&': '&amp;', '<': '&lt;', '>': '&gt;'};

      function replaceTag(tag) {
        return tagsToReplace[tag] || tag;
      }

      body = body.replace(/[&<>]/g, replaceTag);

      // Keep <br>
      body = body.replace(/&lt;br&gt;/g, '<br>');

      return body;
    };

    carrotquest.messenger.removeTags = function(body) {
      body = body.replace(/<(?:.|\n)*?>/gm, ' ');
      body = body.replace(/^\s+|\s+$/g, '');
      return body;
    };

    carrotquest.messenger._startConversationCallback =  function () {
      
    }
    
    carrotquest.messenger._openedSubscriptionWebPush = function () {
      carrotquest.messenger.toStateNo();

      if (carrotquest.messenger.needShowCollapsed())
        carrotquest.messenger.toStateCollapsed();
      //Отправляем trackinteraction для фиксации клика по кнопке
      var params = {
        conversation_id: this.getAttribute('data-conversation-id'),
        type: 'clicked'
      };
      carrotquest.ajaxApiRequest('POST', '/messages/trackinteraction', params, function(response) { });
      window.open(carrotquest.data.push_domain + "/?carrotquest_auth_token=" + carrotquest._getCookie('carrotquest_auth_token') + '&device_guid=' + carrotquest._getCookie('carrotquest_device_guid') , "newwindow", "width=800,height=600");
    }
    carrotquest.messenger._openedEnterCallback = function(event) {
      if (event && event.target && event.target.id == 'carrotquest-messenger-autoreply-request') {
        // Нажал ентер в поле запроса емейла после первого вопроса
        if (!event.target.value) return;

        event.target.readOnly = true;
        document.getElementById('carrotquest-messenger-autoreply-request-ok').style.display = 'none';  // Скрыть конпку "отправить"

        if (event.target.name == 'email') {
          carrotquest.identify({'$email': event.target.value});
          carrotquest._collect('incr', 'js.autoreply.left_email');
        }
        else if (event.target.name == 'phone') {
          carrotquest.identify({'$phone': event.target.value});
          carrotquest._collect('incr', 'js.autoreply.left_phone');
        }
        document.getElementById('carrotquest-messenger-autoreply-request').style.display = 'none';
        document.getElementById('carrotquest-messenger-autoreply-request-thanks').style.display = 'block';
        return;
      }

      if (event && event.target && event.target.id == 'carrotquest-messenger-autoreply-request-ok') {
        // Нажал кнопку отправить в поле запроса емейла после первого вопроса
        var inputElem = document.getElementById('carrotquest-messenger-autoreply-request');
        if (!inputElem.value) return;

        inputElem.readOnly = true;
        document.getElementById('carrotquest-messenger-autoreply-request-ok').style.display = 'none';  // Скрыть конпку "отправить"

        if (inputElem.name == 'email') {
          carrotquest.identify({'$email': inputElem.value});
          carrotquest._collect('incr', 'js.autoreply.left_email');
          carrotquest.data.user.has_email = true;
        }
        else if (inputElem.name == 'phone') {
          carrotquest.identify({'$phone': inputElem.value});
          carrotquest._collect('incr', 'js.autoreply.left_phone');
          carrotquest.data.user.has_phone = true;
        }

        document.getElementById('carrotquest-messenger-autoreply-request').style.display = 'none';
        document.getElementById('carrotquest-messenger-autoreply-request-thanks').style.display = 'block';
        return;
      }

      var elem = document.getElementById('carrotquest-messenger-reply-textarea') || document.getElementById('carrotquest-messenger-reply-input');
      var body = elem.value;
      var randomId = Math.round(Math.random() * 2000000000);
      var file = document.querySelector('#carrotquest-messenger-reply-fileinput') && document.querySelector('#carrotquest-messenger-reply-fileinput').files ? document.querySelector('#carrotquest-messenger-reply-fileinput').files[0] : undefined;
      if (!body && !file) return;

      carrotquest.checkStatusOperators(function () { setTimeout(carrotquest.messenger.offlineMessage, 500) });

      elem.value = '';
      carrotquest.messenger.inputWatchBody = '';
      carrotquest.messenger._resizeTextArea();
      body = body.replace(/(?:\r\n|\r|\n)/g, '<br>');

      if (carrotquest.messenger.currentConversation) {
        var params = {body: body, random_id: randomId, referrer: document.location.href};
        var url = '/conversations/' + carrotquest.messenger.currentConversation.id + '/reply';
        if (file) {
           var MAX_FILE_SIZE = 2 * 1024 * 1024;
           if (file.size > MAX_FILE_SIZE) {
              carrotquest.messenger.errorConverstation(carrotquest.i18n['errorFileSize']);
              return;
           }
           params = {file: file, random_id: randomId, filename: file.name, referrer: document.location.href};
           url = '/conversations/' + carrotquest.messenger.currentConversation.id + '/replyfile';
        }
        

        carrotquest.ajaxApiRequest('POST', url, params, function(response) {
          var li = document.querySelector('#carrotquest-messenger li[data-random-id="' + randomId + '"]');
          if (li) {
            li.querySelector('div.carrotquest-messenger-time').innerHTML = carrotquest.messenger.formatDate(new Date().getTime()/1000);
          }
        }, function (repsponse) {
          switch (repsponse.meta.error) {
            case 'FileTypeError': carrotquest.messenger.errorConverstation(carrotquest.i18n['errorFileType']); break;
            case 'FileSizeError 413': carrotquest.messenger.errorConverstation(carrotquest.i18n['errorFileSize']); break;
            case 'TooManyRequests': carrotquest.messenger.errorConverstation(carrotquest.i18n['errorManyRequests']); break;
            case 'UserBannedError': carrotquest.messenger.errorConverstation(carrotquest.i18n['errorUserBan']); break;
            default: carrotquest.messenger.errorConverstation(carrotquest.i18n['error']); break;
          }
        });

        carrotquest.fireCallback('user_replied', {
          id: carrotquest.messenger.currentConversation.id,
          body: body,
          message: carrotquest.messenger.currentConversation.message || null
        });
      }
      else {
        var params = {body: body, referrer: document.location.href};
        if (file) {
           var MAX_FILE_SIZE = 2 * 1024 * 1024;
           if (file.size > MAX_FILE_SIZE) {
              carrotquest.messenger.errorConverstation(carrotquest.i18n['errorFileSize']);
              return;
           }
           params = {file: file, random_id: randomId, filename: file.name};
        }
        carrotquest.ajaxApiRequest('POST', '/users/$self_user/startconversation', params, function(response) {
          var id = response.data.id;

          // Emulate
          carrotquest.messenger.currentConversation = {
            id: id,
            part_last: {
              body: body,
              type: 'reply_user',
              created: (new Date().getTime()/1000),
              attachments: [file]

            },
            type: 'popup_chat',
            reply_type: 'text',
            replied: true,
            parts_count: 1
          };

          carrotquest._setLocalStorage('carrotquest_last_conversation', id);

          var li = document.querySelector('#carrotquest-messenger li[data-random-id="' + randomId + '"]');
          if (li) {
            li.querySelector('div.carrotquest-messenger-time').innerHTML = carrotquest.messenger.formatDate(new Date().getTime()/1000);
          }

          carrotquest.fireCallback('conversation_started', {id: id, body: body})
          // Remove welcome message
          var welcomeElement = document.querySelector('#carrotquest-messenger-body li[data-welcome-message="1"]');
          if (welcomeElement) {
            welcomeElement.parentNode.removeChild(welcomeElement);
            carrotquest.checkStatusOperators(carrotquest.messenger._requestEmail);  // Запросить емейл
          }
        },function (repsponse) {
          switch (repsponse.meta.error) {
            case 'FileTypeError': carrotquest.messenger.errorConverstation(carrotquest.i18n['errorFileType']); break;
            case 'FileSizeError 413': carrotquest.messenger.errorConverstation(carrotquest.i18n['errorFileSize']); break;
            case 'TooManyRequests': carrotquest.messenger.errorConverstation(carrotquest.i18n['errorManyRequests']); break;
            case 'UserBannedError': carrotquest.messenger.errorConverstation(carrotquest.i18n['errorUserBan']); break;
            default: carrotquest.messenger.errorConverstation(carrotquest.i18n['error']); break;
          }
        });
      }

      // If email or phone, identify
      if (carrotquest.messenger.currentConversation && !carrotquest.messenger.currentConversation.replied && (carrotquest.messenger.currentConversation.reply_type == 'phone' || carrotquest.messenger.currentConversation.reply_type == 'email')) {
        if (carrotquest.messenger.currentConversation.reply_type == 'email')
          carrotquest.identify({'$email': body});
        else if (carrotquest.messenger.currentConversation.reply_type == 'phone')
          carrotquest.identify({'$phone': body});

        carrotquest.messenger.toStateNo();
        carrotquest.messenger.toStateCollapsed(true);
        carrotquest.fireCallback('messenger_closed');
        return;
      }

      // If big popup text
      if (carrotquest.messenger.currentConversation && carrotquest.messenger.state == 'big' && carrotquest.messenger.currentConversation.reply_type == 'text') {
        carrotquest.messenger.toStateNo();
        //carrotquest.messenger.toStateCollapsed(true);
        carrotquest.messenger.toStateOpened({id: carrotquest.messenger.currentConversation.id}, false);
        return;
      }

      _body = carrotquest._linkify(carrotquest.messenger.bodyReplaceTags(body));
      
      var conversationPart = {body: _body, type: 'reply_user', random_id: randomId}
      if (file) {
        conversationPart.attachments = [file];
      }
      carrotquest.messenger._addPartToHTML(conversationPart, true);
    };

    carrotquest.messenger.formatDate = function(timestamp) {
      // ЧЧ:ММ
      function pad(num, size) { return ('000000000' + num).substr(-size); }
      var time = new Date(timestamp*1000);
      time = pad(time.getHours(), 2) + ':' + pad(time.getMinutes(), 2);

      return time;
    };

    carrotquest.messenger.formatDateConversations = function(timestamp) {
      // ЧЧ:ММ<br>ДД.ММ
      function pad(num, size) { return ('000000000' + num).substr(-size); }
      var time = new Date(timestamp*1000);
      time = pad(time.getHours(),2) + ':' + pad(time.getMinutes(),2) + '<br>' + pad(time.getDate(),2) + '.' + pad(time.getMonth()+1,2);

      return time;
    };

    carrotquest.messenger.prepareFirstConversationPart = function(conversation, parts) {
      // Заменить адреса у картинок и трекать ссылки
      var conversationPart = parts[0];
      if (!conversationPart.first)
        return;

      //conversationPart.body = carrotquest._linkify(conversationPart.body);
      conversationPart.body = conversationPart.body.replace('src="https://carrotquest-a.akamaihd.net', 'src="//carrotquest-a.akamaihd.net');
      conversationPart.body = conversationPart.body.replace('src="https://files.carrotquest.io', 'src="//files.carrotquest.io');

      function replacer(str, p1) {
        var r = str;
        if(!r.startsWith('href="mailto:') && !r.startsWith('href="javascript:')  && !r.startsWith('href="tel:')) {
          r = 'href="' + carrotquest.HTTP_PROTOCOL +
          "out.carrotquest.io/r?conversation=" + conversation.id +
          '&url=' + encodeURIComponent(p1) + '"';
        }
        return r;
      };
      conversationPart.body = conversationPart.body.replace(/href="([^"]*)"/igm, replacer);
    };

    carrotquest.messenger.toStateBig = function(conversation) {
      // Replace html tags
      var noPadding = conversation.part_last.body.replace(/<(?:.|\n)*?>/gm, ' ');
      noPadding = noPadding.replace(/^\s+|\s+$/g, '');
      noPadding = noPadding ? '0' : '1';

      carrotquest.messenger.enterCallback = null;
      carrotquest.messenger.currentConversation = conversation;
      carrotquest.messenger.state = 'big';

      carrotquest.messenger.prepareFirstConversationPart(conversation, [conversation.part_last]);

      carrotquest.fireCallback('conversation_opened', {id: conversation.id, message: conversation.message});

      // Delete from unread conversations
      conversation.unread_parts_count = 0;
      delete carrotquest.messenger.unreadConversations[conversation.id];
      carrotquest._markread(conversation.id)

      // Это вызывается, когда точно готов conversation и parts
      if (conversation.reply_type == 'text')
        carrotquest._setLocalStorage('carrotquest_last_conversation', conversation.id);
      else
        carrotquest._removeLocalStorage('carrotquest_last_conversation');

      var conversationHTML = '';
      //conversationHTML += '<div id="carrotquest-messenger-initialmsg-admin-avatar"><img src="' + conversation.last_admin.avatar + '"></div>';
      conversationHTML += '<div id="carrotquest-messenger-initialmsg" data-nopadding="' + noPadding + '"><span>' + conversation.part_last.body + '</span></div>';

      if (conversation.reply_type == 'email' || conversation.reply_type == 'phone') {
        if (conversation.reply_type == 'email')
          replyTextName = carrotquest.i18n['enter_email']
        else if (conversation.reply_type == 'phone')
          replyTextName = carrotquest.i18n['enter_phone'];

        conversationHTML += '<div id="carrotquest-messenger-innerreply">';
        conversationHTML += '<div id="carrotquest-messenger-innerreply-submit"></div>'
        conversationHTML += '<div id="carrotquest-messenger-innerreply-leftcont"><input type="text" id="carrotquest-messenger-reply-input" placeholder="' + replyTextName + '"></div>';
        conversationHTML += '</div>';
      }
      else if (conversation.reply_type == 'text') {
        conversationHTML += '<div id="carrotquest-messenger-innerreply">'
        conversationHTML += '<div id="carrotquest-messenger-reply-cont">'
        conversationHTML += '<div id="carrotquest-messenger-reply-buttons">';
        conversationHTML += '<div id="carrotquest-messenger-reply-button"></div>'
        conversationHTML += '<label id="carrotquest-messenger-reply-file"><input id="carrotquest-messenger-reply-fileinput" type="file" /></label>';
        conversationHTML += '</div>'
        conversationHTML += '<div id="carrotquest-messenger-reple-leftcont"><textarea id="carrotquest-messenger-reply-textarea" placeholder="' + carrotquest.i18n['enter_message'] + '"></textarea></div>';
        conversationHTML += '<div class="carrotquest-clearfix"></div>';
        conversationHTML += '</div></div>';
      }
      else if (conversation.reply_type == 'push' || conversation.reply_type == 'button') {
            var buttonText = JSON.parse(conversation.body_json).replyButtonText;
            var href = '';
            var traget = '';
            if (conversation.reply_type == 'button') {
               href = 'href = "' + JSON.parse(conversation.body_json).replyButtonAction + '"';
               traget = ' target="_blank"';
            }
            conversationHTML += '<div id="carrotquest-messenger-innerreply" class="carrotquest-messenger-innerreply-button">';
            conversationHTML += '<a id="carrotquest-messenger-innerreply-button-submit" ' + href + traget + '>' + buttonText + '</a>'
            conversationHTML += '</div>';
      }
      else {
        conversationHTML += '<div id="carrotquest-messenger-inner-noreply"></div>';
      }

      if (carrotquest.data.app.settings.messenger_show_powered_by && !carrotquest.data.app.settings.messenger_show_collection_data) {
        conversationHTML += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['powered_by'] + '</div>';
      }
      else if (!carrotquest.data.app.settings.messenger_show_powered_by && carrotquest.data.app.settings.messenger_show_collection_data) {
        conversationHTML += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['privacy_policy'] + '</div>';
      }
      else if (carrotquest.data.app.settings.messenger_show_powered_by && carrotquest.data.app.settings.messenger_show_collection_data) {
        conversationHTML += '<div id="carrotquest-messenger-poweredby">' + carrotquest.i18n['privacy_policy_and_powered_by'] + '</div>';
      }
      

      conversationHTML = '<div id="carrotquest-messenger-body-big-cont"><div id="carrotquest-messenger-body-big-cont-close">' + carrotquest.i18n['close'] + '</div>' + conversationHTML + '</div>';
      conversationHTML = '<ul class="carrotquest-messenger-conversationpart-ul" data-bottom-space="no">' + conversationHTML + '</ul>';

      var popupHTML = '';
      popupHTML += '<div id="carrotquest-messenger-big-overlay"></div>';
      popupHTML += '<div id="carrotquest-messenger" style="visibility: hidden" data-truncate-visibility class="carrotquest-messenger-big">';
      popupHTML += '<div id="carrotquest-messenger-body">';
      popupHTML += conversationHTML;
      popupHTML += '</div></div>';

      // Insert to DOM
      //document.getElementById('carrotquest-messenger-body').innerHTML = conversationHTML;
      var parentDiv = document.createElement('div');
      parentDiv.className = "carrotquest-css-reset";
      parentDiv.innerHTML = popupHTML;
      document.getElementsByTagName('body')[0].appendChild(parentDiv);

;

      if (screen && screen.width < 480) {
        carrotquest.messenger.scrollPosition = document.body.scrollTop;
        carrotquest._addClass(document.body, 'carrotquest-message-mobil-noscroll');
        carrotquest._addClass(document.documentElement, 'carrotquest-message-mobil-noscroll');
      } else {
         // Запретить скроллить
        carrotquest._addClass(document.body, 'carrotquest-message-noscroll');
        carrotquest._addClass(document.documentElement, 'carrotquest-message-noscroll')
      }
      
      // Close button
      document.getElementById('carrotquest-messenger-body-big-cont-close').addEventListener('click', function(e) {
        carrotquest.messenger.toStateNo();

        if (carrotquest.messenger.needShowCollapsed())
          carrotquest.messenger.toStateCollapsed();

        carrotquest.fireCallback('messenger_closed');
      });

      // Overlay click
      document.getElementsByClassName('carrotquest-messenger-conversationpart-ul')[0].addEventListener('click', function(event) {
        if (event.target.className != 'carrotquest-messenger-conversationpart-ul') return;

        carrotquest.messenger.toStateNo();

        if (carrotquest.messenger.needShowCollapsed())
          carrotquest.messenger.toStateCollapsed();

        carrotquest.fireCallback('messenger_closed');
      }, true);

      // Ответить внизу
      var replyButton = document.getElementById('carrotquest-messenger-reply-button');
      if (replyButton) {
        replyButton.addEventListener('click', carrotquest.messenger._openedEnterCallback);
        carrotquest.messenger.enterCallback = carrotquest.messenger._openedEnterCallback;
      };
      
      var replyFile = document.getElementById('carrotquest-messenger-reply-fileinput');
      if (replyFile) {
        replyFile.addEventListener('change', carrotquest.messenger._fileupload, true);
      };
      
      // Ответить в быстром ответе
      var replyButtonInner = document.getElementById('carrotquest-messenger-innerreply-submit');
      if (replyButtonInner) {
        replyButtonInner.addEventListener('click', carrotquest.messenger._openedEnterCallback);
        carrotquest.messenger.enterCallback = carrotquest.messenger._openedEnterCallback;
      }
      
      var replyButtonInner = document.getElementById('carrotquest-messenger-innerreply-button-submit');
      if (replyButtonInner) {
        replyButtonInner.setAttribute('data-conversation-id', conversation.id)
        if (conversation.reply_type == 'push') {
          replyButtonInner.addEventListener('click', carrotquest.messenger._openedSubscriptionWebPush);
        } else {
          replyButtonInner.addEventListener('click', function(e) {
            carrotquest.messenger.toStateNo();
            var params = {
              conversation_id: this.getAttribute('data-conversation-id'),
              type: 'clicked'
            };
            carrotquest.ajaxApiRequest('POST', '/messages/trackinteraction', params, function(response) { });
            if (carrotquest.messenger.needShowCollapsed())
              carrotquest.messenger.toStateCollapsed();
          });
        }
        carrotquest.messenger.enterCallback = carrotquest.messenger._openedEnterCallback;
      }
    };

    carrotquest.messenger.collapsedOnConversation = function(conversation, animate) {
      // Вызывается когда в свернутом состоянии нужно заменить надпись по умолчанию ипоказать диалог (новый или новая часть)
      if (carrotquest.messenger.state != 'collapsed')
        return;

      body = conversation.part_last.body.replace(/<(?:.|\n)*?>/gm, ' ');  // Replace html tags
      body = body.replace(/^\s+|\s+$/g, '');  // Убрать пробелы из начала и из конца
      body = body || '&hellip;';  // Если осталась пустота, то троеточие показать

      // Покажем бабл с этим сообщением + анимашкой
      document.getElementById('carrotquest-collapsed-text-text-cont').innerHTML = carrotquest.messenger.emoji.replaceEmojis(body);

      // Счетчик-пипка
      var counter = document.getElementById('carrotquest-messenger-collapsedcounter');
      counter.innerHTML = Object.keys(carrotquest.messenger.unreadConversations).length;
      counter.style.display = 'inline-block';
      counter.style.visibility = 'visible';

      document.getElementById('carrotquest-messenger-collapsed').setAttribute('data-conversation-id', conversation.id);

      // Аватарку поменять
      document.querySelector('#carrotquest-messenger-collapsed-img-cont img').src = "" + conversation.last_admin.avatar;

      // Анимашку проиграть
      if (animate) {
        var elm = document.getElementById('carrotquest-collapsed-text');
        elm.className = 'carrotquest-collapsedtext-anim';
        var newone = elm.cloneNode(true);
        elm.parentNode.replaceChild(newone, elm);

        counter.className = 'carrotquest-collapsedcounter-zoomin';
        newone = counter.cloneNode(true);
        counter.parentNode.replaceChild(newone, counter);
      }
    };

    carrotquest.messenger.needShowCollapsed = function() {
      return carrotquest.data.app.settings.messenger_mode == 'visible' ||
        (carrotquest.data.app.settings.messenger_mode == 'has_dialogs' &&
          ((carrotquest.messenger.conversations.length > 0) || carrotquest.data.user.has_conversations)
        );
    };

    carrotquest.messenger._updateCounter = function(animate) {
      var counter = document.getElementById('carrotquest-messenger-menucounter') || document.getElementById('carrotquest-messenger-collapsedcounter');
      if (counter) {
        var num = Object.keys(carrotquest.messenger.unreadConversations).length;
        var visibility = (num > 0) ? 'visible' : 'hidden';
        counter.innerHTML = num;

        if (animate) {
          var newOne = counter.cloneNode(true);
          newOne.className = 'carrotquest-collapsedcounter-zoomin';
          counter.parentNode.replaceChild(newOne, counter);
          counter = newOne;
        }

        if (counter.getAttribute('data-truncate-visibility')) {
          counter.setAttribute('data-truncate-visibility', visibility);
        }
        else {
          counter.style.visibility = visibility;
        }
      };
    };

    carrotquest.messenger._bell = function (conversation_id) {
      /**
      * Функция проигровает звук и меняет тайтл на 'Новое сообщение'
      *
      * @param value id диалога у которого пришло сообщение
      */
      if (carrotquest.statusTracking.lastPresence == 'idle' || (carrotquest.messenger.state != 'opened' || carrotquest.messenger.currentConversation.id != conversation_id)) {
        var aud = new Audio(carrotquest.BELL_SOUND);
        aud.play();
        carrotquest.page_titel = document.title;
        document.title = carrotquest.i18n['page_title_new_message'];
      }

    }

    carrotquest.messenger.onRealtimeServicesMessage = function(channel, message) {
      if (channel.indexOf('conversation.') == 0) {
        var conversation = message;

        if (conversation.message == null) return; // Ignore user-initiated

        carrotquest.messenger._preloadImages(conversation, function() {
          carrotquest.messenger._bell(conversation.id);
          carrotquest.messenger.onNewConversation(conversation, true);
        });
      }
      else if (channel.indexOf('conversation_reply.') == 0) {
        var conversationPart = message;
        if (typeof(conversationPart.conversation) == "object") {
          conversationPart.conversation = conversationPart.conversation.id;
        };

        //if (conversationPart.type == 'reply_user') return; // Игнорим собственные сообщения

        // Запишем админа этого сообщения как последнего контактирующего
        if (conversationPart.type == 'reply_admin') {
          carrotquest.data.user.last_admin = conversationPart.from;
          carrotquest.statusOperators = { 'status': 'online', date: Math.round((new Date()).getTime() / 1000) };//new
          var offlineElement = document.querySelector('#carrotquest-messenger-body li[data-offline-message="1"]');
          if (offlineElement) {
            offlineElement.parentNode.removeChild(offlineElement);
          }
        }

        carrotquest.messenger._bell(conversationPart.conversation);
        carrotquest.messenger.onNewConversationPart(conversationPart);
      }
      else if (channel.indexOf('conversation_typing.') == 0) {
        carrotquest.messenger.onWriteStatusEvent(message);
      }
      else if (channel.indexOf('conversation_read.') == 0) {
        var conversationId = message.id;
        delete carrotquest.messenger.unreadConversations[conversationId];
        carrotquest.messenger._updateCounter();
      }
      else if (channel.indexOf('run_script.') == 0) {
        setTimeout(function() {
          eval(message.code);
        }, 0);
      }
      else if (channel.indexOf('user_ban.') == 0) {
        if(message.value) {
          carrotquest.removeChat();
        }
        
      }
      
      
    };

    // Вызывается с риалтайм сервисов ИЛИ !!!! в DOMReady когда есть непрочитанные диалоги !!!!
    // Поэтому тут важно, что если частей больше чем 1, показать бабл а не диалог
    carrotquest.messenger.onNewConversation = function(conversation, animate) {
      if (carrotquest.messenger.state == 'opened') {
        // Добавим +1 в счетчик непрочитанных
        carrotquest.messenger.unreadConversations[conversation.id] = 1;

        // Перерисуем
        carrotquest.messenger._updateCounter(true);

        // Добавим в список диалогов, если сейчас показывается список
        var conversations = document.getElementsByClassName('carrotquest-messenger-conversation-ul');
        if (conversations.length > 0) {
          conversations = conversations[0];

          var li = document.createElement('li');
          li.innerHTML = carrotquest.messenger._conversationToHTML(conversation);
          li.setAttribute('data-conversation', JSON.stringify(conversation));

          var emptyElem = document.getElementById('carrotquest-messenger-conversations-empty');
          if (emptyElem) {
            conversations.removeChild(emptyElem);
            conversations.appendChild(li);
          }
          else {
            conversations.insertBefore(li, conversations.firstChild);
          }

          // Conversation clicks
          li.addEventListener('click', carrotquest.messenger._conversationClick);
        };

        return;
      }
      else if (carrotquest.messenger.state == 'big') {
        // Добавим +1 в счетчик непрочитанных и все
        carrotquest.messenger.unreadConversations[conversation.id] = 1;
        return;
      }

      // Теперь остались состояния no и collapsed

      if (conversation.type == 'popup_chat' || conversation.parts_count > 1) {
        carrotquest.messenger.unreadConversations[conversation.id] = 1;

        if (carrotquest.messenger.state == 'no') {
          carrotquest.messenger.toStateCollapsed();
        }

        // Если это чат, покажем бабл
        carrotquest.messenger.collapsedOnConversation(conversation, animate);
      }
      else if (conversation.type == 'popup_small') {
        // Маленький попап и 1 часть
        if (carrotquest.messenger.state == 'collapsed') {
          carrotquest.messenger.toStateNo();
        }

        carrotquest.messenger.toStateOpened(conversation, true);
        carrotquest.fireCallback('messenger_opened');
      }
      else if (conversation.type == 'popup_big') {
        // Большой попап и 1 часть
        if (carrotquest.messenger.state == 'collapsed') {
          carrotquest.messenger.toStateNo();
        }

        carrotquest.messenger.toStateBig(conversation);
        carrotquest.fireCallback('messenger_opened');
      }
    };

    carrotquest.messenger._preloadImages = function(conversation, callback) {
      var imgRe = /https\:\/\/(carrotquest-a\.akamaihd\.net|files\.carrotquest\.io)\/messenger\/\d+-[a-z0-9-]{36}\.(jpg|jpeg|bmp|png)/gim;
      var imageURLs = conversation.part_last.body.match(imgRe);
      var loadedImages = 0;
      function onImageLoaded() {
        loadedImages++;

        if (loadedImages == imageURLs.length)
          callback();
      }

      if (!imageURLs) {
        // Если нет картинок, то сразу рисуем
        callback();
      }
      else {
        for (var i = 0; i < imageURLs.length; i++) {
          var url = imageURLs[i];
          url = url.substring(6); // Remove "https:"

          var img = new Image();
          img.onload = onImageLoaded;
          img.onerror = onImageLoaded;
          img.src = url;
        }
      };
    };

    // Вызывается с риалтайм сервисов
    carrotquest.messenger.onNewConversationPart = function(conversationPart) {
      if (carrotquest.messenger.state == 'opened') {
        if (!carrotquest.messenger.currentConversation) {
          if (conversationPart.type == 'reply_user') return; // Игнорим собственные сообщения

          // Это значит, грузятся диалоги, открыт список диалогов, либо грузится конкретный диалог, либо новый диалог
          // TODO поменять когда с прочитано/непрочитано разберемся
          carrotquest.messenger.unreadConversations[conversationPart.conversation] = 1;

          // Перерисуем
          carrotquest.messenger._updateCounter(true);

          var conversations = document.getElementsByClassName('carrotquest-messenger-conversation-ul');
          if (conversations.length > 0) {
            // Загружен и открыт список диалогов
            carrotquest.messenger.toStateNo();
            carrotquest.messenger.toStateOpened(null);
          }
        }
        else if (carrotquest.messenger.currentConversation.id == conversationPart.conversation) {
          // Загружен и открыт конкретный диалог, id совпадает
          var animation = true;

          // Статусы очистим
          if (conversationPart.type == 'reply_admin') {
            var statuses = document.querySelectorAll('#carrotquest-messenger .carrotquest-messenger-conversationpart-ul li[data-typing-admin]');
            for (var i = 0; i < statuses.length; i++) {
              var clearfix = statuses[i].nextElementSibling;
              var parent = statuses[i].parentNode;
              parent.removeChild(statuses[i]);
              parent.removeChild(clearfix);
              animation = false;
            }
          }

          if (conversationPart.type == 'reply_user' && conversationPart.random_id) {
            var li = document.querySelector('#carrotquest-messenger li[data-random-id="' + conversationPart.random_id + '"]');
            if (!li) {
              carrotquest.messenger._addPartToHTML(conversationPart, false);
            } else {
              li.innerHTML = carrotquest.messenger._generatePartToHTML(conversationPart, false);
            }
          }
          else {
            carrotquest.messenger._addPartToHTML(conversationPart, false);
          }

          // В заголовке аватарку поменять на аватарку последнего админа
          if (conversationPart.type == 'reply_admin') {
            var title = '';
            title = '<img src="' + conversationPart.from.avatar + '"><span>';
            title += conversationPart.from.name + '</span>';
            document.getElementById('carrotquest-messenger-title').innerHTML = title;
          }

          // Отметим прочитанным
          carrotquest._markread(conversationPart.conversation);
        }
        else {
          if (conversationPart.type == 'reply_user') return; // Игнорим собственные сообщения

          // Загружен и открыт конкретный диалог, id НЕ совпадает
          carrotquest.messenger.unreadConversations[conversationPart.conversation] = 1;

          // Перерисуем
          carrotquest.messenger._updateCounter(true);
        }

        return;
      }
      else if (carrotquest.messenger.state == 'big') {
        if (conversationPart.type == 'reply_user') return; // Игнорим собственные сообщения

        // Добавим +1 в счетчик непрочитанных и все
        carrotquest.messenger.unreadConversations[conversationPart.conversation] = 1;
        return;
      }

      // Теперь остались состояния no и collapsed

      if (conversationPart.type == 'reply_user') return; // Игнорим собственные сообщения

      carrotquest.messenger.unreadConversations[conversationPart.conversation] = 1;

      if (carrotquest.messenger.state == 'no') {
        carrotquest.messenger.toStateCollapsed();
      }

      // Emulate
      var conversation = {
        'id': conversationPart.conversation,
        'last_admin': conversationPart.from,
        'part_last': {'body': conversationPart.body}
      };
      carrotquest.messenger.collapsedOnConversation(conversation, true);
    };

    // Вызывается после JS коннекта
    carrotquest.messenger.onDOMReadyCallback = function() {
      if (carrotquest.messenger._onDOMReadyCalled) return;
      carrotquest.messenger._onDOMReadyCalled = true;

      carrotquest.messenger.state = 'no';

      // Смотрим ID непрочитанных, переведем это в нужный формат
      for (var i = 0; i < carrotquest.data.user.conversations_unread.length; i++)
        carrotquest.messenger.unreadConversations[carrotquest.data.user.conversations_unread[i]] = 1;

      // Сейчас находимся в состоянии "no"
      if (carrotquest.data.user.conversations_unread.length > 0) {
        // Если есть непрочитанные диалоги, найдем с максимальным ID
        var maxId = 0;
        for (var i = 0; i < carrotquest.data.user.conversations_unread.length; i++) {
          if (maxId < carrotquest.data.user.conversations_unread[i])
            maxId = carrotquest.data.user.conversations_unread[i];
        }

        // И покажем его
        carrotquest.ajaxApiRequest('GET', '/conversations/' + maxId, {}, function(response) {
          if (carrotquest.messenger.state != 'no') {
            // Если состояние не отсутствующее, значит что-то произошло пока ждали диалог
            // Тогда показывать не надо
            return;
          }

          carrotquest.messenger.onNewConversation(response.data, false);
        });
      }
      else {
        // Нет непрочитанных
        if (carrotquest.messenger.needShowCollapsed())
          carrotquest.messenger.toStateCollapsed();
      }
    };


    // функции для работы с Emoji
    /**
     * Функция для формирования объекта с именами emoji в качестве ключей для более быстрого поиска позиции emoji по его названию,
     * а так же для генерации regexp для поиска emoji и текстовых смайлов в строках
     */
    carrotquest.messenger.emoji.generateNamedObjectAndRegexp = function() {
      carrotquest.messenger.emoji.namedObject = {};
      var emojiRegexp = '(';
      // цикл по всем emoji
      // в regexp необходимо сначала добавить имена emoji, а затем текстовое представление, чтобы избежать багов вида :broken_heart: => *замена_текстового_смайла*roken_heart:
      Object.keys(CARROTQUEST_EMOJI_DATA.emojiList).forEach(function(groupName) {
        for (var i = 0; i<CARROTQUEST_EMOJI_DATA.emojiList[groupName].length; i++) {
          carrotquest.messenger.emoji.namedObject[CARROTQUEST_EMOJI_DATA.emojiList[groupName][i].name] = {
            position: CARROTQUEST_EMOJI_DATA.emojiList[groupName][i].position
          };

          emojiRegexp += carrotquest._escapeRegExp(CARROTQUEST_EMOJI_DATA.emojiList[groupName][i].name) + '|';
        }
      });

      // игнорирование emoji внутри тегов и в атрибутах тегов
      emojiRegexp = emojiRegexp.substr(0, emojiRegexp.length - 1) + ')(?![^<]*>|[^<>]*</)';

      /*// текстовые смайлы надо заменять только в том случае, если они окружены пробелами, либо находятся в начале или конце строки
      emojiRegexp = emojiRegexp.substr(0, emojiRegexp.length - 1) + ')|(?:(?:\\s|^)(';

      // цикл по всем текстовым смайлам и добавление смайла в список только в том случае, если для него сопоставлен корректный emoji
      Object.keys(CARROTQUEST_EMOJI_DATA.textToEmoji).forEach(function(textEmoji) {
        if (carrotquest.messenger.emoji.namedObject[CARROTQUEST_EMOJI_DATA.textToEmoji[textEmoji]]) {
          carrotquest.messenger.emoji.namedObject[textEmoji] = {
            position: carrotquest.messenger.emoji.namedObject[CARROTQUEST_EMOJI_DATA.textToEmoji[textEmoji]].position
          };

          emojiRegexp += carrotquest._escapeRegExp(textEmoji) + '|';
        }
      });

      emojiRegexp = emojiRegexp.substr(0, emojiRegexp.length - 1) + ')(?=\\s|$))';*/
      carrotquest.messenger.emoji.regexp = new RegExp(emojiRegexp, 'g');
    };

    /**
     * Создание DOM для работы emoji (кнопка открытия селектора, сам селектор, меню выбора категории emoji и список emoji для первой категории (она выбирается по умолчанию при открытии селектора))
     *
     * @returns {string} DOM для работы emoji
     */
    carrotquest.messenger.emoji.generateContent = function () {
      return '\
        <div id="carrotquest-messenger-emoji-button"></div>\
        <div class="carrotquest-messenger-emoji-selector-hidden" id="carrotquest-messenger-emoji-selector">\
          <div id="carrotquest-messenger-emoji-menu">\
            ' + carrotquest.messenger.emoji.generateTopPanel(Object.keys(CARROTQUEST_EMOJI_DATA.emojiList)[0]) + '\
          </div>\
          <div id="carrotquest-messenger-emoji-list">\
            ' + carrotquest.messenger.emoji.generateList(Object.keys(CARROTQUEST_EMOJI_DATA.emojiList)[0]) + '\
          </div>\
        </div>';
    };

    /**
     * Создание верхнего меню для селектора с emoji
     *
     * @returns {string} DOM верхнего меню для селектора с emoji
     */
    carrotquest.messenger.emoji.generateTopPanel = function(activeCategory) {
      var topPanelTemplate = '';
      Object.keys(CARROTQUEST_EMOJI_DATA.emojiList).forEach(function(groupName) {
        topPanelTemplate += '\
          <div class="carrotquest-messenger-emoji-menu-item" data-active="' + (activeCategory == groupName ? 1 : 0) + '">\
            <div class="carrotquest-messenger-emoji-menu-item-button" data-category="' + groupName + '"></div>\
          </div>';
      });
      return topPanelTemplate;
    };

    /**
     * Создание списка emoji по названию категории category
     *
     * @param {string} category Категория emoji
     * @returns {string} DOM из всех emoji из категории
     */
    carrotquest.messenger.emoji.generateList = function(category) {
      var emojiOfCategory = CARROTQUEST_EMOJI_DATA.emojiList[category];

      var resultStr = '';

      for (var i = 0; i < emojiOfCategory.length; i++) {
        resultStr += '\
          <div class="carrotquest-messenger-emoji-wrapper" title="' + emojiOfCategory[i].name + '">\
            <div class="emoji" style="background-position: -' + emojiOfCategory[i].position.x*22 + 'px -' + emojiOfCategory[i].position.y*22 + 'px;"></div>\
          </div>';
      }

      return resultStr;
    };

    /**
     * Замена всех emoji, которые будут найдены в body
     *
     * @param {string} stringWithEmojis Текст, в котором осуществляется поиск и замена emoji
     * @param {boolean} tryUseBigEmoji Попытаться вставить большой emoji (если в stringWithEmojis нет ничего кроме emoji, и выставлен этот флаг - вставится большой emoji)
     * @returns {string} Текст со вставленными emoji (в виде DOM-элементов), если таковые в нём нашлись
     */
    carrotquest.messenger.emoji.replaceEmojis = function(stringWithEmojis, tryUseBigEmoji) {
      var stringWithoutEmojis, stringWithReplacedEmojis;
      stringWithoutEmojis = stringWithEmojis.replace(carrotquest.messenger.emoji.regexp, '');
      var isBigEmoji = /^\s*$/.test(stringWithoutEmojis) && tryUseBigEmoji;
      var sheetMultiplier = isBigEmoji ? 32 : 20;

      // в соответствии с regexp в entry будет найденное вхождение, в match1 будет код emoji (:gringing:), а в match2 будет текстовый смайл emoji( :) )
      // при этом одномвременно может быть либо match1, либо match2 (смотри спецификацию replace с callback-функцией)
      stringWithReplacedEmojis = stringWithEmojis.replace(carrotquest.messenger.emoji.regexp, function(entry, match1, match2) {
        var matchedGroup = match1 || match2;

        var cls = 'carrotquest-messenger-emoji carrotquest-messenger-emoji-apple', style='';

        if (isBigEmoji) {
          cls += ' carrotquest-messenger-emoji-big';
        }

        var emoji = carrotquest.messenger.emoji.namedObject[matchedGroup];

        if (emoji) {
          style = 'background-position: -' + emoji.position.x*sheetMultiplier + 'px -' + emoji.position.y*sheetMultiplier + 'px !important';
          return entry.replace(matchedGroup, '<div title="' + entry + '" class="' + cls + '" style="' + style + '"></div>');
        } else {
          return entry;
        }
      });

      return stringWithReplacedEmojis;
    };

    /**
     * Вставка выбранного в селекторе emoji в поле ввода
     *
     * @param {string} emojiName Имя emoji для вставки
     */
    carrotquest.messenger.emoji.insertAtCursor = function(emojiName) {
      var textField = document.getElementById('carrotquest-messenger-reply-textarea');
      // совместимость с IE
      if (document.selection) {
        textField.focus();
        document.selection.createRange().text = emojiName;
      }
      else if (textField.selectionStart || textField.selectionStart == '0') {
        var startPos = textField.selectionStart;
        var endPos = textField.selectionEnd;
        textField.value = textField.value.substring(0, startPos) + emojiName + textField.value.substring(endPos, textField.value.length);
        textField.selectionStart = startPos + emojiName.length;
        textField.selectionEnd = startPos + emojiName.length;
      }
      else {
        textField.value += emojiName;
      }
    };

    /**
     * Инициализация Emoji
     */
    carrotquest.messenger.emoji.setupEmojis = function() {
      function getEventTarget(evt) {
        var targ = (evt.target) ? evt.target : evt.srcElement;
        if (targ != null) {
          if (targ.nodeType == 3)
            targ = targ.parentNode;
        }
        return targ;
      }

      function clickedOutsideElement(e, elemId) {
        var theElem = getEventTarget(e);
        while (theElem != null) {
          if (theElem.id == elemId)
            return false;
          theElem = theElem.offsetParent;
        }
        return true;
      }

      carrotquest.messenger.emoji.generateNamedObjectAndRegexp();

      document.addEventListener('click', function(e) {
        var emojiSelectorElem = document.getElementById('carrotquest-messenger-emoji-selector');
        if (!emojiSelectorElem) return;

        // Клик на кнопку с Вызовом списка emoji
        if (e && e.target && e.target.id == 'carrotquest-messenger-emoji-button') {
          // При открытии сбросить поиск и показать все емодзи
          if (carrotquest._hasClass(emojiSelectorElem, 'carrotquest-messenger-emoji-selector-hidden')) {
            document.getElementById('carrotquest-messenger-emoji-list').scrollTop = 0;
          }

          carrotquest._toggleClass(emojiSelectorElem, 'carrotquest-messenger-emoji-selector-hidden');
        }
        else if (e && e.target && (e.target.className == 'carrotquest-messenger-emoji-wrapper' || (e.target.parentNode && e.target.parentNode.className == 'carrotquest-messenger-emoji-wrapper'))) {
          var emojiName = e.target.title || e.target.parentNode.title;
          carrotquest.messenger.emoji.insertAtCursor(emojiName);
          carrotquest._toggleClass(emojiSelectorElem, 'carrotquest-messenger-emoji-selector-hidden');
          document.getElementById('carrotquest-messenger-reply-textarea').focus();
        }
        else if (e && e.target && e.target.className == 'carrotquest-messenger-emoji-menu-item-button') {
          var elems = document.querySelectorAll('.carrotquest-messenger-emoji-menu-item');
          for (var i = 0; i < elems.length; i++) {
            elems[i].setAttribute('data-active', '0');
          }
          e.target.parentNode.setAttribute('data-active', '1');
          document.querySelector('#carrotquest-messenger-emoji-list').innerHTML = carrotquest.messenger.emoji.generateList(e.target.getAttribute('data-category'));
        }
        else {
          if (!carrotquest._hasClass(emojiSelectorElem, 'carrotquest-messenger-emoji-selector-hidden') && clickedOutsideElement(e, 'carrotquest-messenger-emoji-selector')) {
            carrotquest._addClass(emojiSelectorElem, 'carrotquest-messenger-emoji-selector-hidden');
          }
        }
      });

      document.addEventListener('input', function(e) {
        if (!e || !e.target || e.target.id != 'carrotquest-messenger-emoji-selector-search') return;

        var emojis = document.querySelectorAll('#carrotquest-messenger-emoji-selector .carrotquest-messenger-emoji-wrapper');
        for (var i = 0; i < emojis.length; i++) {
          if (emojis[i].title.indexOf(e.target.value.toLowerCase()) != -1)
            emojis[i].setAttribute('style', 'display: inline-block !important');
          else
            emojis[i].setAttribute('style', 'display: none !important');
        }
      });
    };
    carrotquest.messenger.emoji.setupEmojis();

    carrotquest.messenger._resizeTextArea = function() {
      var textAreaElem = document.getElementById('carrotquest-messenger-reply-textarea'),
        replyCont = document.getElementById('carrotquest-messenger-reply'),
        messagesCont = document.querySelector('.carrotquest-messenger-conversationpart-ul');

      if (!textAreaElem || !replyCont || !messagesCont) return;

      textAreaElem.style.height = 'auto';
      textAreaElem.style.height = (textAreaElem.scrollHeight + 2) + 'px';
      messagesCont.setAttribute('style', 'bottom: ' + replyCont.scrollHeight + 'px !important;');
    }

    carrotquest.messenger._setupKeydownHandler = function() {
      document.addEventListener('keydown', function(event) {
        var ESCAPE_KEY = 27, ENTER_KEY = 13;

        // ESC при большом попапе
        if (event.keyCode == ESCAPE_KEY && carrotquest.messenger && carrotquest.messenger.currentConversation && carrotquest.messenger.state == 'big') {
          carrotquest.messenger.toStateNo();

          if (carrotquest.messenger.needShowCollapsed())
            carrotquest.messenger.toStateCollapsed();

          carrotquest.fireCallback('messenger_closed');
        }
        else if (!event.ctrlKey && event.keyCode == ENTER_KEY) {
          if (event.target && event.target.id && event.target.id.indexOf('carrotquest') == 0 && carrotquest.messenger && carrotquest.messenger.enterCallback) {
            carrotquest.messenger.enterCallback(event);
            event.stopPropagation();
            event.preventDefault();
          }
        }
      }, true);

      function resizeTextArea(e) {
        if (!e || !e.target || e.target.id != 'carrotquest-messenger-reply-textarea') return;

        carrotquest.messenger._resizeTextArea();
      };

      document.addEventListener('change', resizeTextArea, false);
      document.addEventListener('input', resizeTextArea, false);
    };
    carrotquest.messenger._setupKeydownHandler();

    carrotquest.messenger._writeWatcherTick = function() {
      if (!carrotquest.messenger.currentConversation) return;

      var textarea = document.getElementById('carrotquest-messenger-reply-textarea');
      if (!textarea) return;

      if (carrotquest.messenger.inputWatchBody != textarea.value) {
        carrotquest.messenger.inputWatchBody = textarea.value;
        carrotquest.ajaxApiRequest('POST', '/conversations/' + carrotquest.messenger.currentConversation.id + '/settyping',  {body: carrotquest.messenger.inputWatchBody});
      }

      // Clear old statuses
      var EXPIRY_TIMEOUT = 15*1000; // 15 sec
      var currentTimestamp = new Date().getTime();
      var statuses = document.querySelectorAll('#carrotquest-messenger .carrotquest-messenger-conversationpart-ul li[data-updated]');
      for (var i = 0; i < statuses.length; i++) {
        var time = parseInt(statuses[i].getAttribute('data-updated'));
        if (currentTimestamp - time > EXPIRY_TIMEOUT) {
          var clearfix = statuses[i].nextElementSibling;
          var parent = statuses[i].parentNode;
          parent.removeChild(statuses[i]);
          parent.removeChild(clearfix);
        }
      }
    };
    setInterval(carrotquest.messenger._writeWatcherTick, 2*1000);

    carrotquest.messenger.onWriteStatusEvent = function(message) {
      if (!carrotquest.messenger.currentConversation || !carrotquest.messenger.currentConversation.id || carrotquest.messenger.currentConversation.id != message.conversation)
        return;

      if (!message.admin)
        return;

      var elem = document.querySelector('#carrotquest-messenger .carrotquest-messenger-conversationpart-ul li[data-typing-admin="' + message.admin.id + '"]');
      if (elem) {
        elem.setAttribute('data-updated', new Date().getTime())
      }
      else {
        var html = '';
        html += '<img src="' + message.admin.avatar + '">';
        html += '<span>';
        html += '<div class="carrotquest-messenger-typing-cont"><div class="carrotquest-messenger-typing"><div class="carrotquest-messenger-typing-bounce1"></div><div class="carrotquest-messenger-typing-bounce2"></div><div class="carrotquest-messenger-typing-bounce3"></div></div></div>';
        html += '</span>';
        html += '<div class="carrotquest-clearfix"></div>';
        html += '<div class="carrotquest-messenger-time">&nbsp;</div>';

        var e = document.createElement('li');
        e.setAttribute('data-direction', 'a2u');
        e.setAttribute('data-typing-admin', message.admin.id);
        e.setAttribute('data-updated', new Date().getTime());
        e.className = 'carrotquest-messenger-covnersationpart-animation';
        e.innerHTML = html;

        var clearfix = document.createElement('div');
        clearfix.className = 'carrotquest-clearfix';

        var list = document.getElementsByClassName('carrotquest-messenger-conversationpart-ul')[0];
        list.insertBefore(e, list.lastChild);
        list.insertBefore(clearfix, list.lastChild);
        list.scrollTop = list.scrollHeight;
      };
    };

    carrotquest.messenger.offlineMessage = function () {
      if (carrotquest.statusOperators.status == 'offline' && carrotquest.data.app.settings.messenger_show_offline_message) {
        var offlineElement = document.querySelector('#carrotquest-messenger-body li[data-offline-message="1"]');
        if (offlineElement) {
          return;
        }
        var avatar = '<img src="' + carrotquest.data.user.last_admin.avatar + '">';

        var emailRequest = document.createElement('li');
        emailRequest.setAttribute('data-direction', 'a2u-service');
        emailRequest.setAttribute('data-offline-message', '1');
        emailRequest.className = 'carrotquest-messenger-covnersationpart-animation';

        var html = avatar + '<span>' + carrotquest.messenger.bodyReplaceTags(carrotquest.data.app.settings.messenger_offline_message.replace(/(?:\r\n|\r|\n)/g, '<br>')) + '<br>';
        if (carrotquest.data.app.settings.messenger_collection_lead_type == 'email' && !carrotquest.data.user.has_email)
          html += '<input type="email" name="email" id="carrotquest-messenger-autoreply-request" placeholder="' + carrotquest.i18n['enter_email'] + '">';
        else if (carrotquest.data.app.settings.messenger_collection_lead_type == 'phone' && !carrotquest.data.user.has_phone)
          html += '<input type="phone" name="phone" id="carrotquest-messenger-autoreply-request" placeholder="' + carrotquest.i18n['enter_phone'] + '">';

        html += '<div id="carrotquest-messenger-autoreply-request-thanks" >' + carrotquest.i18n['thanks'] + '</div>';
        
        if ((carrotquest.data.app.settings.messenger_collection_lead_type == 'email'&& !carrotquest.data.user.has_email) || (carrotquest.data.app.settings.messenger_collection_lead_type == 'phone' && !carrotquest.data.user.has_phone))
          html += '<input type="button" id="carrotquest-messenger-autoreply-request-ok" value=""></span>';

        emailRequest.innerHTML = html;

        var clearfix = document.createElement('div');
        clearfix.className = 'carrotquest-clearfix';

        var list = document.getElementsByClassName('carrotquest-messenger-conversationpart-ul')[0];
        list.insertBefore(clearfix, list.lastChild);
        list.insertBefore(emailRequest, list.lastChild);
        list.scrollTop = list.scrollHeight;

        if ((carrotquest.data.app.settings.messenger_collection_lead_type == 'email' && !carrotquest.data.user.has_email) || (carrotquest.data.app.settings.messenger_collection_lead_type == 'phone'  && !carrotquest.data.user.has_phone))
          document.getElementById('carrotquest-messenger-autoreply-request-ok').addEventListener('click', carrotquest.messenger._openedEnterCallback);
      }
    }

    carrotquest.messenger._fileupload = function (event) {
      var file = this.files[0];
      if (file) {
        carrotquest.messenger._openedEnterCallback();
        document.getElementById('carrotquest-messenger-reply-fileinput').value = ""
      }
    }
    carrotquest.messenger.errorConverstation = function (text) {
      var html = '';
      html += '<span>' +  text + '</span>';
      
      var errorHTML = document.createElement('div');
      errorHTML.id = 'carrotquest-messenger-conversationpart-error';
      errorHTML.innerHTML = html;
      var list = document.getElementsByClassName('carrotquest-messenger-conversationpart-ul')[0];
      list.insertBefore(errorHTML, list.lastChild);
      
      errorHTML.addEventListener('click', clearError, true);
      
      setTimeout(clearError, 5000)
      
      function clearError() {
        list.removeChild(errorHTML);
      }
      
    }
    
    carrotquest.messenger._socialMessengerButtonToHTML = function (name) {
      var html = '';
      var link = '';
      switch (name) {
        case 'vk': link = 'https://vk.me/'; break;
        case 'viber': link = 'https://chats.viber.com/'; break;
        case 'facebook': link = 'https://m.me/'; break;
        case 'telegram': link = 'https://t.me/'; break;
        
      }
      link += carrotquest.data.app.settings['messenger_icon_' + name + '_text'];
      html += '<a class="carrotquest-social-messenger-button-' + name + '" href="' + link + '" target="_blank">'
      html += '<div class="carrotquest-social-messenger-button-title">' + carrotquest.i18n["button_title_" + name] + '</div>';
      html += '</a>';
      
      return html;
      
    }
    
  };

  carrotquest._setupRealtimeServices = function() {
    carrotquest.realtimeServices = {
      ws: {},
      wss: {},
      lp: {},

      CONN_WAIT_TIMEOUT: 25*1000, // Время ожидания первого коннекта к вебсокетам
      SHORT_POLL_INTERVAL: 3*1000,  // Интервал для short polling
      ERROR_RETRY_INTERVAL: 15*1000, // При ошибке

      // Параметры последнего сообщения
      tag: '',
      time: '',

      reconnectTimeout: null
    };

    carrotquest.realtimeServices.getChannels = function() {
      return [
        'conversation.' + carrotquest.data.app.id + '.' + carrotquest.data.user.id,
        'conversation_reply.' + carrotquest.data.app.id + '.' + carrotquest.data.user.id,
        'conversation_typing.' + carrotquest.data.app.id + '.' + carrotquest.data.user.id,
        'conversation_read.' + carrotquest.data.app.id + '.' + carrotquest.data.user.id,
        'run_script.' + carrotquest.data.app.id + '.' + carrotquest.data.user.id,
        'user_ban.' + carrotquest.data.app.id + '.' + carrotquest.data.user.id
      ];
    }

    // Сразу после carrotquest.connect
    carrotquest.realtimeServices.init = function() {
      carrotquest.realtimeServices.currentModule = carrotquest.realtimeServices.ws;
      carrotquest.realtimeServices.currentModule.connect();
    };

    carrotquest.realtimeServices.reset = function() {
      carrotquest._setCookie('carrotquest_realtime_services_key', '');

      clearTimeout(carrotquest.realtimeServices.reconnectTimeout);

      carrotquest.realtimeServices.currentModule.disconnect();
      carrotquest.realtimeServices.currentModule.connect();
    };

    carrotquest.realtimeServices.onMessage = function(message) {
      carrotquest.messenger.onRealtimeServicesMessage(message.channel, message.message);
    };


    // ----------------------------------------------------------------------------
    // WebSocket
    // ----------------------------------------------------------------------------
    carrotquest.realtimeServices.ws.connect = function() {
      carrotquest.realtimeServices.currentModule = carrotquest.realtimeServices.ws;

      // Downgrade
      if (document.location.protocol == "https:") {
        carrotquest.realtimeServices.wss.connect();
        return;
      }

      if (carrotquest._getCookie('carrotquest_realtime_services_transport') == 'lp' || carrotquest._getCookie('carrotquest_realtime_services_transport') == 'wss') {
        carrotquest.realtimeServices.wss.connect();
        return;
      }
      carrotquest._setCookie('carrotquest_realtime_services_transport', 'ws');

      carrotquest.realtimeServices.ws._request = function() {
        var url = 'ws://' + carrotquest.REALTIME_SERVICES_HOST + '/websocket/' + carrotquest.realtimeServices.getChannels().join('/') + '?auth_token=' + carrotquest._getCookie('carrotquest_auth_token');
        if (carrotquest.realtimeServices.time)
          url += '&time=' + encodeURIComponent(carrotquest.realtimeServices.time) + '&tag=' + carrotquest.realtimeServices.tag;

        carrotquest.realtimeServices.ws.socket = new WebSocket(url);

        carrotquest.realtimeServices.ws.socket.onopen = function() {
          carrotquest.realtimeServices.ws.firstConnection = true;
        };

        carrotquest.realtimeServices.ws.socket.onmessage = function(message) {
          try {
            message = JSON.parse(message.data);
            carrotquest.realtimeServices.tag = message.tag;
            carrotquest.realtimeServices.time = message.time;

            carrotquest.realtimeServices.onMessage(message);
          }
          catch(e) {
            return;
          }
        };

        carrotquest.realtimeServices.ws.socket.onclose = function() {
          if (this._reallyClosed)
            return;
          this._reallyClosed = true;

          if (carrotquest.realtimeServices.ws.firstConnection)
            carrotquest.realtimeServices.reconnectTimeout = setTimeout(carrotquest.realtimeServices.ws._request, carrotquest.realtimeServices.ERROR_RETRY_INTERVAL);
          else
            carrotquest.realtimeServices.wss.connect(); // Downgrade
        };
      };
      carrotquest.realtimeServices.ws._request();
    };

    carrotquest.realtimeServices.ws.disconnect = function() {
      if (carrotquest.realtimeServices.ws.socket) {
        carrotquest.realtimeServices.ws.socket._reallyClosed = true;
        carrotquest.realtimeServices.ws.socket.close();
      }
    }


    // ----------------------------------------------------------------------------
    // WebSocket Secure
    // ----------------------------------------------------------------------------
    carrotquest.realtimeServices.wss.connect = function() {
      carrotquest.realtimeServices.currentModule = carrotquest.realtimeServices.wss;

      // Downgrade
      if (carrotquest._getCookie('carrotquest_realtime_services_transport') == 'lp') {
        carrotquest.realtimeServices.lp.connect();
        return;
      }
      carrotquest._setCookie('carrotquest_realtime_services_transport', 'wss');

      carrotquest.realtimeServices.wss._request = function() {
        var url = 'wss://' + carrotquest.REALTIME_SERVICES_HOST + '/websocket/' + carrotquest.realtimeServices.getChannels().join('/') + '?auth_token=' + carrotquest._getCookie('carrotquest_auth_token');
        if (carrotquest.realtimeServices.time)
          url += '&time=' + encodeURIComponent(carrotquest.realtimeServices.time) + '&tag=' + carrotquest.realtimeServices.tag;

        carrotquest.realtimeServices.wss.socket = new WebSocket(url);

        carrotquest.realtimeServices.wss.socket.onopen = function() {
          carrotquest.realtimeServices.wss.firstConnection = true;
        };

        carrotquest.realtimeServices.wss.socket.onmessage = function(message) {
          try {
            message = JSON.parse(message.data);
            carrotquest.realtimeServices.tag = message.tag;
            carrotquest.realtimeServices.time = message.time;

            carrotquest.realtimeServices.onMessage(message);
          }
          catch(e) {
            return;
          }
        };

        carrotquest.realtimeServices.wss.socket.onclose = function() {
          if (this._reallyClosed)
            return;
          this._reallyClosed = true;

          if (carrotquest.realtimeServices.wss.firstConnection)
            carrotquest.realtimeServices.reconnectTimeout = setTimeout(carrotquest.realtimeServices.wss._request, carrotquest.realtimeServices.ERROR_RETRY_INTERVAL);
          else
            carrotquest.realtimeServices.lp.connect(); // Downgrade
        };
      };
      carrotquest.realtimeServices.wss._request();
    };

    carrotquest.realtimeServices.wss.disconnect = function() {
      if (carrotquest.realtimeServices.wss.socket) {
        carrotquest.realtimeServices.wss.socket._reallyClosed = true;
        carrotquest.realtimeServices.wss.socket.close();
      }
    }


    // ----------------------------------------------------------------------------
    // Long Polling
    // ----------------------------------------------------------------------------
    carrotquest.realtimeServices.lp.connect = function() {
      carrotquest.realtimeServices.currentModule = carrotquest.realtimeServices.lp;
      carrotquest._setCookie('carrotquest_realtime_services_transport', 'lp');

      carrotquest.realtimeServices.lp._request = function() {
        carrotquest.realtimeServices.lp.xhr = new XMLHttpRequest();
        carrotquest.realtimeServices.lp.xhr.onreadystatechange = function() {
          if (this.readyState != 4)
            return;

          if (this._reallyCancelled) return;

          if (this.status == 304) {
            carrotquest.realtimeServices.tag = this.getResponseHeader("ETag");
            carrotquest.realtimeServices.time = this.getResponseHeader("Last-Modified");

            if (document.readyState != 'complete')
              carrotquest.realtimeServices.reconnectTimeout = setTimeout(carrotquest.realtimeServices.lp._request, carrotquest.realtimeServices.SHORT_POLL_INTERVAL);
            else
              carrotquest.realtimeServices.lp._request();
          }
          else if (this.status == 200) {
            var messages = this.responseText.split('\n');
            messages.pop(); // Remove last empty element

            for (var i = 0; i < messages.length; i++) {
              try {
                var message = JSON.parse(messages[i]);
                carrotquest.realtimeServices.onMessage(message);
              }
              catch(e) {
                // Ничего не делать
              }
            };

            carrotquest.realtimeServices.tag = this.getResponseHeader("ETag");
            carrotquest.realtimeServices.time = this.getResponseHeader("Last-Modified");

            if (document.readyState != 'complete')
              carrotquest.realtimeServices.reconnectTimeout = setTimeout(carrotquest.realtimeServices.lp._request, carrotquest.realtimeServices.SHORT_POLL_INTERVAL);
            else
              carrotquest.realtimeServices.lp._request();
          }
          else {
            carrotquest.realtimeServices.reconnectTimeout = setTimeout(carrotquest.realtimeServices.lp._request, carrotquest.realtimeServices.ERROR_RETRY_INTERVAL);
          }
        }

        var url = (document.location.protocol == "https:") ? "https://" : "http://";
        url += carrotquest.REALTIME_SERVICES_HOST;

        if (document.readyState != 'complete')
          url += '/shortpoll/' + carrotquest.realtimeServices.getChannels().join('/') + '?auth_token=' + carrotquest._getCookie('carrotquest_auth_token');
        else
          url += '/longpoll/' + carrotquest.realtimeServices.getChannels().join('/') + '?auth_token=' + carrotquest._getCookie('carrotquest_auth_token');

        if (carrotquest.realtimeServices.tag)
          url += '&tag=' + carrotquest.realtimeServices.tag + '&time=' + encodeURIComponent(carrotquest.realtimeServices.time);

        carrotquest.realtimeServices.lp.xhr.open('GET', url, true);
        carrotquest.realtimeServices.lp.xhr.send();
      };
      carrotquest.realtimeServices.lp._request();
    };

    carrotquest.realtimeServices.lp.disconnect = function() {
      if (carrotquest.realtimeServices.lp.xhr) {
        carrotquest.realtimeServices.lp.xhr._reallyCancelled = true;
        carrotquest.realtimeServices.lp.xhr.abort();
      }
    }

    carrotquest.realtimeServices.init();
  }

  carrotquest._setupAutoEvents = function() {
    carrotquest.autoEvents = {};
    carrotquest.autoEvents.autoEvents = [];
    carrotquest.autoEvents.SCROLL_THRESHOLD = 0.9;  // Событие срабатывает, когда проскроллим 90% страницы

    // Автоматический трекинг
    carrotquest.autoEvents.setupAutoTracking = function() {
      if (carrotquest.data.app.settings.track_emails) {
        function onChangeCallback(event) {
          if (event && event.target && event.target.value
            && event.target.type && event.target.type != 'file') {
            var email = event.target.value.trim();
            if (/\S+@\S+\.\S+/.test(email)) {
              carrotquest.identify({$email: email});
            }
          }
        }

        document.addEventListener('change', onChangeCallback, true);
      }
    };

    // Когда получили автособытия для приложения, распарсить JSON и записать к себе
    carrotquest.autoEvents.setup = function(autoEvents) {
      for (var i = 0; i < autoEvents.length; i++) {
        var decodedAutoEvent = autoEvents[i];
        decodedAutoEvent.params_selectors = JSON.parse(decodedAutoEvent.params_selectors);
        decodedAutoEvent.params = JSON.parse(decodedAutoEvent.params);

        carrotquest.autoEvents.autoEvents.push(decodedAutoEvent);
      };
    };

    // Проверяет, соответствует ли location.href заданному паттерну
    carrotquest.autoEvents._isURLPass = function(pattern, urlContains) {
      function replaceHttp(str) {return str.replace(/(http\:|https\:)/g, "");}
      if (urlContains) {
        // Учитываем посдтраницы и звездочку
        function escapeRegExp(str) {return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");}

        var regex = escapeRegExp(replaceHttp(pattern));
        regex = regex.replace(/\\\*/g, ".*");
        regex = new RegExp(regex, "i");  // Case-insensitive

        return regex.test(replaceHttp(location.href));
      }
      else {
        // Только прямое соответствие
        return replaceHttp(location.href) === replaceHttp(pattern);
      }
    };

    // Вернуть процент скролла (на уровне document.body)
    carrotquest.autoEvents._getBodyScrollPercent = function() {
      var divider = document.body.scrollHeight - window.innerHeight;
      if (divider == 0)
        return 0.0;
      else
        return window.pageYOffset / divider;
    }

    // Когда происходит событие клик, процессим автособытие
    carrotquest.autoEvents._processClick = function(autoEvent, target) {
      // Если указано на какой странице
      if (autoEvent.url && !carrotquest.autoEvents._isURLPass(autoEvent.url, autoEvent.url_contains))
        return;

      // Проверим что нужный элемент
      if (!carrotquest.autoEvents._isElementMatchSelector(target, autoEvent.selector))
        return;


      // Если все хорошо, процессим
      var params = carrotquest.autoEvents._getEventParams(autoEvent);

      if (autoEvent.params_type == 'event')
        carrotquest.track(autoEvent.name, params);
      else if (autoEvent.params_type == 'identify')
        carrotquest.identify(params);
    };

    // Когда изменился урл, процессим автособытие
    carrotquest.autoEvents._processUrl = function(autoEvent) {
      if (!carrotquest.autoEvents._isURLPass(autoEvent.url, autoEvent.url_contains))
        return;

      setTimeout(function() {
        var params = carrotquest.autoEvents._getEventParams(autoEvent);

        if (autoEvent.params_type == 'event')
          carrotquest.track(autoEvent.name, params);
        else if (autoEvent.params_type == 'identify')
          carrotquest.identify(params);
      }, autoEvent.delay*1000);
    };

    // Когда событие скролла, процессим автособытие
    carrotquest.autoEvents._processUrlScroll = function(autoEvent) {
      if (!carrotquest.autoEvents._isURLPass(autoEvent.url, autoEvent.url_contains))
        return;
      if (autoEvent._scrollDone)
        return;

      var currentScroll = carrotquest.autoEvents._getBodyScrollPercent();
      var lastScroll = autoEvent._lastScroll || 0;
      if (currentScroll > carrotquest.autoEvents.SCROLL_THRESHOLD) {
        autoEvent._scrollDone = true;

        setTimeout(function() {
          var params = carrotquest.autoEvents._getEventParams(autoEvent);

          if (autoEvent.params_type == 'event')
            carrotquest.track(autoEvent.name, params);
          else if (autoEvent.params_type == 'identify')
            carrotquest.identify(params);
        }, autoEvent.delay*1000);
      }
    };

    // Когда происходит событие сабмит, процессим автособытие
    carrotquest.autoEvents._processForm = function(autoEvent, target) {
      // Если указано на какой странице
      if (autoEvent.url && !carrotquest.autoEvents._isURLPass(autoEvent.url, autoEvent.url_contains))
        return;

      // Проверим что нужный элемент
      if (!carrotquest.autoEvents._isElementMatchSelector(target, autoEvent.selector))
        return;


      // Если все хорошо, процессим
      var params1 = carrotquest.autoEvents._formToEventParams(target);
      var params2 = carrotquest.autoEvents._getEventParams(autoEvent);

      // Merge two objects
      for (var attrname in params2) { params1[attrname] = params2[attrname]; }

      if (autoEvent.params_type == 'event')
        carrotquest.track(autoEvent.name, params1);
      else if (autoEvent.params_type == 'identify')
        carrotquest.identify(params1);
    }

    // Когда происходит событие изменился инпут, процессим автособытие
    carrotquest.autoEvents._processInput = function(autoEvent, target) {
      // Если указано на какой странице
      if (autoEvent.url && !carrotquest.autoEvents._isURLPass(autoEvent.url, autoEvent.url_contains))
        return;

      // Проверим что нужный элемент
      if (!carrotquest.autoEvents._isElementMatchSelector(target, autoEvent.selector))
        return;


      // Если все хорошо, процессим
      var params = carrotquest.autoEvents._getEventParams(autoEvent);

      // Добавим как свойство то, что ввел пользователь
      thisValue = carrotquest.autoEvents._getValueFromDOMElement(target);
      params[autoEvent.input_key] = thisValue;

      if (autoEvent.params_type == 'event')
        carrotquest.track(autoEvent.name, params);
      else if (autoEvent.params_type == 'identify')
        carrotquest.identify(params);
    };

    // Вытащить правильное значение DOM элемента
    carrotquest.autoEvents._getValueFromDOMElement = function(element) {
      if (element.tagName == 'INPUT' || element.tagName == 'TEXTAREA') {
        if (element.type == 'checkbox' || element.type == 'radio')
          return element.checked;
        else
          return element.value;
      }
      else if (element.tagName == 'SELECT') {
        var options = element.querySelectorAll('option'),
          selected = [];

        for (var i = 0; i < options.length; i++) {
          if (options[i].selected)
            selected.push(options[i].textContent);
        }

        if (selected.length == 1)
          return selected[0];
        else if (selected.length > 1)
          return selected;
      }
      else {
        return element.textContent;
      }
    };

    // Вытащить значения из нужных элементов по свойствам-селекторам
    carrotquest.autoEvents._getParamsFromSelectors = function(autoEvent) {
      var params_selectors = autoEvent.params_selectors,
        result = {};

      for (var key in params_selectors) {
        var selector = params_selectors[key], elements = [];

        var elements = [];
        try {
          elements = document.querySelectorAll(selector);
        }
        catch (e) { }

        if (elements.length == 1) {
          result[key] = carrotquest.autoEvents._getValueFromDOMElement(elements[0]);
        }
        else if (elements.length > 1) {
          var localResults = [];
          for (var i = 0; i < elements.length; i++) {
            // Данному селектору удовлетворяет несколько элементов
            // Каждый из элементов - элемент списка, и каждый элемент должен быть строкой
            // Поэтому нужно насильно преобразовать к строке
            var localResult = carrotquest.autoEvents._getValueFromDOMElement(elements[i]);
            localResult = localResult.toString();

            localResults.push(localResult);
          };

          result[key] = localResults;
        }
      }

      return result;
    };

    // Сконструировать все параметры для события
    carrotquest.autoEvents._getEventParams = function(autoEvent) {
      // Get params from CSS selectors
      var params = carrotquest.autoEvents._getParamsFromSelectors(autoEvent);

      // Merge with user-defined parameters
      var paramsUser = autoEvent.params;
      for (var attrname in paramsUser) {
        params[attrname] = paramsUser[attrname];
      };

      return params;
    }

    // Конвертировать форму в JSON-объект, это будут параметры для события
    carrotquest.autoEvents._formToEventParams = function(formDOMElement) {
      var allChilds = formDOMElement.querySelectorAll('input, textarea, select'),
        childs = [],
        params = {};

      for (var i = 0; i < allChilds.length; i++){
        // Ignore without name and disabled
        if (allChilds[i].name && !allChilds[i].disabled)
          childs.push(allChilds[i]);
      }

      for (var i = 0; i < childs.length; i++) {
        var t = childs[i].type;

        if (childs[i].nodeName == 'INPUT' &&
          (t == 'text' || t == 'number' || t == 'email' || t == 'date' || t == 'datetime' || t == 'datetime-local' ||
          t == 'range' || t == 'month' || t == 'search' || t == 'tel' || t == 'url' || t == 'week' || t == 'time')) {
          params[childs[i].name] = childs[i].value;
        }
        else if (childs[i].nodeName == 'INPUT' && (t == 'checkbox' || t == 'radio') && childs[i].checked) {
          var name = childs[i].name;

          // Если есть label, то подменим имя
          var label = null;
          try {
            var label = document.querySelector('label[for="' + childs[i].id + '"]');
          }
          catch (e) {}

          if (label)
            name = label.textContent;

          params[name] = true;
        }
        else if (childs[i].nodeName == 'SELECT') {
          var options = childs[i].querySelectorAll('option'),
            selected = [];

          for (var j = 0; j < options.length; j++) {
            if (options[j].selected)
              selected.push(options[j].textContent);
          }

          if (selected.length == 1)
            params[childs[i].name] = selected[0]; // Если только 1 выбрано, то уберем массив
          else if (selected.length > 1)
            params[childs[i].name] = selected;
        }
        else if (childs[i].nodeName == 'TEXTAREA') {
          params[childs[i].name] = childs[i].value;
        }
      }

      return params;
    };

    // Возвращает true, если element удвоалетворяет CSS-селектору selector
    carrotquest.autoEvents._isElementMatchSelector = function(element, selector) {
      try {
        var nodeList = document.querySelectorAll(selector);

        for (var i = 0; i < nodeList.length; i++) {
          if (nodeList[i] == element)
            return true;
        }
      }
      catch (e) { }  // Если селектор некорректный, то вернется false

      return false;
    }

    carrotquest.autoEvents._clickEventCallback = function(event) {
      for (var i = 0; i < carrotquest.autoEvents.autoEvents.length; i++) {
        if (carrotquest.autoEvents.autoEvents[i].type == 'click')
          carrotquest.autoEvents._processClick(carrotquest.autoEvents.autoEvents[i], event.target);
      };
    };

    carrotquest.autoEvents._changeEventCallback = function(event) {
      for (var i = 0; i < carrotquest.autoEvents.autoEvents.length; i++) {
        if (carrotquest.autoEvents.autoEvents[i].type == 'input')
          carrotquest.autoEvents._processInput(carrotquest.autoEvents.autoEvents[i], event.target);
      };
    };

    carrotquest.autoEvents._submitEventCallback = function(event) {
      for (var i = 0; i < carrotquest.autoEvents.autoEvents.length; i++) {
        if (carrotquest.autoEvents.autoEvents[i].type == 'form')
          carrotquest.autoEvents._processForm(carrotquest.autoEvents.autoEvents[i], event.target);
      };
    };

    carrotquest.autoEvents._scrollEventCallback = function(event) {
      for (var i = 0; i < carrotquest.autoEvents.autoEvents.length; i++) {
        if (carrotquest.autoEvents.autoEvents[i].type == 'url_scroll')
          carrotquest.autoEvents._processUrlScroll(carrotquest.autoEvents.autoEvents[i]);
      };
    };

    carrotquest.autoEvents._URLChangeCallback = function() {
      for (var i = 0; i < carrotquest.autoEvents.autoEvents.length; i++) {
        if (carrotquest.autoEvents.autoEvents[i].type == 'url')
          carrotquest.autoEvents._processUrl(carrotquest.autoEvents.autoEvents[i]);
      };
    };

    //carrotquest.autoEvents._URLChangeCallback();
    document.addEventListener('change', carrotquest.autoEvents._changeEventCallback, true);
    document.addEventListener('submit', carrotquest.autoEvents._submitEventCallback, true);
    document.addEventListener('click', carrotquest.autoEvents._clickEventCallback, true);
    document.addEventListener('scroll', carrotquest.autoEvents._scrollEventCallback, true);
  };

  carrotquest._hasClass = function (ele, cls) {
    return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
  }

  carrotquest._addClass = function(ele, cls) {
    if (!carrotquest._hasClass(ele,cls)) ele.className += " " + cls;
  }

  carrotquest._removeClass = function(ele, cls) {
    if (carrotquest._hasClass(ele,cls)) {
      var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
      ele.className=ele.className.replace(reg,' ');
    }
  }

  carrotquest._toggleClass = function(ele, cls) {
    if (carrotquest._hasClass(ele, cls))
      carrotquest._removeClass(ele,cls)
    else
      carrotquest._addClass(ele,cls);
  }

  carrotquest._escapeRegExp = function(str) {
    return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&");
  };

  carrotquest._isTouchDevice = function() {
    return 'ontouchstart' in window || 'onmsgesturechange' in window;
  }

  carrotquest.pad = function(num, size) {
    return ('000000000' + num).substr(-size);
  }

  carrotquest.open = function() {
    if (carrotquest.failed) return;
    if (!carrotquest.ready || carrotquest._waitingAuth) {
      setTimeout(function() {carrotquest.open();}, 300); return;
    }

    if (carrotquest.messenger.state == 'no' || carrotquest.messenger.state == 'collapsed') {
      if (carrotquest.messenger.state == 'collapsed')
        carrotquest.messenger.toStateNo();

      carrotquest.messenger._collapsedClick();
    }
  }

  carrotquest.openMessenger = function() {
    // Обратная совместимость
    carrotquest.open();
  }

  carrotquest.trackMessageInteraction = function(sendingId, type) {
    if (type == 'read' || type == 'replied' || type == 'clicked') {
      var params = {
        sending_id: sendingId,
        type: type
      };
      carrotquest.ajaxApiRequest('POST', '/messages/trackinteraction', params, function(response) {
      });
    }
    else {
      console.error('carrotquest.trackMessageInteraction: invalid type "' + type + '"');
    }
  }

  carrotquest.track = function(event, params) {
    if (carrotquest.failed) return;
    if (!carrotquest.ready || carrotquest._waitingAuth) {
      setTimeout(function() {carrotquest.track(event, params);}, 300); return;
    }
    params = params || {};

    carrotquest.ajaxApiRequest('POST', '/users/$self_user/events', {event: event, params: JSON.stringify(params)}, function(response) {
      if (!response.meta.already_done) {
        carrotquest.fireCallback('event_tracked', {
          id: response.data.id,
          event: event
        });
      };
    });
  };

  carrotquest.identify = function(data) {
    if (carrotquest.failed) return;
    if (!carrotquest.ready || carrotquest._waitingAuth) {
      setTimeout(function() {carrotquest.identify(data);}, 300); return;
    }
    data = data || {};

    if (Object.prototype.toString.call(data) == '[object Object]') {
      // Convert to array
      newData = [];
      for (var key in data)
        newData.push({op: 'update_or_create', key: key, value: data[key]})
      data = newData;
    };

    carrotquest.ajaxApiRequest('POST', '/users/$self_user/props', {
      //app: '$self_app',
      operations: JSON.stringify(data)
    });
  };

  carrotquest.auth = function(userId, hash) {
    if (carrotquest.failed) return;
    if (!carrotquest.ready || carrotquest._waitingAuth) {
      setTimeout(function() {carrotquest.auth(userId, hash);}, 300); return;
    };

    carrotquest._waitingAuth = true;

    carrotquest.ajaxApiRequest('POST', '/auth/userappauth', {user_id: userId, hash: hash}, function(response) {
      if (response.data.merge_result == 'user_changing') {
        // Change user
        carrotquest._changeUser(response.data.user, response.data.auth_token);
      }

      carrotquest._waitingAuth = false;
    }, function(response) { carrotquest._waitingAuth = false; });
  };

  carrotquest.onReady = function(func) {
    carrotquest.onReadyCallbacks.push(func);

    // Если уже готов, выполним сразу
    // Иначе будет выполнено когда все загружено
    if (carrotquest.ready) {
      func();
    }
  };

  carrotquest.addCallback = function(topic, callback) {
    carrotquest.callbacks.push({topic: topic, callback: callback});
  };

  carrotquest.removeCallback = function(topic, callback) {
    for (var i = carrotquest.callbacks.length-1; i >= 0; i--) {
      if (carrotquest.callbacks[i].topic == topic && carrotquest.callbacks[i].callback == callback) {
        carrotquest.callbacks.splice(i, 1);
      }
    }
  };

  carrotquest.fireCallback = function(topic, data) {
    if (!data) data = {};

    setTimeout(function() {
      for (var i = 0; i < carrotquest.callbacks.length; i++) {
        if (carrotquest.callbacks[i].topic == topic) {
          try {
            carrotquest.callbacks[i].callback(data);
          }
          catch (e) {
          }
        }
      }
    }, 0);
  };

  carrotquest.checkStatusOperators = function (callback) {
    if (Math.round((new Date()).getTime() / 1000) - 900 > carrotquest.statusOperators.date) {
      carrotquest.ajaxApiRequest('GET', '/utils/getstatusoperator', {}, function (response) {
        carrotquest.statusOperators = { 'status': response.data.status, date: Math.round((new Date()).getTime() / 1000) };
        startCallback(callback);
      });
    } else {
      startCallback(callback)
    }
    function startCallback(callback) {
      if (callback != undefined)
        callback();
    }
  }

  carrotquest._changeUser = function(user, authToken) {
    // Получен новый carrotquest user_id, надо поменять все

    // data
    carrotquest.data.user = user;
    carrotquest.data.auth_token = authToken;

    // Cookies
    carrotquest._setCookie('carrotquest_uid', carrotquest.data.user.id, carrotquest.COOKIE_LIFETIME);
    carrotquest._setCookie('carrotquest_auth_token', carrotquest.data.auth_token, carrotquest.COOKIE_LIFETIME);

    // Status tracking
    carrotquest.statusTracking.reset();

    // Realtime services
    carrotquest.realtimeServices.reset();

    // Messenger
    carrotquest.messenger.reset();

    // onReadyCallbacks process
    for (var i = 0; i < carrotquest.onReadyCallbacks.length; i++) {
      try {
        carrotquest.onReadyCallbacks[i]();
      }
      catch (e) {
        // Do nothing
      }
    }
  }

  carrotquest.ajaxApiRequest = function(method, url, data, success, fail, withCredentials, _nonce)  {
    function generateNonce() {
      // Generate random string
      var text = "", possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", NONCE_LENGTH = 32;
      for (var i = 0; i < NONCE_LENGTH; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));

      return text;
    }

    function saveToLocalStorage() {
      if (url != '/users/$self_user/events' && url != '/users/$self_user/props') return;

      var requests = JSON.parse(carrotquest._getLocalStorage('carrotquest_requests') || "[]");
      requests.push({method: method, url: url, data: data, withCredentials: withCredentials, _nonce: _nonce})
      carrotquest._setLocalStorage('carrotquest_requests', JSON.stringify(requests));
    }

    function deleteFromLocalStorage() {
      var requests = JSON.parse(carrotquest._getLocalStorage('carrotquest_requests') || "[]");

      for (var i = 0; i < requests.length; i++) {
        if (requests[i]._nonce == _nonce) {
          requests.splice(i, 1);
          i--;
        }
      }
     carrotquest._setLocalStorage('carrotquest_requests', JSON.stringify(requests));
    }

    withCredentials = withCredentials || false;
    _nonce = _nonce || generateNonce();
    saveToLocalStorage();

    var xhr = new XMLHttpRequest();
    var contentType = 'application/x-www-form-urlencoded';
    xhr.onreadystatechange = function() {
      if (xhr.readyState == 4) {
        if (xhr.status == 0) return;

        deleteFromLocalStorage();

        var response = JSON.parse(xhr.responseText);
        if (xhr.status == 200 && response.meta.status == 200) {
          if (typeof(success) === "function") success(response);
        }
        else {
          if (typeof(fail) === "function") fail(response);
        }
      }
    }
    var encodedData = "";
    data = data || {};

    if (url == '/users/$self_user/events' || url == '/users/$self_user/props') {
      data._nonce = _nonce;
    }

    if (method == 'POST') {
      data['auth_token'] = carrotquest._getCookie('carrotquest_auth_token');
    }
    if (window.FormData == undefined) {
      for (var key in data) encodedData += "&" + encodeURIComponent(key) + "=" + encodeURIComponent(data[key])
      encodedData = encodedData.substring(1);
    } else {
      encodedData = new FormData();
      for (var key in data) {
        encodedData.append(key, data[key]);
      }
    }

    if (method == 'GET') {
      if (encodedData.length > 0)
        url = carrotquest.API_BASE + url + '?' + encodedData + '&auth_token=' + carrotquest._getCookie('carrotquest_auth_token');
      else
        url = carrotquest.API_BASE + url + '?auth_token=' + carrotquest._getCookie('carrotquest_auth_token');

      encodedData = "";
    }
    else if (method == 'POST') {
      url = carrotquest.API_BASE + url;
    }

    xhr.open(method, url, true);
    //xhr.withCredentials = withCredentials;
    //xhr.setRequestHeader('Content-type', contentType);
    xhr.send(encodedData);
 
  }

  carrotquest._collect = function(operation, key, value) {
    var xhr = new XMLHttpRequest();
    xhr.open('POST', carrotquest.STATS_WEB_COLLECTOR + '/collect', true);
    xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');
    xhr.send('operation=' + operation + '&key=' + key + '&value=' + value);
  }
  carrotquest.removeChat = function () {
    carrotquest.data.app.settings.messenger_mode = 'hidden';
    carrotquest.messenger.toStateNo()
  } 
  carrotquest._linkify = function(text) {
    /*!
     * JavaScript Linkify - v0.3 - 6/27/2009
     * http://benalman.com/projects/javascript-linkify/
     *
     * Copyright (c) 2009 "Cowboy" Ben Alman
     * Dual licensed under the MIT and GPL licenses.
     * http://benalman.com/about/license/
     *
     * Some regexps adapted from http://userscripts.org/scripts/review/7122
     */

    var
      SCHEME = "[a-z\\d.-]+://",
      IPV4 = "(?:(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}(?:[0-9]|[1-9]\\d|1\\d{2}|2[0-4]\\d|25[0-5])",
      HOSTNAME = "(?:(?:[^\\s!@#$%^&*()_=+[\\]{}\\\\|;:'\",.<>/?]+)\\.)+",
      TLD = "(?:ac|ad|aero|ae|af|ag|ai|al|am|an|ao|aq|arpa|ar|asia|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|biz|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|cat|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|coop|com|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|edu|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gov|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|info|int|in|io|iq|ir|is|it|je|jm|jobs|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mil|mk|ml|mm|mn|mobi|mo|mp|mq|mr|ms|mt|museum|mu|mv|mw|mx|my|mz|name|na|nc|net|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|org|pa|pe|pf|pg|ph|pk|pl|pm|pn|pro|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sy|sz|tc|td|tel|tf|tg|th|tj|tk|tl|tm|tn|to|tp|travel|tr|tt|tv|tw|tz|ua|ug|uk|um|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|xn--0zwm56d|xn--11b5bs3a9aj6g|xn--80akhbyknj4f|xn--9t4b11yi5a|xn--deba0ad|xn--g6w251d|xn--hgbk6aj7f53bba|xn--hlcj6aya9esc7a|xn--jxalpdlp|xn--kgbechtv|xn--zckzah|ye|yt|yu|za|zm|zw)",
      HOST_OR_IP = "(?:" + HOSTNAME + TLD + "|" + IPV4 + ")",
      PATH = "(?:[;/][^#?<>\\s]*)?",
      QUERY_FRAG = "(?:\\?[^#<>\\s]*)?(?:#[^<>\\s]*)?",
      URI1 = "\\b" + SCHEME + "[^<>\\s]+",
      URI2 = "\\b" + HOST_OR_IP + PATH + QUERY_FRAG + "(?!\\w)",

      MAILTO = "mailto:",
      EMAIL = "(?:" + MAILTO + ")?[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@" + HOST_OR_IP + QUERY_FRAG + "(?!\\w)",

      URI_RE = new RegExp( "(?:" + URI1 + "|" + URI2 + "|" + EMAIL + ")", "ig" ),
      SCHEME_RE = new RegExp( "^" + SCHEME, "i" ),

      quotes = {
        "'": "`",
        '>': '<',
        ')': '(',
        ']': '[',
        '}': '{',
        '»': '«',
        '›': '‹'
      },

      default_options = {
        callback: function( text, href ) {
          return href ? '<a href="' + href + '" title="' + href + '" target="_blank">' + text + '</a>' : text;
        },
        punct_regexp: /(?:[!?.,:;'"]|(?:&|&amp;)(?:lt|gt|quot|apos|raquo|laquo|rsaquo|lsaquo);)$/
      };

    function _process(txt, options) {
      options = options || {};

      // Temp variables.
      var arr,
        i,
        link,
        href,

        // Output HTML.
        html = '',

        // Store text / link parts, in order, for re-combination.
        parts = [],

        // Used for keeping track of indices in the text.
        idx_prev,
        idx_last,
        idx,
        link_last,

        // Used for trimming trailing punctuation and quotes from links.
        matches_begin,
        matches_end,
        quote_begin,
        quote_end;

      // Initialize options.
      for (i in default_options) {
        if (options[i] === undefined) {
          options[i] = default_options[i];
        }
      }

      // Find links.
      while (arr = URI_RE.exec(txt)) {
        link = arr[0];
        idx_last = URI_RE.lastIndex;
        idx = idx_last - link.length;

        // Not a link if preceded by certain characters.
        if (/[\/:]/.test(txt.charAt(idx - 1))) {
          continue;
        }

        // Trim trailing punctuation.
        do {
          // If no changes are made, we don't want to loop forever!
          link_last = link;

          quote_end = link.substr(-1);
          quote_begin = quotes[ quote_end ];

          // Ending quote character?
          if (quote_begin) {
            matches_begin = link.match(new RegExp('\\' + quote_begin + '(?!$)', 'g'));
            matches_end = link.match(new RegExp('\\' + quote_end, 'g'));

            // If quotes are unbalanced, remove trailing quote character.
            if ((matches_begin ? matches_begin.length : 0) < (matches_end ? matches_end.length : 0)) {
              link = link.substr(0, link.length - 1);
              idx_last--;
            }
          }

          // Ending non-quote punctuation character?
          if (options.punct_regexp) {
            link = link.replace(options.punct_regexp, function(a){
              idx_last -= a.length;
              return '';
            });
          }
        } while (link.length && link !== link_last);

        href = link;

        // Add appropriate protocol to naked links.
        if (!SCHEME_RE.test(href)) {
          href = (href.indexOf('@') !== -1 ? (!href.indexOf(MAILTO) ? '' : MAILTO)
              : !href.indexOf('irc.') ? 'irc://'
              : !href.indexOf('ftp.') ? 'ftp://'
              : 'http://')
            + href;
        }

        // Push preceding non-link text onto the array.
        if (idx_prev != idx) {
          parts.push([txt.slice(idx_prev, idx)]);
          idx_prev = idx_last;
        }

        // Push massaged link onto the array
        parts.push([link, href]);
      };

      // Push remaining non-link text onto the array.
      parts.push([txt.substr(idx_prev)]);

      // Process the array items.
      for (i = 0; i < parts.length; i++) {
        html += options.callback.apply(window, parts[i]);
      }

      // In case of catastrophic failure, return the original text;
      return html || txt;
    }

    return _process(text);
  }
  carrotquest._markread = function (id) {
    document.title = carrotquest.page_titel;
    carrotquest.ajaxApiRequest('POST', '/conversations/' + id + '/markread');
  }


// Auto-discover old API
  window.carrotquestasync = window.carrotquestasync || [];
  for (var i = 0; i < window.carrotquestasync.length; i += 2) {
    if (typeof(carrotquest[window.carrotquestasync[i]]) === 'function') {
      carrotquest[window.carrotquestasync[i]].apply(null, window.carrotquestasync[i+1]);
    }
    else {
      console.error("carrotquest: unknown method '" + window.carrotquestasync[i] + "'.");
    }
  }

  delete window.carrotquestasync;


// Autodiscover New API
  window._carrotquestasyncapi = window.carrotquestasyncapi || [];

// Async API emulation
  window.carrotquestasyncapi = {
    push: function(args) {
      if (Object.prototype.toString.call(args) !== '[object Array]') {
        console.error("carrotquest: wrong async API queue item: " + args.toString());
        return;
      }

      if (args.length == 0) {
        console.error("carrotquest: wrong async API queue item: " + args.toString());
      }
      return;

      var method = args[0];
      args.splice(0, 1);

      if (typeof(carrotquest[method]) === 'function') {
        try {
          carrotquest[method].apply(null, args);
        }
        catch (e) {
          // Do nothing
        }
      }
      else {
        console.error("carrotquest: unknown method '" + method + "'.");
      }
    }
  }

// Process queue
  for (var i = 0; i < window._carrotquestasyncapi.length; i++) {
    window.carrotquestasyncapi.push(window._carrotquestasyncapi[i]);
  }

  delete window._carrotquestasyncapi;

} // check for bot

window['carrotquestCheckIsTrackable'] = undefined;
try { delete window['carrotquestCheckIsTrackable']; } catch(e) {}
